var HA=Object.defineProperty;var qA=(t,e,n)=>e in t?HA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(qA(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wp(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Rt={},go=[],Kn=()=>{},WA=()=>!1,Hc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Tp=t=>t.startsWith("onUpdate:"),Zt=Object.assign,Ep=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zA=Object.prototype.hasOwnProperty,ft=(t,e)=>zA.call(t,e),je=Array.isArray,vo=t=>Vl(t)==="[object Map]",qc=t=>Vl(t)==="[object Set]",Bg=t=>Vl(t)==="[object Date]",Qe=t=>typeof t=="function",Vt=t=>typeof t=="string",qs=t=>typeof t=="symbol",Et=t=>t!==null&&typeof t=="object",b0=t=>(Et(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),w0=Object.prototype.toString,Vl=t=>w0.call(t),GA=t=>Vl(t).slice(8,-1),T0=t=>Vl(t)==="[object Object]",Ap=t=>Vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Da=wp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},YA=/-(\w)/g,Hr=Wc(t=>t.replace(YA,(e,n)=>n?n.toUpperCase():"")),KA=/\B([A-Z])/g,ji=Wc(t=>t.replace(KA,"-$1").toLowerCase()),zc=Wc(t=>t.charAt(0).toUpperCase()+t.slice(1)),ff=Wc(t=>t?`on${zc(t)}`:""),Ws=(t,e)=>!Object.is(t,e),ju=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},el=t=>{const e=parseFloat(t);return isNaN(e)?t:e},QA=t=>{const e=Vt(t)?Number(t):NaN;return isNaN(e)?t:e};let jg;const E0=()=>jg||(jg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xn(t){if(je(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Vt(r)?eS(r):xn(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Vt(t)||Et(t))return t}const XA=/;(?![^(]*\))/g,JA=/:([^]+)/,ZA=/\/\*[^]*?\*\//g;function eS(t){const e={};return t.replace(ZA,"").split(XA).forEach(n=>{if(n){const r=n.split(JA);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ve(t){let e="";if(Vt(t))e=t;else if(je(t))for(let n=0;n<t.length;n++){const r=Ve(t[n]);r&&(e+=r+" ")}else if(Et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Xt(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Vt(e)&&(t.class=Ve(e)),n&&(t.style=xn(n)),t}const tS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nS=wp(tS);function A0(t){return!!t||t===""}function rS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Gc(t[r],e[r]);return n}function Gc(t,e){if(t===e)return!0;let n=Bg(t),r=Bg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=qs(t),r=qs(e),n||r)return t===e;if(n=je(t),r=je(e),n||r)return n&&r?rS(t,e):!1;if(n=Et(t),r=Et(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Gc(t[o],e[o]))return!1}}return String(t)===String(e)}function sS(t,e){return t.findIndex(n=>Gc(n,e))}const Le=t=>Vt(t)?t:t==null?"":je(t)||Et(t)&&(t.toString===w0||!Qe(t.toString))?JSON.stringify(t,S0,2):String(t),S0=(t,e)=>e&&e.__v_isRef?S0(t,e.value):vo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[hf(r,i)+" =>"]=s,n),{})}:qc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>hf(n))}:qs(e)?hf(e):Et(e)&&!je(e)&&!T0(e)?String(e):e,hf=(t,e="")=>{var n;return qs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Un;class x0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Un;try{return Un=this,e()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function I0(t){return new x0(t)}function iS(t,e=Un){e&&e.active&&e.effects.push(t)}function Sp(){return Un}function C0(t){Un&&Un.cleanups.push(t)}let xi;class xp{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,iS(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Hi();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(oS(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),qi()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Ns,n=xi;try{return Ns=!0,xi=this,this._runnings++,Hg(this),this.fn()}finally{qg(this),this._runnings--,xi=n,Ns=e}}stop(){var e;this.active&&(Hg(this),qg(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function oS(t){return t.value}function Hg(t){t._trackId++,t._depsLength=0}function qg(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)P0(t.deps[e],t);t.deps.length=t._depsLength}}function P0(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Ns=!0,ch=0;const R0=[];function Hi(){R0.push(Ns),Ns=!1}function qi(){const t=R0.pop();Ns=t===void 0?!0:t}function Ip(){ch++}function Cp(){for(ch--;!ch&&dh.length;)dh.shift()()}function k0(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&P0(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const dh=[];function D0(t,e,n){Ip();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&dh.push(r.scheduler)))}Cp()}const O0=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},sc=new WeakMap,Ii=Symbol(""),fh=Symbol("");function Fn(t,e,n){if(Ns&&xi){let r=sc.get(t);r||sc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=O0(()=>r.delete(n))),k0(xi,s)}}function os(t,e,n,r,s,i){const o=sc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&je(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!qs(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":je(t)?Ap(n)&&a.push(o.get("length")):(a.push(o.get(Ii)),vo(t)&&a.push(o.get(fh)));break;case"delete":je(t)||(a.push(o.get(Ii)),vo(t)&&a.push(o.get(fh)));break;case"set":vo(t)&&a.push(o.get(Ii));break}Ip();for(const l of a)l&&D0(l,4);Cp()}function aS(t,e){var n;return(n=sc.get(t))==null?void 0:n.get(e)}const lS=wp("__proto__,__v_isRef,__isVue"),M0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qs)),Wg=uS();function uS(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=at(this);for(let i=0,o=this.length;i<o;i++)Fn(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(at)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Hi(),Ip();const r=at(this)[e].apply(this,n);return Cp(),qi(),r}}),t}function cS(t){const e=at(this);return Fn(e,"has",t),e.hasOwnProperty(t)}class N0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?ES:F0:i?$0:L0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=je(e);if(!s){if(o&&ft(Wg,n))return Reflect.get(Wg,n,r);if(n==="hasOwnProperty")return cS}const a=Reflect.get(e,n,r);return(qs(n)?M0.has(n):lS(n))||(s||Fn(e,"get",n),i)?a:ht(a)?o&&Ap(n)?a:a.value:Et(a)?s?kp(a):en(a):a}}class V0 extends N0{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=xo(i);if(!ic(r)&&!xo(r)&&(i=at(i),r=at(r)),!je(e)&&ht(i)&&!ht(r))return l?!1:(i.value=r,!0)}const o=je(e)&&Ap(n)?Number(n)<e.length:ft(e,n),a=Reflect.set(e,n,r,s);return e===at(s)&&(o?Ws(r,i)&&os(e,"set",n,r):os(e,"add",n,r)),a}deleteProperty(e,n){const r=ft(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&os(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!qs(n)||!M0.has(n))&&Fn(e,"has",n),r}ownKeys(e){return Fn(e,"iterate",je(e)?"length":Ii),Reflect.ownKeys(e)}}class dS extends N0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const fS=new V0,hS=new dS,pS=new V0(!0),Pp=t=>t,Yc=t=>Reflect.getPrototypeOf(t);function pu(t,e,n=!1,r=!1){t=t.__v_raw;const s=at(t),i=at(e);n||(Ws(e,i)&&Fn(s,"get",e),Fn(s,"get",i));const{has:o}=Yc(s),a=r?Pp:n?Op:tl;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function mu(t,e=!1){const n=this.__v_raw,r=at(n),s=at(t);return e||(Ws(t,s)&&Fn(r,"has",t),Fn(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function gu(t,e=!1){return t=t.__v_raw,!e&&Fn(at(t),"iterate",Ii),Reflect.get(t,"size",t)}function zg(t){t=at(t);const e=at(this);return Yc(e).has.call(e,t)||(e.add(t),os(e,"add",t,t)),this}function Gg(t,e){e=at(e);const n=at(this),{has:r,get:s}=Yc(n);let i=r.call(n,t);i||(t=at(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Ws(e,o)&&os(n,"set",t,e):os(n,"add",t,e),this}function Yg(t){const e=at(this),{has:n,get:r}=Yc(e);let s=n.call(e,t);s||(t=at(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&os(e,"delete",t,void 0),i}function Kg(){const t=at(this),e=t.size!==0,n=t.clear();return e&&os(t,"clear",void 0,void 0),n}function vu(t,e){return function(r,s){const i=this,o=i.__v_raw,a=at(o),l=e?Pp:t?Op:tl;return!t&&Fn(a,"iterate",Ii),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function yu(t,e,n){return function(...r){const s=this.__v_raw,i=at(s),o=vo(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),c=n?Pp:e?Op:tl;return!e&&Fn(i,"iterate",l?fh:Ii),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function ms(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mS(){const t={get(i){return pu(this,i)},get size(){return gu(this)},has:mu,add:zg,set:Gg,delete:Yg,clear:Kg,forEach:vu(!1,!1)},e={get(i){return pu(this,i,!1,!0)},get size(){return gu(this)},has:mu,add:zg,set:Gg,delete:Yg,clear:Kg,forEach:vu(!1,!0)},n={get(i){return pu(this,i,!0)},get size(){return gu(this,!0)},has(i){return mu.call(this,i,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:vu(!0,!1)},r={get(i){return pu(this,i,!0,!0)},get size(){return gu(this,!0)},has(i){return mu.call(this,i,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:vu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=yu(i,!1,!1),n[i]=yu(i,!0,!1),e[i]=yu(i,!1,!0),r[i]=yu(i,!0,!0)}),[t,n,e,r]}const[gS,vS,yS,_S]=mS();function Rp(t,e){const n=e?t?_S:yS:t?vS:gS;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ft(n,s)&&s in r?n:r,s,i)}const bS={get:Rp(!1,!1)},wS={get:Rp(!1,!0)},TS={get:Rp(!0,!1)},L0=new WeakMap,$0=new WeakMap,F0=new WeakMap,ES=new WeakMap;function AS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SS(t){return t.__v_skip||!Object.isExtensible(t)?0:AS(GA(t))}function en(t){return xo(t)?t:Dp(t,!1,fS,bS,L0)}function U0(t){return Dp(t,!1,pS,wS,$0)}function kp(t){return Dp(t,!0,hS,TS,F0)}function Dp(t,e,n,r,s){if(!Et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=SS(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Mr(t){return xo(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function xo(t){return!!(t&&t.__v_isReadonly)}function ic(t){return!!(t&&t.__v_isShallow)}function B0(t){return Mr(t)||xo(t)}function at(t){const e=t&&t.__v_raw;return e?at(e):t}function Kc(t){return Object.isExtensible(t)&&rc(t,"__v_skip",!0),t}const tl=t=>Et(t)?en(t):t,Op=t=>Et(t)?kp(t):t;class j0{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new xp(()=>e(this._value),()=>Hu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=at(this);return(!e._cacheable||e.effect.dirty)&&Ws(e._value,e._value=e.effect.run())&&Hu(e,4),H0(e),e.effect._dirtyLevel>=2&&Hu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function xS(t,e,n=!1){let r,s;const i=Qe(t);return i?(r=t,s=Kn):(r=t.get,s=t.set),new j0(r,s,i||!s,n)}function H0(t){var e;Ns&&xi&&(t=at(t),k0(xi,(e=t.dep)!=null?e:t.dep=O0(()=>t.dep=void 0,t instanceof j0?t:void 0)))}function Hu(t,e=4,n){t=at(t);const r=t.dep;r&&D0(r,e)}function ht(t){return!!(t&&t.__v_isRef===!0)}function le(t){return q0(t,!1)}function Mp(t){return q0(t,!0)}function q0(t,e){return ht(t)?t:new IS(t,e)}class IS{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:at(e),this._value=n?e:tl(e)}get value(){return H0(this),this._value}set value(e){const n=this.__v_isShallow||ic(e)||xo(e);e=n?e:at(e),Ws(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:tl(e),Hu(this,4))}}function m(t){return ht(t)?t.value:t}function At(t){return Qe(t)?t():m(t)}const CS={get:(t,e,n)=>m(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ht(s)&&!ht(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function W0(t){return Mr(t)?t:new Proxy(t,CS)}function PS(t){const e=je(t)?new Array(t.length):{};for(const n in t)e[n]=z0(t,n);return e}class RS{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aS(at(this._object),this._key)}}class kS{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function nl(t,e,n){return ht(t)?t:Qe(t)?new kS(t):Et(t)&&arguments.length>1?z0(t,e,n):le(t)}function z0(t,e,n){const r=t[e];return ht(r)?r:new RS(t,e,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vs(t,e,n,r){try{return r?t(...r):t()}catch(s){Qc(s,e,n)}}function Qn(t,e,n,r){if(Qe(t)){const i=Vs(t,e,n,r);return i&&b0(i)&&i.catch(o=>{Qc(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Qn(t[i],e,n,r));return s}function Qc(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Vs(l,null,10,[t,o,a]);return}}DS(t,n,s,r)}function DS(t,e,n,r=!0){console.error(t)}let rl=!1,hh=!1;const Sn=[];let Ar=0;const yo=[];let As=null,pi=0;const G0=Promise.resolve();let Np=null;function St(t){const e=Np||G0;return t?e.then(this?t.bind(this):t):e}function OS(t){let e=Ar+1,n=Sn.length;for(;e<n;){const r=e+n>>>1,s=Sn[r],i=sl(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Vp(t){(!Sn.length||!Sn.includes(t,rl&&t.allowRecurse?Ar+1:Ar))&&(t.id==null?Sn.push(t):Sn.splice(OS(t.id),0,t),Y0())}function Y0(){!rl&&!hh&&(hh=!0,Np=G0.then(Q0))}function MS(t){const e=Sn.indexOf(t);e>Ar&&Sn.splice(e,1)}function NS(t){je(t)?yo.push(...t):(!As||!As.includes(t,t.allowRecurse?pi+1:pi))&&yo.push(t),Y0()}function Qg(t,e,n=rl?Ar+1:0){for(;n<Sn.length;n++){const r=Sn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Sn.splice(n,1),n--,r()}}}function K0(t){if(yo.length){const e=[...new Set(yo)].sort((n,r)=>sl(n)-sl(r));if(yo.length=0,As){As.push(...e);return}for(As=e,pi=0;pi<As.length;pi++)As[pi]();As=null,pi=0}}const sl=t=>t.id==null?1/0:t.id,VS=(t,e)=>{const n=sl(t)-sl(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Q0(t){hh=!1,rl=!0,Sn.sort(VS);try{for(Ar=0;Ar<Sn.length;Ar++){const e=Sn[Ar];e&&e.active!==!1&&Vs(e,null,14)}}finally{Ar=0,Sn.length=0,K0(),rl=!1,Np=null,(Sn.length||yo.length)&&Q0()}}function LS(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Rt;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||Rt;f&&(s=n.map(h=>Vt(h)?h.trim():h)),d&&(s=n.map(el))}let a,l=r[a=ff(e)]||r[a=ff(Hr(e))];!l&&i&&(l=r[a=ff(ji(e))]),l&&Qn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Qn(u,t,6,s)}}function X0(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Qe(t)){const l=u=>{const c=X0(u,e,!0);c&&(a=!0,Zt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Et(t)&&r.set(t,null),null):(je(i)?i.forEach(l=>o[l]=null):Zt(o,i),Et(t)&&r.set(t,o),o)}function Xc(t,e){return!t||!Hc(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,ji(e))||ft(t,e))}let Jt=null,J0=null;function oc(t){const e=Jt;return Jt=t,J0=t&&t.type.__scopeId||null,e}function Fe(t,e=Jt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&cv(-1);const i=oc(e);let o;try{o=t(...s)}finally{oc(i),r._d&&cv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function pf(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:y}=t;let S,R;const k=oc(t);try{if(n.shapeFlag&4){const g=s||r,P=g;S=Tr(c.call(P,g,d,i,h,f,p)),R=l}else{const g=e;S=Tr(g.length>1?g(i,{attrs:l,slots:a,emit:u}):g(i,null)),R=e.props?l:$S(l)}}catch(g){La.length=0,Qc(g,t,1),S=qe(Jn)}let C=S;if(R&&y!==!1){const g=Object.keys(R),{shapeFlag:P}=C;g.length&&P&7&&(o&&g.some(Tp)&&(R=FS(R,o)),C=zs(C,R))}return n.dirs&&(C=zs(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),S=C,oc(k),S}const $S=t=>{let e;for(const n in t)(n==="class"||n==="style"||Hc(n))&&((e||(e={}))[n]=t[n]);return e},FS=(t,e)=>{const n={};for(const r in t)(!Tp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function US(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Xg(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Xc(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Xg(r,o,u):!0:!!o;return!1}function Xg(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Xc(n,i))return!0}return!1}function BS({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lp="components",jS="directives";function Jc(t,e){return $p(Lp,t,!0,e)||t}const Z0=Symbol.for("v-ndc");function Zc(t){return Vt(t)?$p(Lp,t,!1)||t:t||Z0}function HS(t){return $p(jS,t)}function $p(t,e,n=!0,r=!1){const s=Jt||ln;if(s){const i=s.type;if(t===Lp){const a=Vx(i,!1);if(a&&(a===e||a===Hr(e)||a===zc(Hr(e))))return i}const o=Jg(s[t]||i[t],e)||Jg(s.appContext[t],e);return!o&&r?i:o}}function Jg(t,e){return t&&(t[e]||t[Hr(e)]||t[zc(Hr(e))])}const qS=t=>t.__isSuspense;function WS(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):NS(t)}const zS=Symbol.for("v-scx"),GS=()=>Xn(zS);function Fp(t,e){return Up(t,null,e)}const _u={};function Ut(t,e,n){return Up(t,e,n)}function Up(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Rt){if(e&&i){const w=e;e=(...b)=>{w(...b),P()}}const l=ln,u=w=>r===!0?w:_i(w,r===!1?1:void 0);let c,d=!1,f=!1;if(ht(t)?(c=()=>t.value,d=ic(t)):Mr(t)?(c=()=>u(t),d=!0):je(t)?(f=!0,d=t.some(w=>Mr(w)||ic(w)),c=()=>t.map(w=>{if(ht(w))return w.value;if(Mr(w))return u(w);if(Qe(w))return Vs(w,l,2)})):Qe(t)?e?c=()=>Vs(t,l,2):c=()=>(h&&h(),Qn(t,l,3,[p])):c=Kn,e&&r){const w=c;c=()=>_i(w())}let h,p=w=>{h=C.onStop=()=>{Vs(w,l,4),h=C.onStop=void 0}},y;if(sd)if(p=Kn,e?n&&Qn(e,l,3,[c(),f?[]:void 0,p]):c(),s==="sync"){const w=GS();y=w.__watcherHandles||(w.__watcherHandles=[])}else return Kn;let S=f?new Array(t.length).fill(_u):_u;const R=()=>{if(!(!C.active||!C.dirty))if(e){const w=C.run();(r||d||(f?w.some((b,I)=>Ws(b,S[I])):Ws(w,S)))&&(h&&h(),Qn(e,l,3,[w,S===_u?void 0:f&&S[0]===_u?[]:S,p]),S=w)}else C.run()};R.allowRecurse=!!e;let k;s==="sync"?k=R:s==="post"?k=()=>Mn(R,l&&l.suspense):(R.pre=!0,l&&(R.id=l.uid),k=()=>Vp(R));const C=new xp(c,Kn,k),g=Sp(),P=()=>{C.stop(),g&&Ep(g.effects,C)};return e?n?R():S=C.run():s==="post"?Mn(C.run.bind(C),l&&l.suspense):C.run(),y&&y.push(P),P}function YS(t,e,n){const r=this.proxy,s=Vt(t)?t.includes(".")?eb(r,t):()=>r[t]:t.bind(r,r);let i;Qe(e)?i=e:(i=e.handler,n=e);const o=$l(this),a=Up(s,i.bind(r),n);return o(),a}function eb(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function _i(t,e,n=0,r){if(!Et(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),ht(t))_i(t.value,e,n,r);else if(je(t))for(let s=0;s<t.length;s++)_i(t[s],e,n,r);else if(qc(t)||vo(t))t.forEach(s=>{_i(s,e,n,r)});else if(T0(t))for(const s in t)_i(t[s],e,n,r);return t}function ut(t,e){if(Jt===null)return t;const n=id(Jt)||Jt.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Rt]=e[s];i&&(Qe(i)&&(i={mounted:i,updated:i}),i.deep&&_i(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ai(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Hi(),Qn(l,n,8,[t.el,a,t,e]),qi())}}const Ss=Symbol("_leaveCb"),bu=Symbol("_enterCb");function tb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot(()=>{t.isMounted=!0}),jp(()=>{t.isUnmounting=!0}),t}const zn=[Function,Array],nb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zn,onEnter:zn,onAfterEnter:zn,onEnterCancelled:zn,onBeforeLeave:zn,onLeave:zn,onAfterLeave:zn,onLeaveCancelled:zn,onBeforeAppear:zn,onAppear:zn,onAfterAppear:zn,onAppearCancelled:zn},KS={name:"BaseTransition",props:nb,setup(t,{slots:e}){const n=Ll(),r=tb();return()=>{const s=e.default&&Bp(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const f of s)if(f.type!==Jn){i=f;break}}const o=at(t),{mode:a}=o;if(r.isLeaving)return mf(i);const l=Zg(i);if(!l)return mf(i);const u=il(l,o,r,n);ol(l,u);const c=n.subTree,d=c&&Zg(c);if(d&&d.type!==Jn&&!mi(l,d)){const f=il(d,o,r,n);if(ol(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},mf(i);a==="in-out"&&l.type!==Jn&&(f.delayLeave=(h,p,y)=>{const S=rb(r,d);S[String(d.key)]=d,h[Ss]=()=>{p(),h[Ss]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return i}}},QS=KS;function rb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function il(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:y,onAppear:S,onAfterAppear:R,onAppearCancelled:k}=e,C=String(t.key),g=rb(n,t),P=(I,O)=>{I&&Qn(I,r,9,O)},w=(I,O)=>{const U=O[1];P(I,O),je(I)?I.every(K=>K.length<=1)&&U():I.length<=1&&U()},b={mode:i,persisted:o,beforeEnter(I){let O=a;if(!n.isMounted)if(s)O=y||a;else return;I[Ss]&&I[Ss](!0);const U=g[C];U&&mi(t,U)&&U.el[Ss]&&U.el[Ss](),P(O,[I])},enter(I){let O=l,U=u,K=c;if(!n.isMounted)if(s)O=S||l,U=R||u,K=k||c;else return;let M=!1;const X=I[bu]=ne=>{M||(M=!0,ne?P(K,[I]):P(U,[I]),b.delayedLeave&&b.delayedLeave(),I[bu]=void 0)};O?w(O,[I,X]):X()},leave(I,O){const U=String(t.key);if(I[bu]&&I[bu](!0),n.isUnmounting)return O();P(d,[I]);let K=!1;const M=I[Ss]=X=>{K||(K=!0,O(),X?P(p,[I]):P(h,[I]),I[Ss]=void 0,g[U]===t&&delete g[U])};g[U]=t,f?w(f,[I,M]):M()},clone(I){return il(I,e,n,r)}};return b}function mf(t){if(ed(t))return t=zs(t),t.children=null,t}function Zg(t){return ed(t)?t.children?t.children[0]:void 0:t}function ol(t,e){t.shapeFlag&6&&t.component?ol(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bp(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Oe?(o.patchFlag&128&&s++,r=r.concat(Bp(o.children,e,a))):(e||o.type!==Jn)&&r.push(a!=null?zs(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function nt(t,e){return Qe(t)?Zt({name:t.name},e,{setup:t}):t}const Oa=t=>!!t.type.__asyncLoader,ed=t=>t.type.__isKeepAlive;function XS(t,e){sb(t,"a",e)}function JS(t,e){sb(t,"da",e)}function sb(t,e,n=ln){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(td(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ed(s.parent.vnode)&&ZS(r,e,n,s),s=s.parent}}function ZS(t,e,n,r){const s=td(e,t,r,!0);Wi(()=>{Ep(r[e],s)},n)}function td(t,e,n=ln,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Hi();const a=$l(n),l=Qn(e,n,t,o);return a(),qi(),l});return r?s.unshift(i):s.push(i),i}}const hs=t=>(e,n=ln)=>(!sd||t==="sp")&&td(t,(...r)=>e(...r),n),ex=hs("bm"),Ot=hs("m"),ib=hs("bu"),ob=hs("u"),jp=hs("bum"),Wi=hs("um"),tx=hs("sp"),nx=hs("rtg"),rx=hs("rtc");function sx(t,e=ln){td("ec",t,e)}function ct(t,e,n,r){let s;const i=n&&n[r];if(je(t)||Vt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Et(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(t[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Dn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(je(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function De(t,e,n={},r,s){if(Jt.isCE||Jt.parent&&Oa(Jt.parent)&&Jt.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),V();const o=i&&ab(i(n)),a=Ue(Oe,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ab(t){return t.some(e=>ll(e)?!(e.type===Jn||e.type===Oe&&!ab(e.children)):!0)?t:null}const ph=t=>t?_b(t)?id(t)||t.proxy:ph(t.parent):null,Ma=Zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ph(t.parent),$root:t=>ph(t.root),$emit:t=>t.emit,$options:t=>Hp(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Vp(t.update)}),$nextTick:t=>t.n||(t.n=St.bind(t.proxy)),$watch:t=>YS.bind(t)}),gf=(t,e)=>t!==Rt&&!t.__isScriptSetup&&ft(t,e),ix={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(gf(r,e))return o[e]=1,r[e];if(s!==Rt&&ft(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&ft(u,e))return o[e]=3,i[e];if(n!==Rt&&ft(n,e))return o[e]=4,n[e];mh&&(o[e]=0)}}const c=Ma[e];let d,f;if(c)return e==="$attrs"&&Fn(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Rt&&ft(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ft(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return gf(s,e)?(s[e]=n,!0):r!==Rt&&ft(r,e)?(r[e]=n,!0):ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Rt&&ft(t,o)||gf(e,o)||(a=i[0])&&ft(a,o)||ft(r,o)||ft(Ma,o)||ft(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zi(){return ox().slots}function ox(){const t=Ll();return t.setupContext||(t.setupContext=wb(t))}function ev(t){return je(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let mh=!0;function ax(t){const e=Hp(t),n=t.proxy,r=t.ctx;mh=!1,e.beforeCreate&&tv(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:y,deactivated:S,beforeDestroy:R,beforeUnmount:k,destroyed:C,unmounted:g,render:P,renderTracked:w,renderTriggered:b,errorCaptured:I,serverPrefetch:O,expose:U,inheritAttrs:K,components:M,directives:X,filters:ne}=e;if(u&&lx(u,r,null),o)for(const Y in o){const te=o[Y];Qe(te)&&(r[Y]=te.bind(n))}if(s){const Y=s.call(n,n);Et(Y)&&(t.data=en(Y))}if(mh=!0,i)for(const Y in i){const te=i[Y],be=Qe(te)?te.bind(n,n):Qe(te.get)?te.get.bind(n,n):Kn,de=!Qe(te)&&Qe(te.set)?te.set.bind(n):Kn,W=ue({get:be,set:de});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>W.value,set:J=>W.value=J})}if(a)for(const Y in a)lb(a[Y],r,n,Y);if(l){const Y=Qe(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(te=>{Na(te,Y[te])})}c&&tv(c,t,"c");function E(Y,te){je(te)?te.forEach(be=>Y(be.bind(n))):te&&Y(te.bind(n))}if(E(ex,d),E(Ot,f),E(ib,h),E(ob,p),E(XS,y),E(JS,S),E(sx,I),E(rx,w),E(nx,b),E(jp,k),E(Wi,g),E(tx,O),je(U))if(U.length){const Y=t.exposed||(t.exposed={});U.forEach(te=>{Object.defineProperty(Y,te,{get:()=>n[te],set:be=>n[te]=be})})}else t.exposed||(t.exposed={});P&&t.render===Kn&&(t.render=P),K!=null&&(t.inheritAttrs=K),M&&(t.components=M),X&&(t.directives=X)}function lx(t,e,n=Kn){je(t)&&(t=gh(t));for(const r in t){const s=t[r];let i;Et(s)?"default"in s?i=Xn(s.from||r,s.default,!0):i=Xn(s.from||r):i=Xn(s),ht(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function tv(t,e,n){Qn(je(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function lb(t,e,n,r){const s=r.includes(".")?eb(n,r):()=>n[r];if(Vt(t)){const i=e[t];Qe(i)&&Ut(s,i)}else if(Qe(t))Ut(s,t.bind(n));else if(Et(t))if(je(t))t.forEach(i=>lb(i,e,n,r));else{const i=Qe(t.handler)?t.handler.bind(n):e[t.handler];Qe(i)&&Ut(s,i,t)}}function Hp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>ac(l,u,o,!0)),ac(l,e,o)),Et(e)&&i.set(e,l),l}function ac(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ac(t,i,n,!0),s&&s.forEach(o=>ac(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=ux[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ux={data:nv,props:rv,emits:rv,methods:Aa,computed:Aa,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:Aa,directives:Aa,watch:dx,provide:nv,inject:cx};function nv(t,e){return e?t?function(){return Zt(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function cx(t,e){return Aa(gh(t),gh(e))}function gh(t){if(je(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function Aa(t,e){return t?Zt(Object.create(null),t,e):e}function rv(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:Zt(Object.create(null),ev(t),ev(e??{})):e}function dx(t,e){if(!t)return e;if(!e)return t;const n=Zt(Object.create(null),t);for(const r in e)n[r]=Rn(t[r],e[r]);return n}function ub(){return{app:null,config:{isNativeTag:WA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fx=0;function hx(t,e){return function(r,s=null){Qe(r)||(r=Zt({},r)),s!=null&&!Et(s)&&(s=null);const i=ub(),o=new WeakSet;let a=!1;const l=i.app={_uid:fx++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:$x,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Qe(u.install)?(o.add(u),u.install(l,...c)):Qe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,d){if(!a){const f=qe(r,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,id(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=_o;_o=l;try{return u()}finally{_o=c}}};return l}}let _o=null;function Na(t,e){if(ln){let n=ln.provides;const r=ln.parent&&ln.parent.provides;r===n&&(n=ln.provides=Object.create(r)),n[t]=e}}function Xn(t,e,n=!1){const r=ln||Jt;if(r||_o){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_o._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Qe(e)?e.call(r&&r.proxy):e}}function px(){return!!(ln||Jt||_o)}function mx(t,e,n,r=!1){const s={},i={};rc(i,rd,1),t.propsDefaults=Object.create(null),cb(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:U0(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function gx(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=at(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Xc(t.emitsOptions,f))continue;const h=e[f];if(l)if(ft(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const p=Hr(f);s[p]=vh(l,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{cb(t,e,s,i)&&(u=!0);let c;for(const d in a)(!e||!ft(e,d)&&((c=ji(d))===d||!ft(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=vh(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!ft(e,d))&&(delete i[d],u=!0)}u&&os(t,"set","$attrs")}function cb(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Da(l))continue;const u=e[l];let c;s&&ft(s,c=Hr(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Xc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=at(n),u=a||Rt;for(let c=0;c<i.length;c++){const d=i[c];n[d]=vh(s,l,d,u[d],t,!ft(u,d))}}return o}function vh(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=ft(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Qe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=$l(s);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ji(n))&&(r=!0))}return r}function db(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Qe(t)){const c=d=>{l=!0;const[f,h]=db(d,e,!0);Zt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Et(t)&&r.set(t,go),go;if(je(i))for(let c=0;c<i.length;c++){const d=Hr(i[c]);sv(d)&&(o[d]=Rt)}else if(i)for(const c in i){const d=Hr(c);if(sv(d)){const f=i[c],h=o[d]=je(f)||Qe(f)?{type:f}:Zt({},f);if(h){const p=av(Boolean,h.type),y=av(String,h.type);h[0]=p>-1,h[1]=y<0||p<y,(p>-1||ft(h,"default"))&&a.push(d)}}}const u=[o,a];return Et(t)&&r.set(t,u),u}function sv(t){return t[0]!=="$"&&!Da(t)}function iv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ov(t,e){return iv(t)===iv(e)}function av(t,e){return je(e)?e.findIndex(n=>ov(n,t)):Qe(e)&&ov(e,t)?0:-1}const fb=t=>t[0]==="_"||t==="$stable",qp=t=>je(t)?t.map(Tr):[Tr(t)],vx=(t,e,n)=>{if(e._n)return e;const r=Fe((...s)=>qp(e(...s)),n);return r._c=!1,r},hb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(fb(s))continue;const i=t[s];if(Qe(i))e[s]=vx(s,i,r);else if(i!=null){const o=qp(i);e[s]=()=>o}}},pb=(t,e)=>{const n=qp(e);t.slots.default=()=>n},yx=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=at(e),rc(e,"_",n)):hb(e,t.slots={})}else t.slots={},e&&pb(t,e);rc(t.slots,rd,1)},_x=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Rt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Zt(s,e),!n&&a===1&&delete s._):(i=!e.$stable,hb(e,s)),o=e}else e&&(pb(t,e),o={default:1});if(i)for(const a in s)!fb(a)&&o[a]==null&&delete s[a]};function yh(t,e,n,r,s=!1){if(je(t)){t.forEach((f,h)=>yh(f,e&&(je(e)?e[h]:e),n,r,s));return}if(Oa(r)&&!s)return;const i=r.shapeFlag&4?id(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Rt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Vt(u)?(c[u]=null,ft(d,u)&&(d[u]=null)):ht(u)&&(u.value=null)),Qe(l))Vs(l,a,12,[o,c]);else{const f=Vt(l),h=ht(l);if(f||h){const p=()=>{if(t.f){const y=f?ft(d,l)?d[l]:c[l]:l.value;s?je(y)&&Ep(y,i):je(y)?y.includes(i)||y.push(i):f?(c[l]=[i],ft(d,l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,ft(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Mn(p,n)):p()}}}const Mn=WS;function bx(t){return wx(t)}function wx(t,e){const n=E0();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Kn,insertStaticContent:p}=t,y=(v,_,F,G=null,Z=null,Q=null,Ee=void 0,he=null,me=!!_.dynamicChildren)=>{if(v===_)return;v&&!mi(v,_)&&(G=A(v),J(v,Z,Q,!0),v=null),_.patchFlag===-2&&(me=!1,_.dynamicChildren=null);const{type:pe,ref:xe,shapeFlag:Ne}=_;switch(pe){case nd:S(v,_,F,G);break;case Jn:R(v,_,F,G);break;case yf:v==null&&k(_,F,G,Ee);break;case Oe:M(v,_,F,G,Z,Q,Ee,he,me);break;default:Ne&1?P(v,_,F,G,Z,Q,Ee,he,me):Ne&6?X(v,_,F,G,Z,Q,Ee,he,me):(Ne&64||Ne&128)&&pe.process(v,_,F,G,Z,Q,Ee,he,me,j)}xe!=null&&Z&&yh(xe,v&&v.ref,Q,_||v,!_)},S=(v,_,F,G)=>{if(v==null)r(_.el=a(_.children),F,G);else{const Z=_.el=v.el;_.children!==v.children&&u(Z,_.children)}},R=(v,_,F,G)=>{v==null?r(_.el=l(_.children||""),F,G):_.el=v.el},k=(v,_,F,G)=>{[v.el,v.anchor]=p(v.children,_,F,G,v.el,v.anchor)},C=({el:v,anchor:_},F,G)=>{let Z;for(;v&&v!==_;)Z=f(v),r(v,F,G),v=Z;r(_,F,G)},g=({el:v,anchor:_})=>{let F;for(;v&&v!==_;)F=f(v),s(v),v=F;s(_)},P=(v,_,F,G,Z,Q,Ee,he,me)=>{_.type==="svg"?Ee="svg":_.type==="math"&&(Ee="mathml"),v==null?w(_,F,G,Z,Q,Ee,he,me):O(v,_,Z,Q,Ee,he,me)},w=(v,_,F,G,Z,Q,Ee,he)=>{let me,pe;const{props:xe,shapeFlag:Ne,transition:Pe,dirs:Me}=v;if(me=v.el=o(v.type,Q,xe&&xe.is,xe),Ne&8?c(me,v.children):Ne&16&&I(v.children,me,null,G,Z,vf(v,Q),Ee,he),Me&&ai(v,null,G,"created"),b(me,v,v.scopeId,Ee,G),xe){for(const et in xe)et!=="value"&&!Da(et)&&i(me,et,null,xe[et],Q,v.children,G,Z,re);"value"in xe&&i(me,"value",null,xe.value,Q),(pe=xe.onVnodeBeforeMount)&&_r(pe,G,v)}Me&&ai(v,null,G,"beforeMount");const We=Tx(Z,Pe);We&&Pe.beforeEnter(me),r(me,_,F),((pe=xe&&xe.onVnodeMounted)||We||Me)&&Mn(()=>{pe&&_r(pe,G,v),We&&Pe.enter(me),Me&&ai(v,null,G,"mounted")},Z)},b=(v,_,F,G,Z)=>{if(F&&h(v,F),G)for(let Q=0;Q<G.length;Q++)h(v,G[Q]);if(Z){let Q=Z.subTree;if(_===Q){const Ee=Z.vnode;b(v,Ee,Ee.scopeId,Ee.slotScopeIds,Z.parent)}}},I=(v,_,F,G,Z,Q,Ee,he,me=0)=>{for(let pe=me;pe<v.length;pe++){const xe=v[pe]=he?xs(v[pe]):Tr(v[pe]);y(null,xe,_,F,G,Z,Q,Ee,he)}},O=(v,_,F,G,Z,Q,Ee)=>{const he=_.el=v.el;let{patchFlag:me,dynamicChildren:pe,dirs:xe}=_;me|=v.patchFlag&16;const Ne=v.props||Rt,Pe=_.props||Rt;let Me;if(F&&li(F,!1),(Me=Pe.onVnodeBeforeUpdate)&&_r(Me,F,_,v),xe&&ai(_,v,F,"beforeUpdate"),F&&li(F,!0),pe?U(v.dynamicChildren,pe,he,F,G,vf(_,Z),Q):Ee||te(v,_,he,null,F,G,vf(_,Z),Q,!1),me>0){if(me&16)K(he,_,Ne,Pe,F,G,Z);else if(me&2&&Ne.class!==Pe.class&&i(he,"class",null,Pe.class,Z),me&4&&i(he,"style",Ne.style,Pe.style,Z),me&8){const We=_.dynamicProps;for(let et=0;et<We.length;et++){const H=We[et],q=Ne[H],fe=Pe[H];(fe!==q||H==="value")&&i(he,H,q,fe,Z,v.children,F,G,re)}}me&1&&v.children!==_.children&&c(he,_.children)}else!Ee&&pe==null&&K(he,_,Ne,Pe,F,G,Z);((Me=Pe.onVnodeUpdated)||xe)&&Mn(()=>{Me&&_r(Me,F,_,v),xe&&ai(_,v,F,"updated")},G)},U=(v,_,F,G,Z,Q,Ee)=>{for(let he=0;he<_.length;he++){const me=v[he],pe=_[he],xe=me.el&&(me.type===Oe||!mi(me,pe)||me.shapeFlag&70)?d(me.el):F;y(me,pe,xe,null,G,Z,Q,Ee,!0)}},K=(v,_,F,G,Z,Q,Ee)=>{if(F!==G){if(F!==Rt)for(const he in F)!Da(he)&&!(he in G)&&i(v,he,F[he],null,Ee,_.children,Z,Q,re);for(const he in G){if(Da(he))continue;const me=G[he],pe=F[he];me!==pe&&he!=="value"&&i(v,he,pe,me,Ee,_.children,Z,Q,re)}"value"in G&&i(v,"value",F.value,G.value,Ee)}},M=(v,_,F,G,Z,Q,Ee,he,me)=>{const pe=_.el=v?v.el:a(""),xe=_.anchor=v?v.anchor:a("");let{patchFlag:Ne,dynamicChildren:Pe,slotScopeIds:Me}=_;Me&&(he=he?he.concat(Me):Me),v==null?(r(pe,F,G),r(xe,F,G),I(_.children||[],F,xe,Z,Q,Ee,he,me)):Ne>0&&Ne&64&&Pe&&v.dynamicChildren?(U(v.dynamicChildren,Pe,F,Z,Q,Ee,he),(_.key!=null||Z&&_===Z.subTree)&&Wp(v,_,!0)):te(v,_,F,xe,Z,Q,Ee,he,me)},X=(v,_,F,G,Z,Q,Ee,he,me)=>{_.slotScopeIds=he,v==null?_.shapeFlag&512?Z.ctx.activate(_,F,G,Ee,me):ne(_,F,G,Z,Q,Ee,me):L(v,_,me)},ne=(v,_,F,G,Z,Q,Ee)=>{const he=v.component=Dx(v,G,Z);if(ed(v)&&(he.ctx.renderer=j),Ox(he),he.asyncDep){if(Z&&Z.registerDep(he,E),!v.el){const me=he.subTree=qe(Jn);R(null,me,_,F)}}else E(he,v,_,F,Z,Q,Ee)},L=(v,_,F)=>{const G=_.component=v.component;if(US(v,_,F))if(G.asyncDep&&!G.asyncResolved){Y(G,_,F);return}else G.next=_,MS(G.update),G.effect.dirty=!0,G.update();else _.el=v.el,G.vnode=_},E=(v,_,F,G,Z,Q,Ee)=>{const he=()=>{if(v.isMounted){let{next:xe,bu:Ne,u:Pe,parent:Me,vnode:We}=v;{const $=mb(v);if($){xe&&(xe.el=We.el,Y(v,xe,Ee)),$.asyncDep.then(()=>{v.isUnmounted||he()});return}}let et=xe,H;li(v,!1),xe?(xe.el=We.el,Y(v,xe,Ee)):xe=We,Ne&&ju(Ne),(H=xe.props&&xe.props.onVnodeBeforeUpdate)&&_r(H,Me,xe,We),li(v,!0);const q=pf(v),fe=v.subTree;v.subTree=q,y(fe,q,d(fe.el),A(fe),v,Z,Q),xe.el=q.el,et===null&&BS(v,q.el),Pe&&Mn(Pe,Z),(H=xe.props&&xe.props.onVnodeUpdated)&&Mn(()=>_r(H,Me,xe,We),Z)}else{let xe;const{el:Ne,props:Pe}=_,{bm:Me,m:We,parent:et}=v,H=Oa(_);if(li(v,!1),Me&&ju(Me),!H&&(xe=Pe&&Pe.onVnodeBeforeMount)&&_r(xe,et,_),li(v,!0),Ne&&_e){const q=()=>{v.subTree=pf(v),_e(Ne,v.subTree,v,Z,null)};H?_.type.__asyncLoader().then(()=>!v.isUnmounted&&q()):q()}else{const q=v.subTree=pf(v);y(null,q,F,G,v,Z,Q),_.el=q.el}if(We&&Mn(We,Z),!H&&(xe=Pe&&Pe.onVnodeMounted)){const q=_;Mn(()=>_r(xe,et,q),Z)}(_.shapeFlag&256||et&&Oa(et.vnode)&&et.vnode.shapeFlag&256)&&v.a&&Mn(v.a,Z),v.isMounted=!0,_=F=G=null}},me=v.effect=new xp(he,Kn,()=>Vp(pe),v.scope),pe=v.update=()=>{me.dirty&&me.run()};pe.id=v.uid,li(v,!0),pe()},Y=(v,_,F)=>{_.component=v;const G=v.vnode.props;v.vnode=_,v.next=null,gx(v,_.props,G,F),_x(v,_.children,F),Hi(),Qg(v),qi()},te=(v,_,F,G,Z,Q,Ee,he,me=!1)=>{const pe=v&&v.children,xe=v?v.shapeFlag:0,Ne=_.children,{patchFlag:Pe,shapeFlag:Me}=_;if(Pe>0){if(Pe&128){de(pe,Ne,F,G,Z,Q,Ee,he,me);return}else if(Pe&256){be(pe,Ne,F,G,Z,Q,Ee,he,me);return}}Me&8?(xe&16&&re(pe,Z,Q),Ne!==pe&&c(F,Ne)):xe&16?Me&16?de(pe,Ne,F,G,Z,Q,Ee,he,me):re(pe,Z,Q,!0):(xe&8&&c(F,""),Me&16&&I(Ne,F,G,Z,Q,Ee,he,me))},be=(v,_,F,G,Z,Q,Ee,he,me)=>{v=v||go,_=_||go;const pe=v.length,xe=_.length,Ne=Math.min(pe,xe);let Pe;for(Pe=0;Pe<Ne;Pe++){const Me=_[Pe]=me?xs(_[Pe]):Tr(_[Pe]);y(v[Pe],Me,F,null,Z,Q,Ee,he,me)}pe>xe?re(v,Z,Q,!0,!1,Ne):I(_,F,G,Z,Q,Ee,he,me,Ne)},de=(v,_,F,G,Z,Q,Ee,he,me)=>{let pe=0;const xe=_.length;let Ne=v.length-1,Pe=xe-1;for(;pe<=Ne&&pe<=Pe;){const Me=v[pe],We=_[pe]=me?xs(_[pe]):Tr(_[pe]);if(mi(Me,We))y(Me,We,F,null,Z,Q,Ee,he,me);else break;pe++}for(;pe<=Ne&&pe<=Pe;){const Me=v[Ne],We=_[Pe]=me?xs(_[Pe]):Tr(_[Pe]);if(mi(Me,We))y(Me,We,F,null,Z,Q,Ee,he,me);else break;Ne--,Pe--}if(pe>Ne){if(pe<=Pe){const Me=Pe+1,We=Me<xe?_[Me].el:G;for(;pe<=Pe;)y(null,_[pe]=me?xs(_[pe]):Tr(_[pe]),F,We,Z,Q,Ee,he,me),pe++}}else if(pe>Pe)for(;pe<=Ne;)J(v[pe],Z,Q,!0),pe++;else{const Me=pe,We=pe,et=new Map;for(pe=We;pe<=Pe;pe++){const ge=_[pe]=me?xs(_[pe]):Tr(_[pe]);ge.key!=null&&et.set(ge.key,pe)}let H,q=0;const fe=Pe-We+1;let $=!1,se=0;const N=new Array(fe);for(pe=0;pe<fe;pe++)N[pe]=0;for(pe=Me;pe<=Ne;pe++){const ge=v[pe];if(q>=fe){J(ge,Z,Q,!0);continue}let ee;if(ge.key!=null)ee=et.get(ge.key);else for(H=We;H<=Pe;H++)if(N[H-We]===0&&mi(ge,_[H])){ee=H;break}ee===void 0?J(ge,Z,Q,!0):(N[ee-We]=pe+1,ee>=se?se=ee:$=!0,y(ge,_[ee],F,null,Z,Q,Ee,he,me),q++)}const ae=$?Ex(N):go;for(H=ae.length-1,pe=fe-1;pe>=0;pe--){const ge=We+pe,ee=_[ge],we=ge+1<xe?_[ge+1].el:G;N[pe]===0?y(null,ee,F,we,Z,Q,Ee,he,me):$&&(H<0||pe!==ae[H]?W(ee,F,we,2):H--)}}},W=(v,_,F,G,Z=null)=>{const{el:Q,type:Ee,transition:he,children:me,shapeFlag:pe}=v;if(pe&6){W(v.component.subTree,_,F,G);return}if(pe&128){v.suspense.move(_,F,G);return}if(pe&64){Ee.move(v,_,F,j);return}if(Ee===Oe){r(Q,_,F);for(let Ne=0;Ne<me.length;Ne++)W(me[Ne],_,F,G);r(v.anchor,_,F);return}if(Ee===yf){C(v,_,F);return}if(G!==2&&pe&1&&he)if(G===0)he.beforeEnter(Q),r(Q,_,F),Mn(()=>he.enter(Q),Z);else{const{leave:Ne,delayLeave:Pe,afterLeave:Me}=he,We=()=>r(Q,_,F),et=()=>{Ne(Q,()=>{We(),Me&&Me()})};Pe?Pe(Q,We,et):et()}else r(Q,_,F)},J=(v,_,F,G=!1,Z=!1)=>{const{type:Q,props:Ee,ref:he,children:me,dynamicChildren:pe,shapeFlag:xe,patchFlag:Ne,dirs:Pe}=v;if(he!=null&&yh(he,null,F,v,!0),xe&256){_.ctx.deactivate(v);return}const Me=xe&1&&Pe,We=!Oa(v);let et;if(We&&(et=Ee&&Ee.onVnodeBeforeUnmount)&&_r(et,_,v),xe&6)ce(v.component,F,G);else{if(xe&128){v.suspense.unmount(F,G);return}Me&&ai(v,null,_,"beforeUnmount"),xe&64?v.type.remove(v,_,F,Z,j,G):pe&&(Q!==Oe||Ne>0&&Ne&64)?re(pe,_,F,!1,!0):(Q===Oe&&Ne&384||!Z&&xe&16)&&re(me,_,F),G&&T(v)}(We&&(et=Ee&&Ee.onVnodeUnmounted)||Me)&&Mn(()=>{et&&_r(et,_,v),Me&&ai(v,null,_,"unmounted")},F)},T=v=>{const{type:_,el:F,anchor:G,transition:Z}=v;if(_===Oe){B(F,G);return}if(_===yf){g(v);return}const Q=()=>{s(F),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(v.shapeFlag&1&&Z&&!Z.persisted){const{leave:Ee,delayLeave:he}=Z,me=()=>Ee(F,Q);he?he(v.el,Q,me):me()}else Q()},B=(v,_)=>{let F;for(;v!==_;)F=f(v),s(v),v=F;s(_)},ce=(v,_,F)=>{const{bum:G,scope:Z,update:Q,subTree:Ee,um:he}=v;G&&ju(G),Z.stop(),Q&&(Q.active=!1,J(Ee,v,_,F)),he&&Mn(he,_),Mn(()=>{v.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},re=(v,_,F,G=!1,Z=!1,Q=0)=>{for(let Ee=Q;Ee<v.length;Ee++)J(v[Ee],_,F,G,Z)},A=v=>v.shapeFlag&6?A(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el);let ie=!1;const D=(v,_,F)=>{v==null?_._vnode&&J(_._vnode,null,null,!0):y(_._vnode||null,v,_,null,null,null,F),ie||(ie=!0,Qg(),K0(),ie=!1),_._vnode=v},j={p:y,um:J,m:W,r:T,mt:ne,mc:I,pc:te,pbc:U,n:A,o:t};let Ae,_e;return e&&([Ae,_e]=e(j)),{render:D,hydrate:Ae,createApp:hx(D,Ae)}}function vf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function li({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Tx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Wp(t,e,n=!1){const r=t.children,s=e.children;if(je(r)&&je(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=xs(s[i]),a.el=o.el),n||Wp(o,a)),a.type===nd&&(a.el=o.el)}}function Ex(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function mb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mb(e)}const Ax=t=>t.__isTeleport,Va=t=>t&&(t.disabled||t.disabled===""),lv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,uv=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,_h=(t,e)=>{const n=t&&t.to;return Vt(n)?e?e(n):null:n},Sx={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:y,createComment:S}}=u,R=Va(e.props);let{shapeFlag:k,children:C,dynamicChildren:g}=e;if(t==null){const P=e.el=y(""),w=e.anchor=y("");h(P,n,r),h(w,n,r);const b=e.target=_h(e.props,p),I=e.targetAnchor=y("");b&&(h(I,b),o==="svg"||lv(b)?o="svg":(o==="mathml"||uv(b))&&(o="mathml"));const O=(U,K)=>{k&16&&c(C,U,K,s,i,o,a,l)};R?O(n,w):b&&O(b,I)}else{e.el=t.el;const P=e.anchor=t.anchor,w=e.target=t.target,b=e.targetAnchor=t.targetAnchor,I=Va(t.props),O=I?n:w,U=I?P:b;if(o==="svg"||lv(w)?o="svg":(o==="mathml"||uv(w))&&(o="mathml"),g?(f(t.dynamicChildren,g,O,s,i,o,a),Wp(t,e,!0)):l||d(t,e,O,U,s,i,o,a,!1),R)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):wu(e,n,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const K=e.target=_h(e.props,p);K&&wu(e,K,null,u,0)}else I&&wu(e,w,b,u,1)}gb(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&i(c),o&&i(u),a&16){const h=o||!Va(f);for(let p=0;p<l.length;p++){const y=l[p];s(y,e,n,h,!!y.dynamicChildren)}}},move:wu,hydrate:xx};function wu(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=i===2;if(d&&r(o,e,n),(!d||Va(c))&&l&16)for(let f=0;f<u.length;f++)s(u[f],e,n,2);d&&r(a,e,n)}function xx(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=_h(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Va(e.props))e.anchor=u(o(t),e,a(t),n,r,s,i),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,s,i)}gb(e)}return e.anchor&&o(e.anchor)}const Ix=Sx;function gb(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Oe=Symbol.for("v-fgt"),nd=Symbol.for("v-txt"),Jn=Symbol.for("v-cmt"),yf=Symbol.for("v-stc"),La=[];let lr=null;function V(t=!1){La.push(lr=t?null:[])}function Cx(){La.pop(),lr=La[La.length-1]||null}let al=1;function cv(t){al+=t}function vb(t){return t.dynamicChildren=al>0?lr||go:null,Cx(),al>0&&lr&&lr.push(t),t}function z(t,e,n,r,s,i){return vb(x(t,e,n,r,s,i,!0))}function Ue(t,e,n,r,s){return vb(qe(t,e,n,r,s,!0))}function ll(t){return t?t.__v_isVNode===!0:!1}function mi(t,e){return t.type===e.type&&t.key===e.key}const rd="__vInternal",yb=({key:t})=>t??null,qu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Vt(t)||ht(t)||Qe(t)?{i:Jt,r:t,k:e,f:!!n}:t:null);function x(t,e=null,n=null,r=0,s=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yb(e),ref:e&&qu(e),scopeId:J0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(zp(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Vt(n)?8:16),al>0&&!o&&lr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&lr.push(l),l}const qe=Px;function Px(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Z0)&&(t=Jn),ll(t)){const a=zs(t,e,!0);return n&&zp(a,n),al>0&&!i&&lr&&(a.shapeFlag&6?lr[lr.indexOf(t)]=a:lr.push(a)),a.patchFlag|=-2,a}if(Lx(t)&&(t=t.__vccOpts),e){e=gn(e);let{class:a,style:l}=e;a&&!Vt(a)&&(e.class=Ve(a)),Et(l)&&(B0(l)&&!je(l)&&(l=Zt({},l)),e.style=xn(l))}const o=Vt(t)?1:qS(t)?128:Ax(t)?64:Et(t)?4:Qe(t)?2:0;return x(t,e,n,r,s,o,i,!0)}function gn(t){return t?B0(t)||rd in t?Zt({},t):t:null}function zs(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Wt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&yb(a),ref:e&&e.ref?n&&s?je(s)?s.concat(qu(e)):[s,qu(e)]:qu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zs(t.ssContent),ssFallback:t.ssFallback&&zs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Tt(t=" ",e=0){return qe(nd,null,t,e)}function oe(t="",e=!1){return e?(V(),Ue(Jn,null,t)):qe(Jn,null,t)}function Tr(t){return t==null||typeof t=="boolean"?qe(Jn):je(t)?qe(Oe,null,t.slice()):typeof t=="object"?xs(t):qe(nd,null,String(t))}function xs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zs(t)}function zp(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(je(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),zp(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(rd in e)?e._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Jt},n=32):(e=String(e),r&64?(n=16,e=[Tt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Wt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ve([e.class,r.class]));else if(s==="style")e.style=xn([e.style,r.style]);else if(Hc(s)){const i=e[s],o=r[s];o&&i!==o&&!(je(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function _r(t,e,n,r=null){Qn(t,e,7,[n,r])}const Rx=ub();let kx=0;function Dx(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Rx,i={uid:kx++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new x0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:db(r,s),emitsOptions:X0(r,s),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:r.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=LS.bind(null,i),t.ce&&t.ce(i),i}let ln=null;const Ll=()=>ln||Jt;let lc,bh;{const t=E0(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};lc=e("__VUE_INSTANCE_SETTERS__",n=>ln=n),bh=e("__VUE_SSR_SETTERS__",n=>sd=n)}const $l=t=>{const e=ln;return lc(t),t.scope.on(),()=>{t.scope.off(),lc(e)}},dv=()=>{ln&&ln.scope.off(),lc(null)};function _b(t){return t.vnode.shapeFlag&4}let sd=!1;function Ox(t,e=!1){e&&bh(e);const{props:n,children:r}=t.vnode,s=_b(t);mx(t,n,s,e),yx(t,r);const i=s?Mx(t,e):void 0;return e&&bh(!1),i}function Mx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Kc(new Proxy(t.ctx,ix));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?wb(t):null,i=$l(t);Hi();const o=Vs(r,t,0,[t.props,s]);if(qi(),i(),b0(o)){if(o.then(dv,dv),e)return o.then(a=>{fv(t,a,e)}).catch(a=>{Qc(a,t,0)});t.asyncDep=o}else fv(t,o,e)}else bb(t,e)}function fv(t,e,n){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Et(e)&&(t.setupState=W0(e)),bb(t,n)}let hv;function bb(t,e,n){const r=t.type;if(!t.render){if(!e&&hv&&!r.render){const s=r.template||Hp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Zt(Zt({isCustomElement:i,delimiters:a},o),l);r.render=hv(s,u)}}t.render=r.render||Kn}{const s=$l(t);Hi();try{ax(t)}finally{qi(),s()}}}function Nx(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Fn(t,"get","$attrs"),e[n]}}))}function wb(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Nx(t)},slots:t.slots,emit:t.emit,expose:e}}function id(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(W0(Kc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ma)return Ma[n](t)},has(e,n){return n in e||n in Ma}}))}function Vx(t,e=!0){return Qe(t)?t.displayName||t.name:t.name||e&&t.__name}function Lx(t){return Qe(t)&&"__vccOpts"in t}const ue=(t,e)=>xS(t,e,sd);function Pr(t,e,n){const r=arguments.length;return r===2?Et(e)&&!je(e)?ll(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ll(n)&&(n=[n]),qe(t,e,n))}const $x="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fx="http://www.w3.org/2000/svg",Ux="http://www.w3.org/1998/Math/MathML",Is=typeof document<"u"?document:null,pv=Is&&Is.createElement("template"),Bx={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Is.createElementNS(Fx,t):e==="mathml"?Is.createElementNS(Ux,t):Is.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Is.createTextNode(t),createComment:t=>Is.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Is.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{pv.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=pv.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},gs="transition",ha="animation",Io=Symbol("_vtc"),Qs=(t,{slots:e})=>Pr(QS,Eb(t),e);Qs.displayName="Transition";const Tb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jx=Qs.props=Zt({},nb,Tb),ui=(t,e=[])=>{je(t)?t.forEach(n=>n(...e)):t&&t(...e)},mv=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function Eb(t){const e={};for(const M in t)M in Tb||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=Hx(s),y=p&&p[0],S=p&&p[1],{onBeforeEnter:R,onEnter:k,onEnterCancelled:C,onLeave:g,onLeaveCancelled:P,onBeforeAppear:w=R,onAppear:b=k,onAppearCancelled:I=C}=e,O=(M,X,ne)=>{ws(M,X?c:a),ws(M,X?u:o),ne&&ne()},U=(M,X)=>{M._isLeaving=!1,ws(M,d),ws(M,h),ws(M,f),X&&X()},K=M=>(X,ne)=>{const L=M?b:k,E=()=>O(X,M,ne);ui(L,[X,E]),gv(()=>{ws(X,M?l:i),Zr(X,M?c:a),mv(L)||vv(X,r,y,E)})};return Zt(e,{onBeforeEnter(M){ui(R,[M]),Zr(M,i),Zr(M,o)},onBeforeAppear(M){ui(w,[M]),Zr(M,l),Zr(M,u)},onEnter:K(!1),onAppear:K(!0),onLeave(M,X){M._isLeaving=!0;const ne=()=>U(M,X);Zr(M,d),Sb(),Zr(M,f),gv(()=>{M._isLeaving&&(ws(M,d),Zr(M,h),mv(g)||vv(M,r,S,ne))}),ui(g,[M,ne])},onEnterCancelled(M){O(M,!1),ui(C,[M])},onAppearCancelled(M){O(M,!0),ui(I,[M])},onLeaveCancelled(M){U(M),ui(P,[M])}})}function Hx(t){if(t==null)return null;if(Et(t))return[_f(t.enter),_f(t.leave)];{const e=_f(t);return[e,e]}}function _f(t){return QA(t)}function Zr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Io]||(t[Io]=new Set)).add(e)}function ws(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Io];n&&(n.delete(e),n.size||(t[Io]=void 0))}function gv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let qx=0;function vv(t,e,n,r){const s=t._endId=++qx,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Ab(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),i()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function Ab(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${gs}Delay`),i=r(`${gs}Duration`),o=yv(s,i),a=r(`${ha}Delay`),l=r(`${ha}Duration`),u=yv(a,l);let c=null,d=0,f=0;e===gs?o>0&&(c=gs,d=o,f=i.length):e===ha?u>0&&(c=ha,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?gs:ha:null,f=c?c===gs?i.length:l.length:0);const h=c===gs&&/\b(transform|all)(,|$)/.test(r(`${gs}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function yv(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>_v(n)+_v(t[r])))}function _v(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Sb(){return document.body.offsetHeight}function Wx(t,e,n){const r=t[Io];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const uc=Symbol("_vod"),xb=Symbol("_vsh"),$a={beforeMount(t,{value:e},{transition:n}){t[uc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):pa(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),pa(t,!0),r.enter(t)):r.leave(t,()=>{pa(t,!1)}):pa(t,e))},beforeUnmount(t,{value:e}){pa(t,e)}};function pa(t,e){t.style.display=e?t[uc]:"none",t[xb]=!e}const zx=Symbol(""),Gx=/(^|;)\s*display\s*:/;function Yx(t,e,n){const r=t.style,s=Vt(n);let i=!1;if(n&&!s){if(e)if(Vt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Wu(r,a,"")}else for(const o in e)n[o]==null&&Wu(r,o,"");for(const o in n)o==="display"&&(i=!0),Wu(r,o,n[o])}else if(s){if(e!==n){const o=r[zx];o&&(n+=";"+o),r.cssText=n,i=Gx.test(n)}}else e&&t.removeAttribute("style");uc in t&&(t[uc]=i?r.display:"",t[xb]&&(r.display="none"))}const bv=/\s*!important$/;function Wu(t,e,n){if(je(n))n.forEach(r=>Wu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Kx(t,e);bv.test(n)?t.setProperty(ji(r),n.replace(bv,""),"important"):t[r]=n}}const wv=["Webkit","Moz","ms"],bf={};function Kx(t,e){const n=bf[e];if(n)return n;let r=Hr(e);if(r!=="filter"&&r in t)return bf[e]=r;r=zc(r);for(let s=0;s<wv.length;s++){const i=wv[s]+r;if(i in t)return bf[e]=i}return e}const Tv="http://www.w3.org/1999/xlink";function Qx(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Tv,e.slice(6,e.length)):t.setAttributeNS(Tv,e,n);else{const i=nS(e);n==null||i&&!A0(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Xx(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=A0(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function gi(t,e,n,r){t.addEventListener(e,n,r)}function Jx(t,e,n,r){t.removeEventListener(e,n,r)}const Ev=Symbol("_vei");function Zx(t,e,n,r,s=null){const i=t[Ev]||(t[Ev]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=eI(e);if(r){const u=i[e]=rI(r,s);gi(t,a,u,l)}else o&&(Jx(t,a,o,l),i[e]=void 0)}}const Av=/(?:Once|Passive|Capture)$/;function eI(t){let e;if(Av.test(t)){e={};let r;for(;r=t.match(Av);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ji(t.slice(2)),e]}let wf=0;const tI=Promise.resolve(),nI=()=>wf||(tI.then(()=>wf=0),wf=Date.now());function rI(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qn(sI(r,n.value),e,5,[r])};return n.value=t,n.attached=nI(),n}function sI(t,e){if(je(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Sv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,iI=(t,e,n,r,s,i,o,a,l)=>{const u=s==="svg";e==="class"?Wx(t,r,u):e==="style"?Yx(t,n,r):Hc(e)?Tp(e)||Zx(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):oI(t,e,r,u))?Xx(t,e,r,i,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qx(t,e,r,u))};function oI(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Sv(e)&&Qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Sv(e)&&Vt(n)?!1:e in t}const Ib=new WeakMap,Cb=new WeakMap,cc=Symbol("_moveCb"),xv=Symbol("_enterCb"),Pb={name:"TransitionGroup",props:Zt({},jx,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ll(),r=tb();let s,i;return ob(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!fI(s[0].el,n.vnode.el,o))return;s.forEach(uI),s.forEach(cI);const a=s.filter(dI);Sb(),a.forEach(l=>{const u=l.el,c=u.style;Zr(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[cc]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[cc]=null,ws(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=at(t),a=Eb(o);let l=o.tag||Oe;s=i,i=e.default?Bp(e.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&ol(c,il(c,a,r,n))}if(s)for(let u=0;u<s.length;u++){const c=s[u];ol(c,il(c,a,r,n)),Ib.set(c,c.el.getBoundingClientRect())}return qe(l,null,i)}}},aI=t=>delete t.mode;Pb.props;const lI=Pb;function uI(t){const e=t.el;e[cc]&&e[cc](),e[xv]&&e[xv]()}function cI(t){Cb.set(t,t.el.getBoundingClientRect())}function dI(t){const e=Ib.get(t),n=Cb.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function fI(t,e,n){const r=t.cloneNode(),s=t[Io];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=Ab(r);return i.removeChild(r),o}const dc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?n=>ju(e,n):e};function hI(t){t.target.composing=!0}function Iv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bo=Symbol("_assign"),hn={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[bo]=dc(s);const i=r||s.props&&s.props.type==="number";gi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=el(a)),t[bo](a)}),n&&gi(t,"change",()=>{t.value=t.value.trim()}),e||(gi(t,"compositionstart",hI),gi(t,"compositionend",Iv),gi(t,"change",Iv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[bo]=dc(i),t.composing)return;const o=s||t.type==="number"?el(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},ur={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=qc(e);gi(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?el(fc(o)):fc(o));t[bo](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,St(()=>{t._assigning=!1})}),t[bo]=dc(r)},mounted(t,{value:e,modifiers:{number:n}}){Cv(t,e,n)},beforeUpdate(t,e,n){t[bo]=dc(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Cv(t,e,n)}};function Cv(t,e,n){const r=t.multiple,s=je(e);if(!(r&&!s&&!qc(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=fc(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?el(l):l):a.selected=sS(e,l)>-1}else a.selected=e.has(l);else if(Gc(fc(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fc(t){return"_value"in t?t._value:t.value}const pI=["ctrl","shift","alt","meta"],mI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pI.some(n=>t[`${n}Key`]&&!e.includes(n))},vt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=mI[e[o]];if(a&&a(s,e))return}return t(s,...i)})},gI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xe=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=ji(s.key);if(e.some(o=>o===i||gI[o]===i))return t(s)})},vI=Zt({patchProp:iI},Bx);let Pv;function Rb(){return Pv||(Pv=bx(vI))}const Rv=(...t)=>{Rb().render(...t)},wh=(...t)=>{const e=Rb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=_I(r);if(!s)return;const i=e._component;!Qe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,yI(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function yI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _I(t){return Vt(t)?document.querySelector(t):t}var bI=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let kb;const od=t=>kb=t,Db=Symbol();function Th(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Fa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Fa||(Fa={}));function wI(){const t=I0(!0),e=t.run(()=>le({}));let n=[],r=[];const s=Kc({install(i){od(s),s._a=i,i.provide(Db,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!bI?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ob=()=>{};function kv(t,e,n,r=Ob){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Sp()&&C0(s),s}function eo(t,...e){t.slice().forEach(n=>{n(...e)})}const TI=t=>t();function Eh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Th(s)&&Th(r)&&t.hasOwnProperty(n)&&!ht(r)&&!Mr(r)?t[n]=Eh(s,r):t[n]=r}return t}const EI=Symbol();function AI(t){return!Th(t)||!t.hasOwnProperty(EI)}const{assign:Ts}=Object;function SI(t){return!!(ht(t)&&t.effect)}function xI(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const c=PS(n.state.value[t]);return Ts(c,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Kc(ue(()=>{od(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Mb(t,u,e,n,r,!0),l}function Mb(t,e,n={},r,s,i){let o;const a=Ts({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),le({});let y;function S(I){let O;u=c=!1,typeof I=="function"?(I(r.state.value[t]),O={type:Fa.patchFunction,storeId:t,events:h}):(Eh(r.state.value[t],I),O={type:Fa.patchObject,payload:I,storeId:t,events:h});const U=y=Symbol();St().then(()=>{y===U&&(u=!0)}),c=!0,eo(d,O,r.state.value[t])}const R=i?function(){const{state:O}=n,U=O?O():{};this.$patch(K=>{Ts(K,U)})}:Ob;function k(){o.stop(),d=[],f=[],r._s.delete(t)}function C(I,O){return function(){od(r);const U=Array.from(arguments),K=[],M=[];function X(E){K.push(E)}function ne(E){M.push(E)}eo(f,{args:U,name:I,store:P,after:X,onError:ne});let L;try{L=O.apply(this&&this.$id===t?this:P,U)}catch(E){throw eo(M,E),E}return L instanceof Promise?L.then(E=>(eo(K,E),E)).catch(E=>(eo(M,E),Promise.reject(E))):(eo(K,L),L)}}const g={_p:r,$id:t,$onAction:kv.bind(null,f),$patch:S,$reset:R,$subscribe(I,O={}){const U=kv(d,I,O.detached,()=>K()),K=o.run(()=>Ut(()=>r.state.value[t],M=>{(O.flush==="sync"?c:u)&&I({storeId:t,type:Fa.direct,events:h},M)},Ts({},l,O)));return U},$dispose:k},P=en(g);r._s.set(t,P);const b=(r._a&&r._a.runWithContext||TI)(()=>r._e.run(()=>(o=I0()).run(e)));for(const I in b){const O=b[I];if(ht(O)&&!SI(O)||Mr(O))i||(p&&AI(O)&&(ht(O)?O.value=p[I]:Eh(O,p[I])),r.state.value[t][I]=O);else if(typeof O=="function"){const U=C(I,O);b[I]=U,a.actions[I]=O}}return Ts(P,b),Ts(at(P),b),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:I=>{S(O=>{Ts(O,I)})}}),r._p.forEach(I=>{Ts(P,o.run(()=>I({store:P,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(P.$state,p),u=!0,c=!0,P}function Gi(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,l){const u=px();return a=a||(u?Xn(Db,null):null),a&&od(a),a=kb,a._s.has(r)||(i?Mb(r,e,s,a):xI(r,s,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-tippy v6.4.1
  * (c) 2023 
  * @license MIT
  */var Ln="top",er="bottom",tr="right",$n="left",Gp="auto",Fl=[Ln,er,tr,$n],Co="start",ul="end",II="clippingParents",Nb="viewport",ma="popper",CI="reference",Dv=Fl.reduce(function(t,e){return t.concat([e+"-"+Co,e+"-"+ul])},[]),Vb=[].concat(Fl,[Gp]).reduce(function(t,e){return t.concat([e,e+"-"+Co,e+"-"+ul])},[]),PI="beforeRead",RI="read",kI="afterRead",DI="beforeMain",OI="main",MI="afterMain",NI="beforeWrite",VI="write",LI="afterWrite",$I=[PI,RI,kI,DI,OI,MI,NI,VI,LI];function qr(t){return t?(t.nodeName||"").toLowerCase():null}function gr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Po(t){var e=gr(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=gr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Lb(t){if(typeof ShadowRoot>"u")return!1;var e=gr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function FI(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Zn(i)||!qr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function UI(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Zn(s)||!qr(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}var $b={name:"applyStyles",enabled:!0,phase:"write",fn:FI,effect:UI,requires:["computeStyles"]};function Nr(t){return t.split("-")[0]}var Ci=Math.max,hc=Math.min,Ro=Math.round;function ko(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(Zn(t)&&e){var i=t.offsetHeight,o=t.offsetWidth;o>0&&(r=Ro(n.width)/o||1),i>0&&(s=Ro(n.height)/i||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Yp(t){var e=ko(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Fb(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Lb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wr(t){return gr(t).getComputedStyle(t)}function BI(t){return["table","td","th"].indexOf(qr(t))>=0}function Xs(t){return((Po(t)?t.ownerDocument:t.document)||window.document).documentElement}function ad(t){return qr(t)==="html"?t:t.assignedSlot||t.parentNode||(Lb(t)?t.host:null)||Xs(t)}function Ov(t){return!Zn(t)||Wr(t).position==="fixed"?null:t.offsetParent}function jI(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Zn(t)){var r=Wr(t);if(r.position==="fixed")return null}for(var s=ad(t);Zn(s)&&["html","body"].indexOf(qr(s))<0;){var i=Wr(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ul(t){for(var e=gr(t),n=Ov(t);n&&BI(n)&&Wr(n).position==="static";)n=Ov(n);return n&&(qr(n)==="html"||qr(n)==="body"&&Wr(n).position==="static")?e:n||jI(t)||e}function Kp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ua(t,e,n){return Ci(t,hc(e,n))}function HI(t,e,n){var r=Ua(t,e,n);return r>n?n:r}function Ub(){return{top:0,right:0,bottom:0,left:0}}function Bb(t){return Object.assign({},Ub(),t)}function jb(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qI=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Bb(typeof e!="number"?e:jb(e,Fl))};function WI(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Nr(n.placement),l=Kp(a),u=[$n,tr].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var d=qI(s.padding,n),f=Yp(i),h=l==="y"?Ln:$n,p=l==="y"?er:tr,y=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],S=o[l]-n.rects.reference[l],R=Ul(i),k=R?l==="y"?R.clientHeight||0:R.clientWidth||0:0,C=y/2-S/2,g=d[h],P=k-f[c]-d[p],w=k/2-f[c]/2+C,b=Ua(g,w,P),I=l;n.modifiersData[r]=(e={},e[I]=b,e.centerOffset=b-w,e)}}function zI(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Fb(e.elements.popper,s)&&(e.elements.arrow=s))}var GI={name:"arrow",enabled:!0,phase:"main",fn:WI,effect:zI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Do(t){return t.split("-")[1]}var YI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function KI(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Ro(e*s)/s||0,y:Ro(n*s)/s||0}}function Mv(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=c===!0?KI(o):typeof c=="function"?c(o):o,h=f.x,p=h===void 0?0:h,y=f.y,S=y===void 0?0:y,R=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),C=$n,g=Ln,P=window;if(u){var w=Ul(n),b="clientHeight",I="clientWidth";if(w===gr(n)&&(w=Xs(n),Wr(w).position!=="static"&&a==="absolute"&&(b="scrollHeight",I="scrollWidth")),w=w,s===Ln||(s===$n||s===tr)&&i===ul){g=er;var O=d&&P.visualViewport?P.visualViewport.height:w[b];S-=O-r.height,S*=l?1:-1}if(s===$n||(s===Ln||s===er)&&i===ul){C=tr;var U=d&&P.visualViewport?P.visualViewport.width:w[I];p-=U-r.width,p*=l?1:-1}}var K=Object.assign({position:a},u&&YI);if(l){var M;return Object.assign({},K,(M={},M[g]=k?"0":"",M[C]=R?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+p+"px, "+S+"px)":"translate3d("+p+"px, "+S+"px, 0)",M))}return Object.assign({},K,(e={},e[g]=k?S+"px":"",e[C]=R?p+"px":"",e.transform="",e))}function QI(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Nr(e.placement),variation:Do(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mv(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mv(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var XI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QI,data:{}},Tu={passive:!0};function JI(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=gr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,Tu)}),a&&l.addEventListener("resize",n.update,Tu),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Tu)}),a&&l.removeEventListener("resize",n.update,Tu)}}var ZI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:JI,data:{}},eC={left:"right",right:"left",bottom:"top",top:"bottom"};function zu(t){return t.replace(/left|right|bottom|top/g,function(e){return eC[e]})}var tC={start:"end",end:"start"};function Nv(t){return t.replace(/start|end/g,function(e){return tC[e]})}function Qp(t){var e=gr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Xp(t){return ko(Xs(t)).left+Qp(t).scrollLeft}function nC(t){var e=gr(t),n=Xs(t),r=e.visualViewport,s=n.clientWidth,i=n.clientHeight,o=0,a=0;return r&&(s=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:i,x:o+Xp(t),y:a}}function rC(t){var e,n=Xs(t),r=Qp(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ci(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ci(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Xp(t),l=-r.scrollTop;return Wr(s||n).direction==="rtl"&&(a+=Ci(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function Jp(t){var e=Wr(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Hb(t){return["html","body","#document"].indexOf(qr(t))>=0?t.ownerDocument.body:Zn(t)&&Jp(t)?t:Hb(ad(t))}function Ba(t,e){var n;e===void 0&&(e=[]);var r=Hb(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=gr(r),o=s?[i].concat(i.visualViewport||[],Jp(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Ba(ad(o)))}function Ah(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function sC(t){var e=ko(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Vv(t,e){return e===Nb?Ah(nC(t)):Po(e)?sC(e):Ah(rC(Xs(t)))}function iC(t){var e=Ba(ad(t)),n=["absolute","fixed"].indexOf(Wr(t).position)>=0,r=n&&Zn(t)?Ul(t):t;return Po(r)?e.filter(function(s){return Po(s)&&Fb(s,r)&&qr(s)!=="body"&&(n?Wr(s).position!=="static":!0)}):[]}function oC(t,e,n){var r=e==="clippingParents"?iC(t):[].concat(e),s=[].concat(r,[n]),i=s[0],o=s.reduce(function(a,l){var u=Vv(t,l);return a.top=Ci(u.top,a.top),a.right=hc(u.right,a.right),a.bottom=hc(u.bottom,a.bottom),a.left=Ci(u.left,a.left),a},Vv(t,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function qb(t){var e=t.reference,n=t.element,r=t.placement,s=r?Nr(r):null,i=r?Do(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Ln:l={x:o,y:e.y-n.height};break;case er:l={x:o,y:e.y+e.height};break;case tr:l={x:e.x+e.width,y:a};break;case $n:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?Kp(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Co:l[u]=l[u]-(e[c]/2-n[c]/2);break;case ul:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function cl(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.boundary,o=i===void 0?II:i,a=n.rootBoundary,l=a===void 0?Nb:a,u=n.elementContext,c=u===void 0?ma:u,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,p=h===void 0?0:h,y=Bb(typeof p!="number"?p:jb(p,Fl)),S=c===ma?CI:ma,R=t.rects.popper,k=t.elements[f?S:c],C=oC(Po(k)?k:k.contextElement||Xs(t.elements.popper),o,l),g=ko(t.elements.reference),P=qb({reference:g,element:R,strategy:"absolute",placement:s}),w=Ah(Object.assign({},R,P)),b=c===ma?w:g,I={top:C.top-b.top+y.top,bottom:b.bottom-C.bottom+y.bottom,left:C.left-b.left+y.left,right:b.right-C.right+y.right},O=t.modifiersData.offset;if(c===ma&&O){var U=O[s];Object.keys(I).forEach(function(K){var M=[tr,er].indexOf(K)>=0?1:-1,X=[Ln,er].indexOf(K)>=0?"y":"x";I[K]+=U[X]*M})}return I}function aC(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Vb:l,c=Do(r),d=c?a?Dv:Dv.filter(function(p){return Do(p)===c}):Fl,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,y){return p[y]=cl(t,{placement:y,boundary:s,rootBoundary:i,padding:o})[Nr(y)],p},{});return Object.keys(h).sort(function(p,y){return h[p]-h[y]})}function lC(t){if(Nr(t)===Gp)return[];var e=zu(t);return[Nv(t),e,Nv(e)]}function uC(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,y=n.allowedAutoPlacements,S=e.options.placement,R=Nr(S),k=R===S,C=l||(k||!p?[zu(S)]:lC(S)),g=[S].concat(C).reduce(function(B,ce){return B.concat(Nr(ce)===Gp?aC(e,{placement:ce,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:y}):ce)},[]),P=e.rects.reference,w=e.rects.popper,b=new Map,I=!0,O=g[0],U=0;U<g.length;U++){var K=g[U],M=Nr(K),X=Do(K)===Co,ne=[Ln,er].indexOf(M)>=0,L=ne?"width":"height",E=cl(e,{placement:K,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),Y=ne?X?tr:$n:X?er:Ln;P[L]>w[L]&&(Y=zu(Y));var te=zu(Y),be=[];if(i&&be.push(E[M]<=0),a&&be.push(E[Y]<=0,E[te]<=0),be.every(function(B){return B})){O=K,I=!1;break}b.set(K,be)}if(I)for(var de=p?3:1,W=function(ce){var re=g.find(function(A){var ie=b.get(A);if(ie)return ie.slice(0,ce).every(function(D){return D})});if(re)return O=re,"break"},J=de;J>0;J--){var T=W(J);if(T==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}var cC={name:"flip",enabled:!0,phase:"main",fn:uC,requiresIfExists:["offset"],data:{_skip:!1}};function Lv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function $v(t){return[Ln,tr,er,$n].some(function(e){return t[e]>=0})}function dC(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=cl(e,{elementContext:"reference"}),a=cl(e,{altBoundary:!0}),l=Lv(o,r),u=Lv(a,s,i),c=$v(l),d=$v(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var fC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dC};function hC(t,e,n){var r=Nr(t),s=[$n,Ln].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[$n,tr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function pC(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=Vb.reduce(function(c,d){return c[d]=hC(d,e.rects,i),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}var mC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pC};function gC(t){var e=t.state,n=t.name;e.modifiersData[n]=qb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var vC={name:"popperOffsets",enabled:!0,phase:"read",fn:gC,data:{}};function yC(t){return t==="x"?"y":"x"}function _C(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,y=p===void 0?0:p,S=cl(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),R=Nr(e.placement),k=Do(e.placement),C=!k,g=Kp(R),P=yC(g),w=e.modifiersData.popperOffsets,b=e.rects.reference,I=e.rects.popper,O=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,U=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),K=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(w){if(i){var X,ne=g==="y"?Ln:$n,L=g==="y"?er:tr,E=g==="y"?"height":"width",Y=w[g],te=Y+S[ne],be=Y-S[L],de=h?-I[E]/2:0,W=k===Co?b[E]:I[E],J=k===Co?-I[E]:-b[E],T=e.elements.arrow,B=h&&T?Yp(T):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ub(),re=ce[ne],A=ce[L],ie=Ua(0,b[E],B[E]),D=C?b[E]/2-de-ie-re-U.mainAxis:W-ie-re-U.mainAxis,j=C?-b[E]/2+de+ie+A+U.mainAxis:J+ie+A+U.mainAxis,Ae=e.elements.arrow&&Ul(e.elements.arrow),_e=Ae?g==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,v=(X=K==null?void 0:K[g])!=null?X:0,_=Y+D-v-_e,F=Y+j-v,G=Ua(h?hc(te,_):te,Y,h?Ci(be,F):be);w[g]=G,M[g]=G-Y}if(a){var Z,Q=g==="x"?Ln:$n,Ee=g==="x"?er:tr,he=w[P],me=P==="y"?"height":"width",pe=he+S[Q],xe=he-S[Ee],Ne=[Ln,$n].indexOf(R)!==-1,Pe=(Z=K==null?void 0:K[P])!=null?Z:0,Me=Ne?pe:he-b[me]-I[me]-Pe+U.altAxis,We=Ne?he+b[me]+I[me]-Pe-U.altAxis:xe,et=h&&Ne?HI(Me,he,We):Ua(h?Me:pe,he,h?We:xe);w[P]=et,M[P]=et-he}e.modifiersData[r]=M}}var bC={name:"preventOverflow",enabled:!0,phase:"main",fn:_C,requiresIfExists:["offset"]};function wC(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function TC(t){return t===gr(t)||!Zn(t)?Qp(t):wC(t)}function EC(t){var e=t.getBoundingClientRect(),n=Ro(e.width)/t.offsetWidth||1,r=Ro(e.height)/t.offsetHeight||1;return n!==1||r!==1}function AC(t,e,n){n===void 0&&(n=!1);var r=Zn(e),s=Zn(e)&&EC(e),i=Xs(e),o=ko(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((qr(e)!=="body"||Jp(i))&&(a=TC(e)),Zn(e)?(l=ko(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=Xp(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function SC(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function xC(t){var e=SC(t);return $I.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function IC(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function CC(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Fv={placement:"bottom",modifiers:[],strategy:"absolute"};function Uv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function PC(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Fv:s;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fv,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(R){var k=typeof R=="function"?R(c.options):R;y(),c.options=Object.assign({},i,c.options,k),c.scrollParents={reference:Po(a)?Ba(a):a.contextElement?Ba(a.contextElement):[],popper:Ba(l)};var C=xC(CC([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(g){return g.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var R=c.elements,k=R.reference,C=R.popper;if(Uv(k,C)){c.rects={reference:AC(k,Ul(C),c.options.strategy==="fixed"),popper:Yp(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(U){return c.modifiersData[U.name]=Object.assign({},U.data)});for(var g=0;g<c.orderedModifiers.length;g++){if(c.reset===!0){c.reset=!1,g=-1;continue}var P=c.orderedModifiers[g],w=P.fn,b=P.options,I=b===void 0?{}:b,O=P.name;typeof w=="function"&&(c=w({state:c,options:I,name:O,instance:h})||c)}}}},update:IC(function(){return new Promise(function(S){h.forceUpdate(),S(c)})}),destroy:function(){y(),f=!0}};if(!Uv(a,l))return h;h.setOptions(u).then(function(S){!f&&u.onFirstUpdate&&u.onFirstUpdate(S)});function p(){c.orderedModifiers.forEach(function(S){var R=S.name,k=S.options,C=k===void 0?{}:k,g=S.effect;if(typeof g=="function"){var P=g({state:c,name:R,instance:h,options:C}),w=function(){};d.push(P||w)}})}function y(){d.forEach(function(S){return S()}),d=[]}return h}}var RC=[ZI,vC,XI,$b,mC,cC,bC,GI,fC],kC=PC({defaultModifiers:RC}),DC="tippy-box",Wb="tippy-content",zb="tippy-backdrop",Gb="tippy-arrow",Yb="tippy-svg-arrow",ci={passive:!0,capture:!0},Kb=function(){return document.body};function Tf(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Zp(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Qb(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Bv(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function OC(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function MC(t){return t.split(/\s+/).filter(Boolean)}function vi(t){return[].concat(t)}function jv(t,e){t.indexOf(e)===-1&&t.push(e)}function NC(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Xb(t){return t.split("-")[0]}function Oo(t){return[].slice.call(t)}function Hv(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Pi(){return document.createElement("div")}function ld(t){return["Element","Fragment"].some(function(e){return Zp(t,e)})}function VC(t){return Zp(t,"NodeList")}function em(t){return Zp(t,"MouseEvent")}function LC(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function $C(t){return ld(t)?[t]:VC(t)?Oo(t):Array.isArray(t)?t:Oo(document.querySelectorAll(t))}function Ef(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function dl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Jb(t){var e,n=vi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function FC(t,e){var n=e.clientX,r=e.clientY;return t.every(function(s){var i=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,u=Xb(o.placement),c=o.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,f=u==="top"?c.bottom.y:0,h=u==="right"?c.left.x:0,p=u==="left"?c.right.x:0,y=i.top-r+d>l,S=r-i.bottom-f>l,R=i.left-n+h>l,k=n-i.right-p>l;return y||S||R||k})}function Af(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[r](s,n)})}function qv(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Er={isTouch:!1},Wv=0;function UC(){Er.isTouch||(Er.isTouch=!0,window.performance&&document.addEventListener("mousemove",Zb))}function Zb(){var t=performance.now();t-Wv<20&&(Er.isTouch=!1,document.removeEventListener("mousemove",Zb)),Wv=t}function BC(){var t=document.activeElement;if(LC(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function jC(){document.addEventListener("touchstart",UC,ci),window.addEventListener("blur",BC)}var HC=typeof window<"u"&&typeof document<"u",qC=HC?!!window.msCrypto:!1,WC={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},zC={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},cr=Object.assign({appendTo:Kb,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},WC,zC),GC=Object.keys(cr),YC=function(e){var n=Object.keys(e);n.forEach(function(r){cr[r]=e[r]})};function ew(t){var e=t.plugins||[],n=e.reduce(function(r,s){var i=s.name,o=s.defaultValue;if(i){var a;r[i]=t[i]!==void 0?t[i]:(a=cr[i])!=null?a:o}return r},{});return Object.assign({},t,n)}function KC(t,e){var n=e?Object.keys(ew(Object.assign({},cr,{plugins:e}))):GC,r=n.reduce(function(s,i){var o=(t.getAttribute("data-tippy-"+i)||"").trim();if(!o)return s;if(i==="content")s[i]=o;else try{s[i]=JSON.parse(o)}catch{s[i]=o}return s},{});return r}function zv(t,e){var n=Object.assign({},e,{content:Qb(e.content,[t])},e.ignoreAttributes?{}:KC(t,e.plugins));return n.aria=Object.assign({},cr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var QC=function(){return"innerHTML"};function Sh(t,e){t[QC()]=e}function Gv(t){var e=Pi();return t===!0?e.className=Gb:(e.className=Yb,ld(t)?e.appendChild(t):Sh(e,t)),e}function Yv(t,e){ld(e.content)?(Sh(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Sh(t,e.content):t.textContent=e.content)}function pc(t){var e=t.firstElementChild,n=Oo(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Wb)}),arrow:n.find(function(r){return r.classList.contains(Gb)||r.classList.contains(Yb)}),backdrop:n.find(function(r){return r.classList.contains(zb)})}}function tw(t){var e=Pi(),n=Pi();n.className=DC,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Pi();r.className=Wb,r.setAttribute("data-state","hidden"),Yv(r,t.props),e.appendChild(n),n.appendChild(r),s(t.props,t.props);function s(i,o){var a=pc(e),l=a.box,u=a.content,c=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(i.content!==o.content||i.allowHTML!==o.allowHTML)&&Yv(u,t.props),o.arrow?c?i.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(Gv(o.arrow))):l.appendChild(Gv(o.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:s}}tw.$$tippy=!0;var XC=1,Eu=[],Sf=[];function JC(t,e){var n=zv(t,Object.assign({},cr,ew(Hv(e)))),r,s,i,o=!1,a=!1,l=!1,u=!1,c,d,f,h=[],p=Bv(_,n.interactiveDebounce),y,S=XC++,R=null,k=NC(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:S,reference:t,popper:Pi(),popperInstance:R,props:n,state:C,plugins:k,clearDelayTimeouts:Me,setProps:We,setContent:et,show:H,hide:q,hideWithInteractivity:fe,enable:Ne,disable:Pe,unmount:$,destroy:se};if(!n.render)return g;var P=n.render(g),w=P.popper,b=P.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+g.id,g.popper=w,t._tippy=g,w._tippy=g;var I=k.map(function(N){return N.fn(g)}),O=t.hasAttribute("aria-expanded");return Ae(),de(),Y(),te("onCreate",[g]),n.showOnCreate&&pe(),w.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",p)}),g;function U(){var N=g.props.touch;return Array.isArray(N)?N:[N,0]}function K(){return U()[0]==="hold"}function M(){var N;return!!((N=g.props.render)!=null&&N.$$tippy)}function X(){return y||t}function ne(){var N=X().parentNode;return N?Jb(N):document}function L(){return pc(w)}function E(N){return g.state.isMounted&&!g.state.isVisible||Er.isTouch||c&&c.type==="focus"?0:Tf(g.props.delay,N?0:1,cr.delay)}function Y(N){N===void 0&&(N=!1),w.style.pointerEvents=g.props.interactive&&!N?"":"none",w.style.zIndex=""+g.props.zIndex}function te(N,ae,ge){if(ge===void 0&&(ge=!0),I.forEach(function(we){we[N]&&we[N].apply(we,ae)}),ge){var ee;(ee=g.props)[N].apply(ee,ae)}}function be(){var N=g.props.aria;if(N.content){var ae="aria-"+N.content,ge=w.id,ee=vi(g.props.triggerTarget||t);ee.forEach(function(we){var Se=we.getAttribute(ae);if(g.state.isVisible)we.setAttribute(ae,Se?Se+" "+ge:ge);else{var tt=Se&&Se.replace(ge,"").trim();tt?we.setAttribute(ae,tt):we.removeAttribute(ae)}})}}function de(){if(!(O||!g.props.aria.expanded)){var N=vi(g.props.triggerTarget||t);N.forEach(function(ae){g.props.interactive?ae.setAttribute("aria-expanded",g.state.isVisible&&ae===X()?"true":"false"):ae.removeAttribute("aria-expanded")})}}function W(){ne().removeEventListener("mousemove",p),Eu=Eu.filter(function(N){return N!==p})}function J(N){if(!(Er.isTouch&&(l||N.type==="mousedown"))){var ae=N.composedPath&&N.composedPath()[0]||N.target;if(!(g.props.interactive&&qv(w,ae))){if(vi(g.props.triggerTarget||t).some(function(ge){return qv(ge,ae)})){if(Er.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else te("onClickOutside",[g,N]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),a=!0,setTimeout(function(){a=!1}),g.state.isMounted||re())}}}function T(){l=!0}function B(){l=!1}function ce(){var N=ne();N.addEventListener("mousedown",J,!0),N.addEventListener("touchend",J,ci),N.addEventListener("touchstart",B,ci),N.addEventListener("touchmove",T,ci)}function re(){var N=ne();N.removeEventListener("mousedown",J,!0),N.removeEventListener("touchend",J,ci),N.removeEventListener("touchstart",B,ci),N.removeEventListener("touchmove",T,ci)}function A(N,ae){D(N,function(){!g.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&ae()})}function ie(N,ae){D(N,ae)}function D(N,ae){var ge=L().box;function ee(we){we.target===ge&&(Af(ge,"remove",ee),ae())}if(N===0)return ae();Af(ge,"remove",d),Af(ge,"add",ee),d=ee}function j(N,ae,ge){ge===void 0&&(ge=!1);var ee=vi(g.props.triggerTarget||t);ee.forEach(function(we){we.addEventListener(N,ae,ge),h.push({node:we,eventType:N,handler:ae,options:ge})})}function Ae(){K()&&(j("touchstart",v,{passive:!0}),j("touchend",F,{passive:!0})),MC(g.props.trigger).forEach(function(N){if(N!=="manual")switch(j(N,v),N){case"mouseenter":j("mouseleave",F);break;case"focus":j(qC?"focusout":"blur",G);break;case"focusin":j("focusout",G);break}})}function _e(){h.forEach(function(N){var ae=N.node,ge=N.eventType,ee=N.handler,we=N.options;ae.removeEventListener(ge,ee,we)}),h=[]}function v(N){var ae,ge=!1;if(!(!g.state.isEnabled||Z(N)||a)){var ee=((ae=c)==null?void 0:ae.type)==="focus";c=N,y=N.currentTarget,de(),!g.state.isVisible&&em(N)&&Eu.forEach(function(we){return we(N)}),N.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||o)&&g.props.hideOnClick!==!1&&g.state.isVisible?ge=!0:pe(N),N.type==="click"&&(o=!ge),ge&&!ee&&xe(N)}}function _(N){var ae=N.target,ge=X().contains(ae)||w.contains(ae);if(!(N.type==="mousemove"&&ge)){var ee=me().concat(w).map(function(we){var Se,tt=we._tippy,dt=(Se=tt.popperInstance)==null?void 0:Se.state;return dt?{popperRect:we.getBoundingClientRect(),popperState:dt,props:n}:null}).filter(Boolean);FC(ee,N)&&(W(),xe(N))}}function F(N){var ae=Z(N)||g.props.trigger.indexOf("click")>=0&&o;if(!ae){if(g.props.interactive){g.hideWithInteractivity(N);return}xe(N)}}function G(N){g.props.trigger.indexOf("focusin")<0&&N.target!==X()||g.props.interactive&&N.relatedTarget&&w.contains(N.relatedTarget)||xe(N)}function Z(N){return Er.isTouch?K()!==N.type.indexOf("touch")>=0:!1}function Q(){Ee();var N=g.props,ae=N.popperOptions,ge=N.placement,ee=N.offset,we=N.getReferenceClientRect,Se=N.moveTransition,tt=M()?pc(w).arrow:null,dt=we?{getBoundingClientRect:we,contextElement:we.contextElement||X()}:t,Ct={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(oi){var yr=oi.state;if(M()){var fa=L(),df=fa.box;["placement","reference-hidden","escaped"].forEach(function(hu){hu==="placement"?df.setAttribute("data-placement",yr.placement):yr.attributes.popper["data-popper-"+hu]?df.setAttribute("data-"+hu,""):df.removeAttribute("data-"+hu)}),yr.attributes.popper={}}}},dn=[{name:"offset",options:{offset:ee}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Se}},Ct];M()&&tt&&dn.push({name:"arrow",options:{element:tt,padding:3}}),dn.push.apply(dn,(ae==null?void 0:ae.modifiers)||[]),g.popperInstance=kC(dt,w,Object.assign({},ae,{placement:ge,onFirstUpdate:f,modifiers:dn}))}function Ee(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function he(){var N=g.props.appendTo,ae,ge=X();g.props.interactive&&N===Kb||N==="parent"?ae=ge.parentNode:ae=Qb(N,[ge]),ae.contains(w)||ae.appendChild(w),g.state.isMounted=!0,Q()}function me(){return Oo(w.querySelectorAll("[data-tippy-root]"))}function pe(N){g.clearDelayTimeouts(),N&&te("onTrigger",[g,N]),ce();var ae=E(!0),ge=U(),ee=ge[0],we=ge[1];Er.isTouch&&ee==="hold"&&we&&(ae=we),ae?r=setTimeout(function(){g.show()},ae):g.show()}function xe(N){if(g.clearDelayTimeouts(),te("onUntrigger",[g,N]),!g.state.isVisible){re();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(N.type)>=0&&o)){var ae=E(!1);ae?s=setTimeout(function(){g.state.isVisible&&g.hide()},ae):i=requestAnimationFrame(function(){g.hide()})}}function Ne(){g.state.isEnabled=!0}function Pe(){g.hide(),g.state.isEnabled=!1}function Me(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(i)}function We(N){if(!g.state.isDestroyed){te("onBeforeUpdate",[g,N]),_e();var ae=g.props,ge=zv(t,Object.assign({},ae,Hv(N),{ignoreAttributes:!0}));g.props=ge,Ae(),ae.interactiveDebounce!==ge.interactiveDebounce&&(W(),p=Bv(_,ge.interactiveDebounce)),ae.triggerTarget&&!ge.triggerTarget?vi(ae.triggerTarget).forEach(function(ee){ee.removeAttribute("aria-expanded")}):ge.triggerTarget&&t.removeAttribute("aria-expanded"),de(),Y(),b&&b(ae,ge),g.popperInstance&&(Q(),me().forEach(function(ee){requestAnimationFrame(ee._tippy.popperInstance.forceUpdate)})),te("onAfterUpdate",[g,N])}}function et(N){g.setProps({content:N})}function H(){var N=g.state.isVisible,ae=g.state.isDestroyed,ge=!g.state.isEnabled,ee=Er.isTouch&&!g.props.touch,we=Tf(g.props.duration,0,cr.duration);if(!(N||ae||ge||ee)&&!X().hasAttribute("disabled")&&(te("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,M()&&(w.style.visibility="visible"),Y(),ce(),g.state.isMounted||(w.style.transition="none"),M()){var Se=L(),tt=Se.box,dt=Se.content;Ef([tt,dt],0)}f=function(){var dn;if(!(!g.state.isVisible||u)){if(u=!0,w.offsetHeight,w.style.transition=g.props.moveTransition,M()&&g.props.animation){var Qr=L(),oi=Qr.box,yr=Qr.content;Ef([oi,yr],we),dl([oi,yr],"visible")}be(),de(),jv(Sf,g),(dn=g.popperInstance)==null||dn.forceUpdate(),te("onMount",[g]),g.props.animation&&M()&&ie(we,function(){g.state.isShown=!0,te("onShown",[g])})}},he()}}function q(){var N=!g.state.isVisible,ae=g.state.isDestroyed,ge=!g.state.isEnabled,ee=Tf(g.props.duration,1,cr.duration);if(!(N||ae||ge)&&(te("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,u=!1,o=!1,M()&&(w.style.visibility="hidden"),W(),re(),Y(!0),M()){var we=L(),Se=we.box,tt=we.content;g.props.animation&&(Ef([Se,tt],ee),dl([Se,tt],"hidden"))}be(),de(),g.props.animation?M()&&A(ee,g.unmount):g.unmount()}}function fe(N){ne().addEventListener("mousemove",p),jv(Eu,p),p(N)}function $(){g.state.isVisible&&g.hide(),g.state.isMounted&&(Ee(),me().forEach(function(N){N._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),Sf=Sf.filter(function(N){return N!==g}),g.state.isMounted=!1,te("onHidden",[g]))}function se(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),_e(),delete t._tippy,g.state.isDestroyed=!0,te("onDestroy",[g]))}}function $e(t,e){e===void 0&&(e={});var n=cr.plugins.concat(e.plugins||[]);jC();var r=Object.assign({},e,{plugins:n}),s=$C(t),i=s.reduce(function(o,a){var l=a&&JC(a,r);return l&&o.push(l),o},[]);return ld(t)?i[0]:i}$e.defaultProps=cr;$e.setDefaultProps=YC;$e.currentInput=Er;var ZC=Object.assign({},$b,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),eP=function(e,n){var r;n===void 0&&(n={});var s=e,i=[],o=[],a,l=n.overrides,u=[],c=!1;function d(){o=s.map(function(g){return vi(g.props.triggerTarget||g.reference)}).reduce(function(g,P){return g.concat(P)},[])}function f(){i=s.map(function(g){return g.reference})}function h(g){s.forEach(function(P){g?P.enable():P.disable()})}function p(g){return s.map(function(P){var w=P.setProps;return P.setProps=function(b){w(b),P.reference===a&&g.setProps(b)},function(){P.setProps=w}})}function y(g,P){var w=o.indexOf(P);if(P!==a){a=P;var b=(l||[]).concat("content").reduce(function(I,O){return I[O]=s[w].props[O],I},{});g.setProps(Object.assign({},b,{getReferenceClientRect:typeof b.getReferenceClientRect=="function"?b.getReferenceClientRect:function(){var I;return(I=i[w])==null?void 0:I.getBoundingClientRect()}}))}}h(!1),f(),d();var S={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){a=null},onClickOutside:function(w){w.props.showOnCreate&&!c&&(c=!0,a=null)},onShow:function(w){w.props.showOnCreate&&!c&&(c=!0,y(w,i[0]))},onTrigger:function(w,b){y(w,b.currentTarget)}}}},R=$e(Pi(),Object.assign({},OC(n,["overrides"]),{plugins:[S].concat(n.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[ZC])})})),k=R.show;R.show=function(g){if(k(),!a&&g==null)return y(R,i[0]);if(!(a&&g==null)){if(typeof g=="number")return i[g]&&y(R,i[g]);if(s.indexOf(g)>=0){var P=g.reference;return y(R,P)}if(i.indexOf(g)>=0)return y(R,g)}},R.showNext=function(){var g=i[0];if(!a)return R.show(0);var P=i.indexOf(a);R.show(i[P+1]||g)},R.showPrevious=function(){var g=i[i.length-1];if(!a)return R.show(g);var P=i.indexOf(a),w=i[P-1]||g;R.show(w)};var C=R.setProps;return R.setProps=function(g){l=g.overrides||l,C(g)},R.setInstances=function(g){h(!0),u.forEach(function(P){return P()}),s=g,h(!1),f(),d(),u=p(R),R.setProps({triggerTarget:o})},u=p(R),R},tP={name:"animateFill",defaultValue:!1,fn:function(e){var n;if(!((n=e.props.render)!=null&&n.$$tippy))return{};var r=pc(e.popper),s=r.box,i=r.content,o=e.props.animateFill?nP():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,u=Number(l.replace("ms",""));i.style.transitionDelay=Math.round(u/10)+"ms",o.style.transitionDuration=l,dl([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&dl([o],"hidden")}}}};function nP(){var t=Pi();return t.className=zb,dl([t],"hidden"),t}var xh={clientX:0,clientY:0},Au=[];function nw(t){var e=t.clientX,n=t.clientY;xh={clientX:e,clientY:n}}function rP(t){t.addEventListener("mousemove",nw)}function sP(t){t.removeEventListener("mousemove",nw)}var iP={name:"followCursor",defaultValue:!1,fn:function(e){var n=e.reference,r=Jb(e.props.triggerTarget||n),s=!1,i=!1,o=!0,a=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function u(){r.addEventListener("mousemove",f)}function c(){r.removeEventListener("mousemove",f)}function d(){s=!0,e.setProps({getReferenceClientRect:null}),s=!1}function f(y){var S=y.target?n.contains(y.target):!0,R=e.props.followCursor,k=y.clientX,C=y.clientY,g=n.getBoundingClientRect(),P=k-g.left,w=C-g.top;(S||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var I=n.getBoundingClientRect(),O=k,U=C;R==="initial"&&(O=I.left+P,U=I.top+w);var K=R==="horizontal"?I.top:U,M=R==="vertical"?I.right:O,X=R==="horizontal"?I.bottom:U,ne=R==="vertical"?I.left:O;return{width:M-ne,height:X-K,top:K,right:M,bottom:X,left:ne}}})}function h(){e.props.followCursor&&(Au.push({instance:e,doc:r}),rP(r))}function p(){Au=Au.filter(function(y){return y.instance!==e}),Au.filter(function(y){return y.doc===r}).length===0&&sP(r)}return{onCreate:h,onDestroy:p,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(S,R){var k=R.followCursor;s||k!==void 0&&a.followCursor!==k&&(p(),k?(h(),e.state.isMounted&&!i&&!l()&&u()):(c(),d()))},onMount:function(){e.props.followCursor&&!i&&(o&&(f(xh),o=!1),l()||u())},onTrigger:function(S,R){em(R)&&(xh={clientX:R.clientX,clientY:R.clientY}),i=R.type==="focus"},onHidden:function(){e.props.followCursor&&(d(),c(),o=!0)}}}};function oP(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var s=r.name;return s!==e.name}),[e])})}}var aP={name:"inlinePositioning",defaultValue:!1,fn:function(e){var n=e.reference;function r(){return!!e.props.inlinePositioning}var s,i=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(h){var p=h.state;r()&&(a.indexOf(p.placement)!==-1&&(a=[]),s!==p.placement&&a.indexOf(p.placement)===-1&&(a.push(p.placement),e.setProps({getReferenceClientRect:function(){return u(p.placement)}})),s=p.placement)}};function u(f){return lP(Xb(f),n.getBoundingClientRect(),Oo(n.getClientRects()),i)}function c(f){o=!0,e.setProps(f),o=!1}function d(){o||c(oP(e.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(h,p){if(em(p)){var y=Oo(e.reference.getClientRects()),S=y.find(function(k){return k.left-2<=p.clientX&&k.right+2>=p.clientX&&k.top-2<=p.clientY&&k.bottom+2>=p.clientY}),R=y.indexOf(S);i=R>-1?R:i}},onHidden:function(){i=-1}}}};function lP(t,e,n,r){if(n.length<2||t===null)return e;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":{var s=n[0],i=n[n.length-1],o=t==="top",a=s.top,l=i.bottom,u=o?s.left:i.left,c=o?s.right:i.right,d=c-u,f=l-a;return{top:a,bottom:l,left:u,right:c,width:d,height:f}}case"left":case"right":{var h=Math.min.apply(Math,n.map(function(w){return w.left})),p=Math.max.apply(Math,n.map(function(w){return w.right})),y=n.filter(function(w){return t==="left"?w.left===h:w.right===p}),S=y[0].top,R=y[y.length-1].bottom,k=h,C=p,g=C-k,P=R-S;return{top:S,bottom:R,left:k,right:C,width:g,height:P}}default:return e}}var uP={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,r=e.popper;function s(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function i(u){return e.props.sticky===!0||e.props.sticky===u}var o=null,a=null;function l(){var u=i("reference")?s().getBoundingClientRect():null,c=i("popper")?r.getBoundingClientRect():null;(u&&Kv(o,u)||c&&Kv(a,c))&&e.popperInstance&&e.popperInstance.update(),o=u,a=c,e.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){e.props.sticky&&l()}}}};function Kv(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}$e.setDefaultProps({render:tw});$e.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function rw(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const r=Ll(),s=le(),i=le({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Mp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),u=b=>{let I,O=ht(b)?b.value:b;return ll(O)?(o.value||(o.value=wh({name:n.appName,setup:()=>()=>ht(b)?b.value:b}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),I=()=>l()):typeof O=="object"?(o.value||(o.value=wh({name:n.appName,setup:()=>()=>Pr(ht(b)?b.value:b)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),I=()=>l()):I=O,I},c=b=>{let I={};return ht(b)?I=b.value||{}:Mr(b)?I={...b}:I={...b},I.content&&(I.content=u(I.content)),I.triggerTarget&&(I.triggerTarget=ht(I.triggerTarget)?I.triggerTarget.value:I.triggerTarget),(!I.plugins||!Array.isArray(I.plugins))&&(I.plugins=[]),I.plugins=I.plugins.filter(O=>O.name!=="vueTippyReactiveState"),I.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){i.value.isEnabled=!0},onMount(){i.value.isMounted=!0},onShow(){i.value.isMounted=!0,i.value.isVisible=!0},onShown(){i.value.isShown=!0},onHide(){i.value.isMounted=!1,i.value.isVisible=!1},onHidden(){i.value.isShown=!1},onUnmounted(){i.value.isMounted=!1},onDestroy(){i.value.isDestroyed=!0}})}),I},d=()=>{s.value&&s.value.setProps(c(e))},f=()=>{!s.value||!e.content||s.value.setContent(u(e.content))},h=b=>{var I;(I=s.value)===null||I===void 0||I.setContent(u(b))},p=b=>{var I;(I=s.value)===null||I===void 0||I.setProps(c(b))},y=()=>{var b;s.value&&(s.value.destroy(),s.value=void 0),a=null,(b=o.value)===null||b===void 0||b.unmount(),o.value=void 0},S=()=>{var b;(b=s.value)===null||b===void 0||b.show()},R=()=>{var b;(b=s.value)===null||b===void 0||b.hide()},k=()=>{var b;(b=s.value)===null||b===void 0||b.disable(),i.value.isEnabled=!1},C=()=>{var b;(b=s.value)===null||b===void 0||b.enable(),i.value.isEnabled=!0},g=()=>{var b;(b=s.value)===null||b===void 0||b.unmount()},P=()=>{if(!t)return;let b=ht(t)?t.value:t;typeof b=="function"&&(b=b()),b&&(s.value=$e(b,c(e)),b.$tippy=w)},w={tippy:s,refresh:d,refreshContent:f,setContent:h,setProps:p,destroy:y,hide:R,show:S,disable:k,enable:C,unmount:g,mount:P,state:i};return n.mount&&(r?r.isMounted?P():Ot(P):P()),r&&Wi(()=>{y()}),ht(e)||Mr(e)?Ut(e,d,{immediate:!1}):ht(e.content)&&Ut(e.content,f,{immediate:!1}),w}function cP(t,e){const n=le();return Ot(()=>{const s=(Array.isArray(t)?t.map(i=>i.value):typeof t=="function"?t():t.value).map(i=>i instanceof Element?i._tippy:i).filter(Boolean);n.value=eP(s,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function dP(t){return typeof t=="function"?t():m(t)}function fP(t){var e,n;const r=dP(t);return(n=(e=r)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:r}const hP=nt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>$e.defaultProps.appendTo},aria:{default:()=>$e.defaultProps.aria},delay:{default:()=>$e.defaultProps.delay},duration:{default:()=>$e.defaultProps.duration},getReferenceClientRect:{default:()=>$e.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>$e.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>$e.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>$e.defaultProps.interactive},interactiveBorder:{default:()=>$e.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>$e.defaultProps.interactiveDebounce},moveTransition:{default:()=>$e.defaultProps.moveTransition},offset:{default:()=>$e.defaultProps.offset},onAfterUpdate:{default:()=>$e.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>$e.defaultProps.onBeforeUpdate},onCreate:{default:()=>$e.defaultProps.onCreate},onDestroy:{default:()=>$e.defaultProps.onDestroy},onHidden:{default:()=>$e.defaultProps.onHidden},onHide:{default:()=>$e.defaultProps.onHide},onMount:{default:()=>$e.defaultProps.onMount},onShow:{default:()=>$e.defaultProps.onShow},onShown:{default:()=>$e.defaultProps.onShown},onTrigger:{default:()=>$e.defaultProps.onTrigger},onUntrigger:{default:()=>$e.defaultProps.onUntrigger},onClickOutside:{default:()=>$e.defaultProps.onClickOutside},placement:{default:()=>$e.defaultProps.placement},plugins:{default:()=>$e.defaultProps.plugins},popperOptions:{default:()=>$e.defaultProps.popperOptions},render:{default:()=>$e.defaultProps.render},showOnCreate:{type:Boolean,default:()=>$e.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>$e.defaultProps.touch},trigger:{default:()=>$e.defaultProps.trigger},triggerTarget:{default:()=>$e.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>$e.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>$e.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>$e.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>$e.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>$e.defaultProps.allowHTML},animation:{default:()=>$e.defaultProps.animation},arrow:{default:()=>$e.defaultProps.arrow},content:{default:()=>$e.defaultProps.content},inertia:{default:()=>$e.defaultProps.inertia},maxWidth:{default:()=>$e.defaultProps.maxWidth},role:{default:()=>$e.defaultProps.role},theme:{default:()=>$e.defaultProps.theme},zIndex:{default:()=>$e.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:r}){const s=le(),i=le(),o=le(),a=le(!1),l=()=>{let h={...t};for(const p of["to","tag","contentTag","contentClass"])h.hasOwnProperty(p)&&delete h[p];return h};let u=()=>fP(s);t.to&&(typeof Element<"u"&&t.to instanceof Element?u=()=>t.to:t.to==="parent"?u=()=>{let h=s.value;return h||(h=s.value=i.value.parentElement),h}:(typeof t.to=="string"||t.to instanceof String)&&(u=()=>document.querySelector(t.to)));const c=rw(u,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),Ot(()=>{a.value=!0,St(()=>{d&&c.setContent(()=>o.value)})}),Ut(c.state,()=>{n("state",m(c.state))},{immediate:!0,deep:!0}),Ut(()=>t,()=>{c.setProps(l()),d&&c.setContent(()=>o.value)},{deep:!0});let f=en({elem:s,contentElem:o,mounted:a,...c});return r(f),()=>{const h=(typeof t.contentTag=="string",t.contentTag),p=d?Pr(h,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const R=[];if(!s.value){const k=Pr("span",{ref:i,"data-v-tippy":"",style:{display:"none"}});R.push(k)}return p&&R.push(p),R}const y=e.default?e.default(f):[];if(!t.tag){const R=Pr(y[0],{ref:s,"data-v-tippy":""});return p?[R,p]:R}const S=(typeof t.tag=="string",t.tag);return Pr(S,{ref:s,"data-v-tippy":""},p?[y,p]:y)}}}),pP=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Ih={};Object.keys($e.defaultProps).forEach(t=>{pP.includes(t)?Ih[t]={type:Boolean,default:function(){return $e.defaultProps[t]}}:Ih[t]={default:function(){return $e.defaultProps[t]}}});const mP=nt({props:Ih,setup(t){const e=le([]),{singleton:n}=cP(e,t);return{instances:e,singleton:n}},mounted(){var t;const n=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(n).map(r=>r._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return Pr(()=>t)}}),gP={mounted(t,e,n){const r=typeof e.value=="string"?{content:e.value}:e.value||{},s=Object.keys(e.modifiers||{}),i=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;i&&(r.placement=r.placement||i),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),n.props&&n.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!r.content&&(r.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!r.content&&(r.content=t.getAttribute("content")),rw(t,r)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},vP={install(t,e={}){$e.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",gP),t.component(e.component||"tippy",hP),t.component(e.componentSingleton||"tippy-singleton",mP)}},yP=$e.setDefaultProps;yP({ignoreAttributes:!0,plugins:[uP,aP,iP,tP]});const _P=vP;/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const oo=typeof document<"u";function bP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const _t=Object.assign;function xf(t,e){const n={};for(const r in e){const s=e[r];n[r]=hr(s)?s.map(t):t(s)}return n}const ja=()=>{},hr=Array.isArray,sw=/#/g,wP=/&/g,TP=/\//g,EP=/=/g,AP=/\?/g,iw=/\+/g,SP=/%5B/g,xP=/%5D/g,ow=/%5E/g,IP=/%60/g,aw=/%7B/g,CP=/%7C/g,lw=/%7D/g,PP=/%20/g;function tm(t){return encodeURI(""+t).replace(CP,"|").replace(SP,"[").replace(xP,"]")}function RP(t){return tm(t).replace(aw,"{").replace(lw,"}").replace(ow,"^")}function Ch(t){return tm(t).replace(iw,"%2B").replace(PP,"+").replace(sw,"%23").replace(wP,"%26").replace(IP,"`").replace(aw,"{").replace(lw,"}").replace(ow,"^")}function kP(t){return Ch(t).replace(EP,"%3D")}function DP(t){return tm(t).replace(sw,"%23").replace(AP,"%3F")}function OP(t){return t==null?"":DP(t).replace(TP,"%2F")}function fl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const MP=/\/$/,NP=t=>t.replace(MP,"");function If(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=FP(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:fl(o)}}function VP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Qv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function LP(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Mo(e.matched[r],n.matched[s])&&uw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Mo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function uw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!$P(t[n],e[n]))return!1;return!0}function $P(t,e){return hr(t)?Xv(t,e):hr(e)?Xv(e,t):t===e}function Xv(t,e){return hr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function FP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}var hl;(function(t){t.pop="pop",t.push="push"})(hl||(hl={}));var Ha;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ha||(Ha={}));function UP(t){if(!t)if(oo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),NP(t)}const BP=/^[^#]+#/;function jP(t,e){return t.replace(BP,"#")+e}function HP(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ud=()=>({left:window.scrollX,top:window.scrollY});function qP(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=HP(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Jv(t,e){return(history.state?history.state.position-e:-1)+t}const Ph=new Map;function WP(t,e){Ph.set(t,e)}function zP(t){const e=Ph.get(t);return Ph.delete(t),e}let GP=()=>location.protocol+"//"+location.host;function cw(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Qv(l,"")}return Qv(n,t)+r+s}function YP(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=cw(t,location),p=n.value,y=e.value;let S=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}S=y?f.position-y.position:0}else r(h);s.forEach(R=>{R(n.value,p,{delta:S,type:hl.pop,direction:S?S>0?Ha.forward:Ha.back:Ha.unknown})})};function l(){o=n.value}function u(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(_t({},f.state,{scroll:ud()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function Zv(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ud():null}}function KP(t){const{history:e,location:n}=window,r={value:cw(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:GP()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=_t({},e.state,Zv(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=_t({},s.value,e.state,{forward:l,scroll:ud()});i(c.current,c,!0);const d=_t({},Zv(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function QP(t){t=UP(t);const e=KP(t),n=YP(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:t,go:r,createHref:jP.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function XP(t){return typeof t=="string"||t&&typeof t=="object"}function dw(t){return typeof t=="string"||typeof t=="symbol"}const vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fw=Symbol("");var ey;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ey||(ey={}));function No(t,e){return _t(new Error,{type:t,[fw]:!0},e)}function Xr(t,e){return t instanceof Error&&fw in t&&(e==null||!!(t.type&e))}const ty="[^/]+?",JP={sensitive:!1,strict:!1,start:!0,end:!0},ZP=/[.+*?^${}()[\]/\\]/g;function eR(t,e){const n=_t({},JP,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(ZP,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:y,optional:S,regexp:R}=f;i.push({name:p,repeatable:y,optional:S});const k=R||ty;if(k!==ty){h+=10;try{new RegExp(`(${k})`)}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${k}): `+g.message)}}let C=y?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(C=S&&u.length<2?`(?:/${C})`:"/"+C),S&&(C+="?"),s+=C,h+=20,S&&(h+=-8),y&&(h+=-20),k===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:S}=h,R=p in u?u[p]:"";if(hr(R)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const k=hr(R)?R.join("/"):R;if(!k)if(S)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=k}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function tR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function nR(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=tR(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ny(r))return 1;if(ny(s))return-1}return s.length-r.length}function ny(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const rR={type:0,value:""},sR=/[a-zA-Z0-9_]/;function iR(t){if(!t)return[[]];if(t==="/")return[[rR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:sR.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}function oR(t,e,n){const r=eR(iR(t.path),n),s=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function aR(t,e){const n=[],r=new Map;e=iy({strict:!1,end:!0,sensitive:!1},e);function s(c){return r.get(c)}function i(c,d,f){const h=!f,p=lR(c);p.aliasOf=f&&f.record;const y=iy(e,c),S=[p];if("alias"in c){const C=typeof c.alias=="string"?[c.alias]:c.alias;for(const g of C)S.push(_t({},p,{components:f?f.record.components:p.components,path:g,aliasOf:f?f.record:p}))}let R,k;for(const C of S){const{path:g}=C;if(d&&g[0]!=="/"){const P=d.record.path,w=P[P.length-1]==="/"?"":"/";C.path=d.record.path+(g&&w+g)}if(R=oR(C,d,y),f?f.alias.push(R):(k=k||R,k!==R&&k.alias.push(R),h&&c.name&&!sy(R)&&o(c.name)),p.children){const P=p.children;for(let w=0;w<P.length;w++)i(P[w],R,f&&f.children[w])}f=f||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&l(R)}return k?()=>{o(k)}:ja}function o(c){if(dw(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&nR(c,n[d])>=0&&(c.record.path!==n[d].record.path||!hw(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!sy(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,y;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw No(1,{location:c});y=f.record.name,h=_t(ry(d.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),c.params&&ry(c.params,f.keys.map(k=>k.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(k=>k.re.test(p)),f&&(h=f.parse(p),y=f.record.name);else{if(f=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!f)throw No(1,{location:c,currentLocation:d});y=f.record.name,h=_t({},d.params,c.params),p=f.stringify(h)}const S=[];let R=f;for(;R;)S.unshift(R.record),R=R.parent;return{name:y,path:p,params:h,matched:S,meta:cR(S)}}return t.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function ry(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function lR(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:uR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function uR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function sy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function cR(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function iy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function hw(t,e){return e.children.some(n=>n===t||hw(t,n))}function dR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(iw," "),o=i.indexOf("="),a=fl(o<0?i:i.slice(0,o)),l=o<0?null:fl(i.slice(o+1));if(a in e){let u=e[a];hr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function oy(t){let e="";for(let n in t){const r=t[n];if(n=kP(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(hr(r)?r.map(i=>i&&Ch(i)):[r&&Ch(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function fR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=hr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const hR=Symbol(""),ay=Symbol(""),cd=Symbol(""),pw=Symbol(""),Rh=Symbol("");function ga(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Cs(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(No(4,{from:n,to:e})):f instanceof Error?l(f):XP(f)?l(No(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Cf(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(pR(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Cs(c,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=bP(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Cs(h,n,r,o,a,s)()}))}}return i}function pR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ly(t){const e=Xn(cd),n=Xn(pw),r=ue(()=>e.resolve(m(t.to))),s=ue(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Mo.bind(null,c));if(f>-1)return f;const h=uy(l[u-2]);return u>1&&uy(c)===h&&d[d.length-1].path!==h?d.findIndex(Mo.bind(null,l[u-2])):f}),i=ue(()=>s.value>-1&&yR(n.params,r.value.params)),o=ue(()=>s.value>-1&&s.value===n.matched.length-1&&uw(n.params,r.value.params));function a(l={}){return vR(l)?e[m(t.replace)?"replace":"push"](m(t.to)).catch(ja):Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const mR=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ly,setup(t,{slots:e}){const n=en(ly(t)),{options:r}=Xn(cd),s=ue(()=>({[cy(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cy(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Pr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),gR=mR;function vR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function yR(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!hr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function uy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cy=(t,e,n)=>t??e??n,_R=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Xn(Rh),s=ue(()=>t.route||r.value),i=Xn(ay,0),o=ue(()=>{let u=m(i);const{matched:c}=s.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ue(()=>s.value.matched[o.value]);Na(ay,ue(()=>o.value+1)),Na(hR,a),Na(Rh,s);const l=le();return Ut(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Mo(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return dy(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,S=Pr(f,_t({},p,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return dy(n.default,{Component:S,route:u})||S}}});function dy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const mw=_R;function bR(t){const e=aR(t.routes,t),n=t.parseQuery||dR,r=t.stringifyQuery||oy,s=t.history,i=ga(),o=ga(),a=ga(),l=Mp(vs);let u=vs;oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=xf.bind(null,A=>""+A),d=xf.bind(null,OP),f=xf.bind(null,fl);function h(A,ie){let D,j;return dw(A)?(D=e.getRecordMatcher(A),j=ie):j=A,e.addRoute(j,D)}function p(A){const ie=e.getRecordMatcher(A);ie&&e.removeRoute(ie)}function y(){return e.getRoutes().map(A=>A.record)}function S(A){return!!e.getRecordMatcher(A)}function R(A,ie){if(ie=_t({},ie||l.value),typeof A=="string"){const _=If(n,A,ie.path),F=e.resolve({path:_.path},ie),G=s.createHref(_.fullPath);return _t(_,F,{params:f(F.params),hash:fl(_.hash),redirectedFrom:void 0,href:G})}let D;if(A.path!=null)D=_t({},A,{path:If(n,A.path,ie.path).path});else{const _=_t({},A.params);for(const F in _)_[F]==null&&delete _[F];D=_t({},A,{params:d(_)}),ie.params=d(ie.params)}const j=e.resolve(D,ie),Ae=A.hash||"";j.params=c(f(j.params));const _e=VP(r,_t({},A,{hash:RP(Ae),path:j.path})),v=s.createHref(_e);return _t({fullPath:_e,hash:Ae,query:r===oy?fR(A.query):A.query||{}},j,{redirectedFrom:void 0,href:v})}function k(A){return typeof A=="string"?If(n,A,l.value.path):_t({},A)}function C(A,ie){if(u!==A)return No(8,{from:ie,to:A})}function g(A){return b(A)}function P(A){return g(_t(k(A),{replace:!0}))}function w(A){const ie=A.matched[A.matched.length-1];if(ie&&ie.redirect){const{redirect:D}=ie;let j=typeof D=="function"?D(A):D;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=k(j):{path:j},j.params={}),_t({query:A.query,hash:A.hash,params:j.path!=null?{}:A.params},j)}}function b(A,ie){const D=u=R(A),j=l.value,Ae=A.state,_e=A.force,v=A.replace===!0,_=w(D);if(_)return b(_t(k(_),{state:typeof _=="object"?_t({},Ae,_.state):Ae,force:_e,replace:v}),ie||D);const F=D;F.redirectedFrom=ie;let G;return!_e&&LP(r,j,D)&&(G=No(16,{to:F,from:j}),W(j,j,!0,!1)),(G?Promise.resolve(G):U(F,j)).catch(Z=>Xr(Z)?Xr(Z,2)?Z:de(Z):te(Z,F,j)).then(Z=>{if(Z){if(Xr(Z,2))return b(_t({replace:v},k(Z.to),{state:typeof Z.to=="object"?_t({},Ae,Z.to.state):Ae,force:_e}),ie||F)}else Z=M(F,j,!0,v,Ae);return K(F,j,Z),Z})}function I(A,ie){const D=C(A,ie);return D?Promise.reject(D):Promise.resolve()}function O(A){const ie=B.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(A):A()}function U(A,ie){let D;const[j,Ae,_e]=wR(A,ie);D=Cf(j.reverse(),"beforeRouteLeave",A,ie);for(const _ of j)_.leaveGuards.forEach(F=>{D.push(Cs(F,A,ie))});const v=I.bind(null,A,ie);return D.push(v),re(D).then(()=>{D=[];for(const _ of i.list())D.push(Cs(_,A,ie));return D.push(v),re(D)}).then(()=>{D=Cf(Ae,"beforeRouteUpdate",A,ie);for(const _ of Ae)_.updateGuards.forEach(F=>{D.push(Cs(F,A,ie))});return D.push(v),re(D)}).then(()=>{D=[];for(const _ of _e)if(_.beforeEnter)if(hr(_.beforeEnter))for(const F of _.beforeEnter)D.push(Cs(F,A,ie));else D.push(Cs(_.beforeEnter,A,ie));return D.push(v),re(D)}).then(()=>(A.matched.forEach(_=>_.enterCallbacks={}),D=Cf(_e,"beforeRouteEnter",A,ie,O),D.push(v),re(D))).then(()=>{D=[];for(const _ of o.list())D.push(Cs(_,A,ie));return D.push(v),re(D)}).catch(_=>Xr(_,8)?_:Promise.reject(_))}function K(A,ie,D){a.list().forEach(j=>O(()=>j(A,ie,D)))}function M(A,ie,D,j,Ae){const _e=C(A,ie);if(_e)return _e;const v=ie===vs,_=oo?history.state:{};D&&(j||v?s.replace(A.fullPath,_t({scroll:v&&_&&_.scroll},Ae)):s.push(A.fullPath,Ae)),l.value=A,W(A,ie,D,v),de()}let X;function ne(){X||(X=s.listen((A,ie,D)=>{if(!ce.listening)return;const j=R(A),Ae=w(j);if(Ae){b(_t(Ae,{replace:!0}),j).catch(ja);return}u=j;const _e=l.value;oo&&WP(Jv(_e.fullPath,D.delta),ud()),U(j,_e).catch(v=>Xr(v,12)?v:Xr(v,2)?(b(v.to,j).then(_=>{Xr(_,20)&&!D.delta&&D.type===hl.pop&&s.go(-1,!1)}).catch(ja),Promise.reject()):(D.delta&&s.go(-D.delta,!1),te(v,j,_e))).then(v=>{v=v||M(j,_e,!1),v&&(D.delta&&!Xr(v,8)?s.go(-D.delta,!1):D.type===hl.pop&&Xr(v,20)&&s.go(-1,!1)),K(j,_e,v)}).catch(ja)}))}let L=ga(),E=ga(),Y;function te(A,ie,D){de(A);const j=E.list();return j.length?j.forEach(Ae=>Ae(A,ie,D)):console.error(A),Promise.reject(A)}function be(){return Y&&l.value!==vs?Promise.resolve():new Promise((A,ie)=>{L.add([A,ie])})}function de(A){return Y||(Y=!A,ne(),L.list().forEach(([ie,D])=>A?D(A):ie()),L.reset()),A}function W(A,ie,D,j){const{scrollBehavior:Ae}=t;if(!oo||!Ae)return Promise.resolve();const _e=!D&&zP(Jv(A.fullPath,0))||(j||!D)&&history.state&&history.state.scroll||null;return St().then(()=>Ae(A,ie,_e)).then(v=>v&&qP(v)).catch(v=>te(v,A,ie))}const J=A=>s.go(A);let T;const B=new Set,ce={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:S,getRoutes:y,resolve:R,options:t,push:g,replace:P,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:E.add,isReady:be,install(A){const ie=this;A.component("RouterLink",gR),A.component("RouterView",mw),A.config.globalProperties.$router=ie,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>m(l)}),oo&&!T&&l.value===vs&&(T=!0,g(s.location).catch(Ae=>{}));const D={};for(const Ae in vs)Object.defineProperty(D,Ae,{get:()=>l.value[Ae],enumerable:!0});A.provide(cd,ie),A.provide(pw,U0(D)),A.provide(Rh,l);const j=A.unmount;B.add(A),A.unmount=function(){B.delete(A),B.size<1&&(u=vs,X&&X(),X=null,l.value=vs,T=!1,Y=!1),j()}}};function re(A){return A.reduce((ie,D)=>ie.then(()=>O(D)),Promise.resolve())}return ce}function wR(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Mo(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Mo(u,l))||s.push(l))}return[n,r,s]}function ea(){return Xn(cd)}const gw=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},TR={},ER={class:"loader"};function AR(t,e){return V(),z("div",ER)}const dd=gw(TR,[["render",AR]]),SR={class:"w-screen h-screen z-30 fixed top-0 left-0 flex flex-row justify-center items-center"},xR=nt({__name:"LoadingView",setup(t){return(e,n)=>(V(),z("div",SR,[qe(dd)]))}});var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new CR;const f=i<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(t){const e=vw(t);return yw.encodeByteArray(e,!0)},mc=function(t){return PR(t).replace(/\./g,"")},_w=function(t){try{return yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=()=>RR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof fy>"u")return;const t=fy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_w(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return kR()||DR()||OR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bw=t=>{var e,n;return(n=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MR=t=>{const e=bw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ww=()=>{var t;return(t=fd())===null||t===void 0?void 0:t.config},Tw=t=>{var e;return(e=fd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mc(JSON.stringify(n)),mc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function $R(){var t;const e=(t=fd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jR(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ew(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qR,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?WR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ps(s,a,r)}}function WR(t,e){return t.replace(zR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zR=/\{\$([^}]+)}/g;function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hy(i)&&hy(o)){if(!gc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YR(t,e){const n=new KR(t,e);return n.subscribe.bind(n)}class KR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pf),s.error===void 0&&(s.error=Pf),s.complete===void 0&&(s.complete=Pf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZR(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(t){return t===di?void 0:t}function ZR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const tk={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},nk=ot.INFO,rk={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},sk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nm{constructor(e){this.name=e,this._logLevel=nk,this._logHandler=sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const ik=(t,e)=>e.some(n=>t instanceof n);let py,my;function ok(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,kh=new WeakMap,Sw=new WeakMap,Rf=new WeakMap,rm=new WeakMap;function lk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ls(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Aw.set(n,t)}).catch(()=>{}),rm.set(e,t),e}function uk(t){if(kh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kh.set(t,e)}let Dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ck(t){Dh=t(Dh)}function dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kf(this),e,...n);return Sw.set(r,e.sort?e.sort():[e]),Ls(r)}:ak().includes(t)?function(...e){return t.apply(kf(this),e),Ls(Aw.get(this))}:function(...e){return Ls(t.apply(kf(this),e))}}function fk(t){return typeof t=="function"?dk(t):(t instanceof IDBTransaction&&uk(t),ik(t,ok())?new Proxy(t,Dh):t)}function Ls(t){if(t instanceof IDBRequest)return lk(t);if(Rf.has(t))return Rf.get(t);const e=fk(t);return e!==t&&(Rf.set(t,e),rm.set(e,t)),e}const kf=t=>rm.get(t);function hk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ls(o.result),l.oldVersion,l.newVersion,Ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],Df=new Map;function gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pk.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Df.set(e,i),i}ck(t=>({...t,get:(e,n,r)=>gy(e,n)||t.get(e,n,r),has:(e,n)=>!!gy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oh="@firebase/app",vy="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new nm("@firebase/app"),yk="@firebase/app-compat",_k="@firebase/analytics-compat",bk="@firebase/analytics",wk="@firebase/app-check-compat",Tk="@firebase/app-check",Ek="@firebase/auth",Ak="@firebase/auth-compat",Sk="@firebase/database",xk="@firebase/database-compat",Ik="@firebase/functions",Ck="@firebase/functions-compat",Pk="@firebase/installations",Rk="@firebase/installations-compat",kk="@firebase/messaging",Dk="@firebase/messaging-compat",Ok="@firebase/performance",Mk="@firebase/performance-compat",Nk="@firebase/remote-config",Vk="@firebase/remote-config-compat",Lk="@firebase/storage",$k="@firebase/storage-compat",Fk="@firebase/firestore",Uk="@firebase/firestore-compat",Bk="firebase",jk="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",Hk={[Oh]:"fire-core",[yk]:"fire-core-compat",[bk]:"fire-analytics",[_k]:"fire-analytics-compat",[Tk]:"fire-app-check",[wk]:"fire-app-check-compat",[Ek]:"fire-auth",[Ak]:"fire-auth-compat",[Sk]:"fire-rtdb",[xk]:"fire-rtdb-compat",[Ik]:"fire-fn",[Ck]:"fire-fn-compat",[Pk]:"fire-iid",[Rk]:"fire-iid-compat",[kk]:"fire-fcm",[Dk]:"fire-fcm-compat",[Ok]:"fire-perf",[Mk]:"fire-perf-compat",[Nk]:"fire-rc",[Vk]:"fire-rc-compat",[Lk]:"fire-gcs",[$k]:"fire-gcs-compat",[Fk]:"fire-fst",[Uk]:"fire-fst-compat","fire-js":"fire-js",[Bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,Nh=new Map;function qk(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Nh.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Nh.set(e,t);for(const n of vc.values())qk(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$s=new Bl("app","Firebase",Wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=jk;function xw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $s.create("bad-app-name",{appName:String(s)});if(n||(n=ww()),!n)throw $s.create("no-options");const i=vc.get(s);if(i){if(gc(n,i.options)&&gc(r,i.config))return i;throw $s.create("duplicate-app",{appName:s})}const o=new ek(s);for(const l of Nh.values())o.addComponent(l);const a=new zk(n,r,o);return vc.set(s,a),a}function Iw(t=Mh){const e=vc.get(t);if(!e&&t===Mh&&ww())return xw();if(!e)throw $s.create("no-app",{appName:t});return e}function Fs(t,e,n){var r;let s=(r=Hk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Vo(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="firebase-heartbeat-database",Yk=1,pl="firebase-heartbeat-store";let Of=null;function Cw(){return Of||(Of=hk(Gk,Yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),Of}async function Kk(t){try{const n=(await Cw()).transaction(pl),r=await n.objectStore(pl).get(Pw(t));return await n.done,r}catch(e){if(e instanceof ps)Vi.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function yy(t,e){try{const r=(await Cw()).transaction(pl,"readwrite");await r.objectStore(pl).put(e,Pw(t)),await r.done}catch(n){if(n instanceof ps)Vi.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function Pw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1024,Xk=30*24*60*60*1e3;class Jk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_y();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Xk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_y(),{heartbeatsToSend:r,unsentEntries:s}=Zk(this._heartbeatsCache.heartbeats),i=mc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _y(){return new Date().toISOString().substring(0,10)}function Zk(t,e=Qk){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),by(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),by(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ew()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function by(t){return mc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){Vo(new Ni("platform-logger",e=>new gk(e),"PRIVATE")),Vo(new Ni("heartbeat",e=>new Jk(e),"PRIVATE")),Fs(Oh,vy,t),Fs(Oh,vy,"esm2017"),Fs("fire-js","")}tD("");var nD="firebase",rD="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(nD,rD,"app");function im(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Rw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sD=Rw,kw=new Bl("auth","Firebase",Rw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new nm("@firebase/auth");function iD(t,...e){yc.logLevel<=ot.WARN&&yc.warn(`Auth (${ta}): ${t}`,...e)}function Gu(t,...e){yc.logLevel<=ot.ERROR&&yc.error(`Auth (${ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw om(t,...e)}function Vr(t,...e){return om(t,...e)}function Dw(t,e,n){const r=Object.assign(Object.assign({},sD()),{[e]:n});return new Bl("auth","Firebase",r).create(e,{appName:t.name})}function oD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),Dw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function om(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kw.create(t,...e)}function ze(t,e,...n){if(!t)throw om(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gu(e),new Error(e)}function cs(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aD(){return wy()==="http:"||wy()==="https:"}function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||FR()||"connection"in navigator)?navigator.onLine:!0}function uD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=LR()||UR()}get(){return lD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new Hl(3e4,6e4);function Js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,s={}){return Mw(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ow.fetch()(Nw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Mw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cD),e);try{const s=new hD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Su(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Su(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Su(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Su(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dw(t,c,u);nr(t,c)}}catch(s){if(s instanceof ps)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function ql(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&nr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Nw(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?am(t.config,s):`${t.config.apiScheme}://${s}`}function fD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),dD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Su(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vr(t,e,r);return s.customData._tokenResponse=n,s}function Ty(t){return t!==void 0&&t.enterprise!==void 0}class pD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mD(t,e){return Zs(t,"GET","/v2/recaptchaConfig",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function vD(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(t,e=!1){const n=_n(t),r=await n.getIdToken(e),s=lm(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qa(Mf(s.auth_time)),issuedAtTime:qa(Mf(s.iat)),expirationTime:qa(Mf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mf(t){return Number(t)*1e3}function lm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gu("JWT malformed, contained fewer than 3 sections"),null;try{const s=_w(n);return s?JSON.parse(s):(Gu("Failed to decode base64 JWT payload"),null)}catch(s){return Gu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _D(t){const e=lm(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&bD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ml(t,vD(n,{idToken:r}));ze(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?AD(i.providerUserInfo):[],a=ED(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vw(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function TD(t){const e=_n(t);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ED(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AD(t){return t.map(e=>{var{providerId:n}=e,r=im(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){const n=await Mw(t,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Nw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ow.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xD(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_D(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await SD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new gl;return r&&(ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ze(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yD(this,e)}reload(){return TD(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ml(this,gD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:C,emailVerified:g,isAnonymous:P,providerData:w,stsTokenManager:b}=n;ze(C&&b,e,"internal-error");const I=gl.fromJSON(this.name,b);ze(typeof C=="string",e,"internal-error"),ys(d,e.name),ys(f,e.name),ze(typeof g=="boolean",e,"internal-error"),ze(typeof P=="boolean",e,"internal-error"),ys(h,e.name),ys(p,e.name),ys(y,e.name),ys(S,e.name),ys(R,e.name),ys(k,e.name);const O=new Ri({uid:C,auth:e,email:f,emailVerified:g,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:R,lastLoginAt:k});return w&&Array.isArray(w)&&(O.providerData=w.map(U=>Object.assign({},U))),S&&(O._redirectEventId=S),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new gl;s.updateFromServerResponse(n);const i=new Ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _c(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Map;function ns(t){cs(t instanceof Function,"Expected a class definition");let e=Ey.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ey.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lw.type="NONE";const Ay=Lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Yu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Yu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(ns(Ay),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ns(Ay);const o=Yu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ri._fromJSON(e,c);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new wo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($w(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jw(e))return"Blackberry";if(Hw(e))return"Webos";if(um(e))return"Safari";if((e.includes("chrome/")||Fw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $w(t=tn()){return/firefox\//i.test(t)}function um(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fw(t=tn()){return/crios\//i.test(t)}function Uw(t=tn()){return/iemobile/i.test(t)}function Bw(t=tn()){return/android/i.test(t)}function jw(t=tn()){return/blackberry/i.test(t)}function Hw(t=tn()){return/webos/i.test(t)}function hd(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ID(t=tn()){var e;return hd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CD(){return BR()&&document.documentMode===10}function qw(t=tn()){return hd(t)||Bw(t)||Hw(t)||jw(t)||/windows phone/i.test(t)||Uw(t)}function PD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e=[]){let n;switch(t){case"Browser":n=Sy(tn());break;case"Worker":n=`${Sy(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=6;class OD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kD(this),n=new OD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ei(t){return _n(t)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=YR(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ND(t){pd=t}function zw(t){return pd.loadJS(t)}function VD(){return pd.recaptchaEnterpriseScript}function LD(){return pd.gapiScript}function $D(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const FD="recaptcha-enterprise",UD="NO_RECAPTCHA";class BD{constructor(e){this.type=FD,this.auth=ei(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{mD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ty(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(UD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ty(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VD();l.length!==0&&(l+=a),zw(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Iy(t,e,n,r=!1){const s=new BD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Lh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Iy(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Iy(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){const n=sm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(gc(i,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function HD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qD(t,e,n){const r=ei(t);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Gw(e),{host:o,port:a}=WD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||zD()}function Gw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WD(t){const e=Gw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Cy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Cy(o)}}}function Cy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function GD(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e){return ql(t,"POST","/v1/accounts:signInWithPassword",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}async function QD(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends cm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,n,"signInWithPassword",YD);case"emailLink":return KD(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,r,"signUpPassword",GD);case"emailLink":return QD(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return ql(t,"POST","/v1/accounts:signInWithIdp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="http://localhost";class Li extends cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=im(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:XD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZD(t){const e=Sa(xa(t)).link,n=e?Sa(xa(e)).deep_link_id:null,r=Sa(xa(t)).deep_link_id;return(r?Sa(xa(r)).link:null)||r||n||e||t}class dm{constructor(e){var n,r,s,i,o,a;const l=Sa(xa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=JD((s=l.mode)!==null&&s!==void 0?s:null);ze(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ZD(e);try{return new dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.providerId=na.PROVIDER_ID}static credential(e,n){return vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dm.parseLink(n);return ze(r,"argument-error"),vl._fromEmailAndCode(e,r.code,r.tenantId)}}na.PROVIDER_ID="password";na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Wl{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Wl{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){return ql(t,"POST","/v1/accounts:signUp",Js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ri._fromIdTokenResponse(e,r,s),o=Py(r);return new $i({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Py(r);return new $i({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Py(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends ps{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new bc(e,n,r,s)}}function Yw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(t,i,e,r):i})}async function tO(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $i._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ml(t,Yw(r,s,e,t),n);ze(i.idToken,r,"internal-error");const o=lm(i.idToken);ze(o,r,"internal-error");const{sub:a}=o;return ze(t.uid===a,r,"user-mismatch"),$i._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(t,e,n=!1){const r="signIn",s=await Yw(t,r,e),i=await $i._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function rO(t,e){return Kw(ei(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(t){const e=ei(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sO(t,e,n){const r=ei(t),o=await Lh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Qw(t),l}),a=await $i._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function iO(t,e,n){return rO(_n(t),na.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qw(t),r})}function oO(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function aO(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function lO(t){return _n(t).signOut()}const wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wc,"1"),this.storage.removeItem(wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){const t=tn();return um(t)||hd(t)}const cO=1e3,dO=10;class Jw extends Xw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=uO()&&PD(),this.fallbackToPolling=qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);CD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const fO=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Xw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zw.type="SESSION";const eT=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await hO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=hm("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function mO(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function gO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yO(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",_O=1,Tc="firebaseLocalStorage",rT="fbase_key";class zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function bO(){const t=indexedDB.deleteDatabase(nT);return new zl(t).toPromise()}function $h(){const t=indexedDB.open(nT,_O);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tc,{keyPath:rT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tc)?e(r):(r.close(),await bO(),e(await $h()))})})}async function Ry(t,e,n){const r=gd(t,!0).put({[rT]:e,value:n});return new zl(r).toPromise()}async function wO(t,e){const n=gd(t,!1).get(e),r=await new zl(n).toPromise();return r===void 0?null:r.value}function ky(t,e){const n=gd(t,!0).delete(e);return new zl(n).toPromise()}const TO=800,EO=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $h(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(yO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gO(),!this.activeServiceWorker)return;this.sender=new pO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $h();return await Ry(e,wc,"1"),await ky(e,wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ry(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ky(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gd(s,!1).getAll();return new zl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const AO=sT;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){return e?ns(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SO(t){return Kw(t.auth,new pm(t),t.bypassAuthState)}function xO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),nO(n,new pm(t),t.bypassAuthState)}async function IO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),tO(n,new pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return IO;case"reauthViaPopup":case"reauthViaRedirect":return xO;default:nr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new Hl(2e3,1e4);async function aT(t,e,n){const r=ei(t);oD(t,e,fm);const s=iT(r,n);return new bi(r,"signInViaPopup",e,s).executeNotNull()}class bi extends oT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bi.currentPopupAction&&bi.currentPopupAction.cancel(),bi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CO.get())};e()}}bi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="pendingRedirect",Ku=new Map;class RO extends oT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await kO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kO(t,e){const n=MO(e),r=OO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DO(t,e){Ku.set(t._key(),e)}function OO(t){return ns(t._redirectPersistence)}function MO(t){return Yu(PO,t.config.apiKey,t.name)}async function NO(t,e,n=!1){const r=ei(t),s=iT(r,e),o=await new RO(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=10*60*1e3;class LO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$O(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dy(e))}saveEventToCache(e){this.cachedEventUids.add(Dy(e)),this.lastProcessedEventTime=Date.now()}}function Dy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $O(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BO=/^https?/;async function jO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FO(t);for(const n of e)try{if(HO(n))return}catch{}nr(t,"unauthorized-domain")}function HO(t){const e=Vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BO.test(n))return!1;if(UO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Hl(3e4,6e4);function Oy(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WO(t){return new Promise((e,n)=>{var r,s,i;function o(){Oy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Oy(),n(Vr(t,"network-request-failed"))},timeout:qO.get()})}if(!((s=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Lr().gapi)===null||i===void 0)&&i.load)o();else{const a=$D("iframefcb");return Lr()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},zw(`${LD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qu=null,e})}let Qu=null;function zO(t){return Qu=Qu||WO(t),Qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Hl(5e3,15e3),YO="__/auth/iframe",KO="emulator/auth/iframe",QO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JO(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?am(e,KO):`https://${t.config.authDomain}/${YO}`,r={apiKey:e.apiKey,appName:t.name,v:ta},s=XO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${jl(r).slice(1)}`}async function ZO(t){const e=await zO(t),n=Lr().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:JO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),a=Lr().setTimeout(()=>{i(o)},GO.get());function l(){Lr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,rM="_blank",sM="http://localhost";class My{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(t,e,n,r=tM,s=nM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eM),{width:r.toString(),height:s.toString(),top:i,left:o}),u=tn().toLowerCase();n&&(a=Fw(u)?rM:n),$w(u)&&(e=e||sM,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(ID(u)&&a!=="_self")return oM(e||"",a),new My(null);const d=window.open(e||"",a,c);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new My(d)}function oM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function Ny(t,e,n,r,s,i){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ta,eventId:s};if(e instanceof fm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(i||{}))o[c]=d}if(e instanceof Wl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${uM}=${encodeURIComponent(l)}`:"";return`${cM(t)}?${jl(a).slice(1)}${u}`}function cM({config:t}){return t.emulator?am(t,lM):`https://${t.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=NO,this._overrideRedirectResult=DO}async _openPopup(e,n,r,s){var i;cs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Ny(e,n,r,Vh(),s);return iM(e,o,hm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ny(e,n,r,Vh(),s);return mO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(cs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZO(e),r=new LO(e);return n.register("authEvent",s=>(ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nf,{type:Nf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Nf];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qw()||um()||hd()}}const fM=dM;var Vy="@firebase/auth",Ly="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mM(t){Vo(new Ni("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ww(t)},u=new MD(r,s,i,l);return HD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Ni("auth-internal",e=>{const n=ei(e.getProvider("auth").getImmediate());return(r=>new hM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(Vy,Ly,pM(t)),Fs(Vy,Ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=5*60,vM=Tw("authIdTokenMaxAge")||gM;let $y=null;const yM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vM)return;const s=n==null?void 0:n.token;$y!==s&&($y=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _M(t=Iw()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jD(t,{popupRedirectResolver:fM,persistence:[AO,fO,eT]}),r=Tw("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=yM(r);aO(n,i,()=>i(n.currentUser)),oO(n,o=>i(o))}const s=bw("auth");return s&&qD(n,`http://${s}`),n}function bM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ND({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",bM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mM("Browser");var wM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,mm=mm||{},Ye=wM||self;function vd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function TM(t){return Object.prototype.hasOwnProperty.call(t,Vf)&&t[Vf]||(t[Vf]=++EM)}var Vf="closure_uid_"+(1e9*Math.random()>>>0),EM=0;function AM(t,e,n){return t.call.apply(t.bind,arguments)}function SM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function In(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?In=AM:In=SM,In.apply(null,arguments)}function xu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ti(){this.s=this.s,this.o=this.o}var xM=0;ti.prototype.s=!1;ti.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xM!=0)&&TM(this)};ti.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vd(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Cn.prototype.h=function(){this.defaultPrevented=!0};var IM=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ye.addEventListener("test",n,e),Ye.removeEventListener("test",n,e)}catch{}return t}();function yl(t){return/^[\s\xa0]*$/.test(t)}function yd(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return yd().indexOf(t)!=-1}function vm(t){return vm[" "](t),t}vm[" "]=function(){};function CM(t,e){var n=b2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var PM=xr("Opera"),Lo=xr("Trident")||xr("MSIE"),cT=xr("Edge"),Fh=cT||Lo,dT=xr("Gecko")&&!(yd().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),RM=yd().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function fT(){var t=Ye.document;return t?t.documentMode:void 0}var Uh;e:{var Lf="",$f=function(){var t=yd();if(dT)return/rv:([^\);]+)(\)|;)/.exec(t);if(cT)return/Edge\/([\d\.]+)/.exec(t);if(Lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(RM)return/WebKit\/(\S+)/.exec(t);if(PM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if($f&&(Lf=$f?$f[1]:""),Lo){var Ff=fT();if(Ff!=null&&Ff>parseFloat(Lf)){Uh=String(Ff);break e}}Uh=Lf}var Bh;if(Ye.document&&Lo){var Uy=fT();Bh=Uy||parseInt(Uh,10)||void 0}else Bh=void 0;var kM=Bh;function _l(t,e){if(Cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dT){e:{try{vm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_l.$.h.call(this)}}cn(_l,Cn);var DM={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yl="closure_listenable_"+(1e6*Math.random()|0),OM=0;function MM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++OM,this.fa=this.ia=!1}function _d(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ym(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function NM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hT(t){const e={};for(const n in t)e[n]=t[n];return e}const By="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pT(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<By.length;i++)n=By[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bd(t){this.src=t,this.g={},this.h=0}bd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Hh(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MM(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function jh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=uT(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(_d(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Hh(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var _m="closure_lm_"+(1e6*Math.random()|0),Uf={};function mT(t,e,n,r,s){if(r&&r.once)return vT(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)mT(t,e[i],n,r,s);return null}return n=Tm(n),t&&t[Yl]?t.O(e,n,Gl(r)?!!r.capture:!!r,s):gT(t,e,n,!1,r,s)}function gT(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Gl(s)?!!s.capture:!!s,a=wm(t);if(a||(t[_m]=a=new bd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=VM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IM||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(_T(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VM(){function t(n){return e.call(t.src,t.listener,n)}const e=LM;return t}function vT(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)vT(t,e[i],n,r,s);return null}return n=Tm(n),t&&t[Yl]?t.P(e,n,Gl(r)?!!r.capture:!!r,s):gT(t,e,n,!0,r,s)}function yT(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)yT(t,e[i],n,r,s);else r=Gl(r)?!!r.capture:!!r,n=Tm(n),t&&t[Yl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Hh(i,n,r,s),-1<n&&(_d(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=wm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hh(e,n,r,s)),(n=-1<t?e[t]:null)&&bm(n))}function bm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yl])jh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_T(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wm(e))?(jh(n,t),n.h==0&&(n.src=null,e[_m]=null)):_d(t)}}}function _T(t){return t in Uf?Uf[t]:Uf[t]="on"+t}function LM(t,e){if(t.fa)t=!0;else{e=new _l(e,this);var n=t.listener,r=t.la||t.src;t.ia&&bm(t),t=n.call(r,e)}return t}function wm(t){return t=t[_m],t instanceof bd?t:null}var Bf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(t){return typeof t=="function"?t:(t[Bf]||(t[Bf]=function(e){return t.handleEvent(e)}),t[Bf])}function un(){ti.call(this),this.i=new bd(this),this.S=this,this.J=null}cn(un,ti);un.prototype[Yl]=!0;un.prototype.removeEventListener=function(t,e,n,r){yT(this,t,e,n,r)};function vn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Cn(e,t);else if(e instanceof Cn)e.target=e.target||t;else{var s=e;e=new Cn(r,t),pT(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Iu(o,r,!0,e)&&s}if(o=e.g=t,s=Iu(o,r,!0,e)&&s,s=Iu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Iu(o,r,!1,e)&&s}un.prototype.N=function(){if(un.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_d(n[r]);delete t.g[e],t.h--}}this.J=null};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Iu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&jh(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Em=Ye.JSON.stringify;class $M{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FM(){var t=Am;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UM{constructor(){this.h=this.g=null}add(e,n){const r=bT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bT=new $M(()=>new BM,t=>t.reset());class BM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function HM(t){Ye.setTimeout(()=>{throw t},0)}let bl,wl=!1,Am=new UM,wT=()=>{const t=Ye.Promise.resolve(void 0);bl=()=>{t.then(qM)}};var qM=()=>{for(var t;t=FM();){try{t.h.call(t.g)}catch(n){HM(n)}var e=bT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}wl=!1};function wd(t,e){un.call(this),this.h=t||1,this.g=e||Ye,this.j=In(this.qb,this),this.l=Date.now()}cn(wd,un);Ce=wd.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(Sm(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Sm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ce.N=function(){wd.$.N.call(this),Sm(this),delete this.g};function xm(t,e,n){if(typeof t=="function")n&&(t=In(t,n));else if(t&&typeof t.handleEvent=="function")t=In(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function TT(t){t.g=xm(()=>{t.g=null,t.i&&(t.i=!1,TT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class WM extends ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TT(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tl(t){ti.call(this),this.h=t,this.g={}}cn(Tl,ti);var jy=[];function ET(t,e,n,r){Array.isArray(n)||(n&&(jy[0]=n.toString()),n=jy);for(var s=0;s<n.length;s++){var i=mT(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function AT(t){ym(t.g,function(e,n){this.g.hasOwnProperty(n)&&bm(e)},t),t.g={}}Tl.prototype.N=function(){Tl.$.N.call(this),AT(this)};Tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Td(){this.g=!0}Td.prototype.Ea=function(){this.g=!1};function zM(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function GM(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+KM(t,n)+(r?" "+r:"")})}function YM(t,e){t.info(function(){return"TIMEOUT: "+e})}Td.prototype.info=function(){};function KM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Em(n)}catch{return e}}var Yi={},Hy=null;function Ed(){return Hy=Hy||new un}Yi.Ta="serverreachability";function ST(t){Cn.call(this,Yi.Ta,t)}cn(ST,Cn);function El(t){const e=Ed();vn(e,new ST(e))}Yi.STAT_EVENT="statevent";function xT(t,e){Cn.call(this,Yi.STAT_EVENT,t),this.stat=e}cn(xT,Cn);function kn(t){const e=Ed();vn(e,new xT(e,t))}Yi.Ua="timingevent";function IT(t,e){Cn.call(this,Yi.Ua,t),this.size=e}cn(IT,Cn);function Kl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var Ad={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Im(){}Im.prototype.h=null;function qy(t){return t.h||(t.h=t.i())}function PT(){}var Ql={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cm(){Cn.call(this,"d")}cn(Cm,Cn);function Pm(){Cn.call(this,"c")}cn(Pm,Cn);var qh;function Sd(){}cn(Sd,Im);Sd.prototype.g=function(){return new XMLHttpRequest};Sd.prototype.i=function(){return{}};qh=new Sd;function Xl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Tl(this),this.P=QM,t=Fh?125:void 0,this.V=new wd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RT}function RT(){this.i=null,this.g="",this.h=!1}var QM=45e3,kT={},Wh={};Ce=Xl.prototype;Ce.setTimeout=function(t){this.P=t};function zh(t,e,n){t.L=1,t.A=Id(ds(e)),t.u=n,t.S=!0,DT(t,null)}function DT(t,e){t.G=Date.now(),Jl(t),t.B=ds(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),UT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new RT,t.g=a1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new WM(In(t.Pa,t,t.g),t.O)),ET(t.U,t.g,"readystatechange",t.nb),e=t.I?hT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),El(),zM(t.j,t.v,t.B,t.m,t.W,t.u)}Ce.nb=function(t){t=t.target;const e=this.M;e&&Rr(t)==3?e.l():this.Pa(t)};Ce.Pa=function(t){try{if(t==this.g)e:{const c=Rr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Fh||this.g&&(this.h.h||this.g.ja()||Yy(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?El(3):El(2)),xd(this);var n=this.g.da();this.ca=n;t:if(OT(this)){var r=Yy(this.g);t="";var s=r.length,i=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Wa(this);var o="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,GM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yl(a)){var u=a;break t}}u=null}if(n=u)fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,n);else{this.i=!1,this.s=3,kn(12),wi(this),Wa(this);break e}}this.S?(MT(this,c,o),Fh&&this.i&&c==3&&(ET(this.U,this.V,"tick",this.mb),this.V.start())):(fo(this.j,this.m,o,null),Gh(this,o)),c==4&&wi(this),this.i&&!this.J&&(c==4?r1(this.l,this):(this.i=!1,Jl(this)))}else v2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,kn(12)):(this.s=0,kn(13)),wi(this),Wa(this)}}}catch{}finally{}};function OT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function MT(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=XM(t,n),s==Wh){e==4&&(t.s=4,kn(14),r=!1),fo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==kT){t.s=4,kn(15),fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fo(t.j,t.m,s,null),Gh(t,s);OT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,kn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nm(e),e.M=!0,kn(11))):(fo(t.j,t.m,n,"[Invalid Chunked Response]"),wi(t),Wa(t))}Ce.mb=function(){if(this.g){var t=Rr(this.g),e=this.g.ja();this.o<e.length&&(xd(this),MT(this,t,e),this.i&&t!=4&&Jl(this))}};function XM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Wh:(n=Number(e.substring(n,r)),isNaN(n)?kT:(r+=1,r+n>e.length?Wh:(e=e.slice(r,r+n),t.o=r+n,e)))}Ce.cancel=function(){this.J=!0,wi(this)};function Jl(t){t.Y=Date.now()+t.P,NT(t,t.P)}function NT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Kl(In(t.lb,t),e)}function xd(t){t.C&&(Ye.clearTimeout(t.C),t.C=null)}Ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(YM(this.j,this.B),this.L!=2&&(El(),kn(17)),wi(this),this.s=2,Wa(this)):NT(this,this.Y-t)};function Wa(t){t.l.H==0||t.J||r1(t.l,t)}function wi(t){xd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Sm(t.V),AT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Gh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Yh(n.i,t))){if(!t.K&&Yh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sc(n),kd(n);else break e;Mm(n),kn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kl(In(n.ib,n),6e3));if(1>=HT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ti(n,11)}else if((t.K||n.g==t)&&Sc(n),!yl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Rm(i,i.h),i.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,kt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=o1(r,r.J?r.pa:null,r.Y),o.K){qT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(xd(a),Jl(a)),r.g=o}else t1(r);0<n.j.length&&Dd(n)}else u[0]!="stop"&&u[0]!="close"||Ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ti(n,7):Om(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}El(4)}catch{}}function JM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZM(t),r=JM(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var LT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ki(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ki){this.h=t.h,Ec(this,t.j),this.s=t.s,this.g=t.g,Ac(this,t.m),this.l=t.l;var e=t.i,n=new Al;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Wy(this,n),this.o=t.o}else t&&(e=String(t).match(LT))?(this.h=!1,Ec(this,e[1]||"",!0),this.s=Ia(e[2]||""),this.g=Ia(e[3]||"",!0),Ac(this,e[4]),this.l=Ia(e[5]||"",!0),Wy(this,e[6]||"",!0),this.o=Ia(e[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}ki.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,zy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,zy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?r2:n2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,i2)),t.join("")};function ds(t){return new ki(t)}function Ec(t,e,n){t.j=n?Ia(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ac(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Wy(t,e,n){e instanceof Al?(t.i=e,o2(t.i,t.h)):(n||(e=Ca(e,s2)),t.i=new Al(e,t.h))}function kt(t,e,n){t.i.set(e,n)}function Id(t){return kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,t2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function t2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zy=/[#\/\?@]/g,n2=/[#\?:]/g,r2=/[#\?]/g,s2=/[#\?@]/g,i2=/#/g;function Al(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ni(t){t.g||(t.g=new Map,t.h=0,t.i&&e2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=Al.prototype;Ce.add=function(t,e){ni(this),this.i=null,t=ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $T(t,e){ni(t),e=ra(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FT(t,e){return ni(t),e=ra(t,e),t.g.has(e)}Ce.forEach=function(t,e){ni(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Ce.ta=function(){ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Ce.Z=function(t){ni(this);let e=[];if(typeof t=="string")FT(this,t)&&(e=e.concat(this.g.get(ra(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ce.set=function(t,e){return ni(this),this.i=null,t=ra(this,t),FT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function UT(t,e,n){$T(t,e),0<n.length&&(t.i=null,t.g.set(ra(t,e),gm(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function o2(t,e){e&&!t.j&&(ni(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&($T(this,r),UT(this,s,n))},t)),t.j=e}var a2=class{constructor(t,e){this.g=t,this.map=e}};function BT(t){this.l=t||l2,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l2=10;function jT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HT(t){return t.h?1:t.g?t.g.size:0}function Yh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Rm(t,e){t.g?t.g.add(e):t.h=e}function qT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BT.prototype.cancel=function(){if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gm(t.i)}var u2=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function c2(){this.g=new u2}function d2(t,e,n){const r=n||"";try{VT(t,function(s,i){let o=s;Gl(s)&&(o=Em(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function f2(t,e){const n=new Td;if(Ye.Image){const r=new Image;r.onload=xu(Cu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xu(Cu,n,r,"TestLoadImage: error",!1,e),r.onabort=xu(Cu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xu(Cu,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Cu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Cd(t){this.l=t.ec||null,this.j=t.ob||!1}cn(Cd,Im);Cd.prototype.g=function(){return new Pd(this.l,this.j)};Cd.prototype.i=function(t){return function(){return t}}({});function Pd(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(Pd,un);var km=0;Ce=Pd.prototype;Ce.open=function(t,e){if(this.readyState!=km)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sl(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zl(this)),this.readyState=km};Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function zT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zl(this):Sl(this),this.readyState==3&&zT(this)}};Ce.Za=function(t){this.g&&(this.response=this.responseText=t,Zl(this))};Ce.Ya=function(t){this.g&&(this.response=t,Zl(this))};Ce.ka=function(){this.g&&Zl(this)};function Zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sl(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var h2=Ye.JSON.parse;function Bt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GT,this.L=this.M=!1}cn(Bt,un);var GT="",p2=/^https?$/i,m2=["POST","PUT"];Ce=Bt.prototype;Ce.Oa=function(t){this.M=t};Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qh.g(),this.C=this.u?qy(this.u):qy(qh),this.g.onreadystatechange=In(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Gy(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Ye.FormData&&t instanceof Ye.FormData,!(0<=uT(m2,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QT(this),0<this.B&&((this.L=g2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=In(this.ua,this)):this.A=xm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Gy(this,i)}};function g2(t){return Lo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ce.ua=function(){typeof mm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))};function Gy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YT(t),Rd(t)}function YT(t){t.F||(t.F=!0,vn(t,"complete"),vn(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vn(this,"complete"),vn(this,"abort"),Rd(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),Bt.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?KT(this):this.kb())};Ce.kb=function(){KT(this)};function KT(t){if(t.h&&typeof mm<"u"&&(!t.C[1]||Rr(t)!=4||t.da()!=2)){if(t.v&&Rr(t)==4)xm(t.La,0,t);else if(vn(t,"readystatechange"),Rr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(LT)[1]||null;!s&&Ye.self&&Ye.self.location&&(s=Ye.self.location.protocol.slice(0,-1)),r=!p2.test(s?s.toLowerCase():"")}n=r}if(n)vn(t,"complete"),vn(t,"success");else{t.m=6;try{var i=2<Rr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",YT(t)}}finally{Rd(t)}}}}function Rd(t,e){if(t.g){QT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vn(t,"ready");try{n.onreadystatechange=r}catch{}}}function QT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}Ce.isActive=function(){return!!this.g};function Rr(t){return t.g?t.g.readyState:0}Ce.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),h2(e)}};function Yy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function v2(t){const e={};t=(t.g&&2<=Rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yl(t[r]))continue;var n=jM(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}NM(e,function(r){return r.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XT(t){let e="";return ym(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):kt(t,e,n))}function va(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JT(t){this.Ga=0,this.j=[],this.l=new Td,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=va("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=va("baseRetryDelayMs",5e3,t),this.hb=va("retryDelaySeedMs",1e4,t),this.eb=va("forwardChannelMaxRetries",2,t),this.xa=va("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BT(t&&t.concurrentRequestLimit),this.Ja=new c2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=JT.prototype;Ce.ra=8;Ce.H=1;function Om(t){if(ZT(t),t.H==3){var e=t.W++,n=ds(t.I);if(kt(n,"SID",t.K),kt(n,"RID",e),kt(n,"TYPE","terminate"),eu(t,n),e=new Xl(t,t.l,e),e.L=2,e.A=Id(ds(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=a1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Jl(e)}i1(t)}function kd(t){t.g&&(Nm(t),t.g.cancel(),t.g=null)}function ZT(t){kd(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),Sc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function Dd(t){if(!jT(t.i)&&!t.m){t.m=!0;var e=t.Na;bl||wT(),wl||(bl(),wl=!0),Am.add(e,t),t.C=0}}function y2(t,e){return HT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kl(In(t.Na,t,e),s1(t,t.C)),t.C++,!0)}Ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Xl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=hT(i),pT(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=e1(this,s,e),n=ds(this.I),kt(n,"RID",t),kt(n,"CVER",22),this.F&&kt(n,"X-HTTP-Session-Id",this.F),eu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(XT(i)))+"&"+e:this.o&&Dm(n,this.o,i)),Rm(this.i,s),this.bb&&kt(n,"TYPE","init"),this.P?(kt(n,"$req",e),kt(n,"SID","null"),s.aa=!0,zh(s,n,null)):zh(s,n,e),this.H=2}}else this.H==3&&(t?Ky(this,t):this.j.length==0||jT(this.i)||Ky(this))};function Ky(t,e){var n;e?n=e.m:n=t.W++;const r=ds(t.I);kt(r,"SID",t.K),kt(r,"RID",n),kt(r,"AID",t.V),eu(t,r),t.o&&t.s&&Dm(r,t.o,t.s),n=new Xl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=e1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Rm(t.i,n),zh(n,r,e)}function eu(t,e){t.na&&ym(t.na,function(n,r){kt(e,r,n)}),t.h&&VT({},function(n,r){kt(e,r,n)})}function e1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?In(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{d2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function t1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bl||wT(),wl||(bl(),wl=!0),Am.add(e,t),t.A=0}}function Mm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kl(In(t.Ma,t),s1(t,t.A)),t.A++,!0)}Ce.Ma=function(){if(this.u=null,n1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kl(In(this.jb,this),t)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kn(10),kd(this),n1(this))};function Nm(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function n1(t){t.g=new Xl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ds(t.wa);kt(e,"RID","rpc"),kt(e,"SID",t.K),kt(e,"AID",t.V),kt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&kt(e,"TO",t.qa),kt(e,"TYPE","xmlhttp"),eu(t,e),t.o&&t.s&&Dm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Id(ds(e)),n.u=null,n.S=!0,DT(n,t)}Ce.ib=function(){this.v!=null&&(this.v=null,kd(this),Mm(this),kn(19))};function Sc(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function r1(t,e){var n=null;if(t.g==e){Sc(t),Nm(t),t.g=null;var r=2}else if(Yh(t.i,e))n=e.F,qT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Ed(),vn(r,new IT(r,n)),Dd(t)}else t1(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&y2(t,e)||r==2&&Mm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ti(t,5);break;case 4:Ti(t,10);break;case 3:Ti(t,6);break;default:Ti(t,2)}}}function s1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ti(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=In(t.pb,t);n||(n=new ki("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||Ec(n,"https"),Id(n)),f2(n.toString(),r)}else kn(2);t.H=0,t.h&&t.h.za(e),i1(t),ZT(t)}Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kn(2)):(this.l.info("Failed to ping google.com"),kn(1))};function i1(t){if(t.H=0,t.ma=[],t.h){const e=WT(t.i);(e.length!=0||t.j.length!=0)&&(Fy(t.ma,e),Fy(t.ma,t.j),t.i.i.length=0,gm(t.j),t.j.length=0),t.h.ya()}}function o1(t,e,n){var r=n instanceof ki?ds(n):new ki(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ac(r,r.m);else{var s=Ye.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ki(null);r&&Ec(i,r),e&&(i.g=e),s&&Ac(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&kt(r,n,e),kt(r,"VER",t.ra),eu(t,r),r}function a1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new Cd({ob:n})):new Bt(t.va),e.Oa(t.J),e}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function l1(){}Ce=l1.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function xc(){if(Lo&&!(10<=Number(kM)))throw Error("Environmental error: no available transport.")}xc.prototype.g=function(t,e){return new qn(t,e)};function qn(t,e){un.call(this),this.g=new JT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new sa(this)}cn(qn,un);qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;kn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=o1(t,null,t.Y),Dd(t)};qn.prototype.close=function(){Om(this.g)};qn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Em(t),t=n);e.j.push(new a2(e.fb++,t)),e.H==3&&Dd(e)};qn.prototype.N=function(){this.g.h=null,delete this.j,Om(this.g),delete this.g,qn.$.N.call(this)};function u1(t){Cm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(u1,Cm);function c1(){Pm.call(this),this.status=1}cn(c1,Pm);function sa(t){this.g=t}cn(sa,l1);sa.prototype.Ba=function(){vn(this.g,"a")};sa.prototype.Aa=function(t){vn(this.g,new u1(t))};sa.prototype.za=function(t){vn(this.g,new c1)};sa.prototype.ya=function(){vn(this.g,"b")};function _2(){this.blockSize=-1}function pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(pr,_2);pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}pr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)jf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){jf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){jf(this,r),s=0;break}}this.h=s,this.i+=e};pr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function wt(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var b2={};function Vm(t){return-128<=t&&128>t?CM(t,function(e){return new wt([e|0],0>e?-1:0)}):new wt([t|0],0>t?-1:0)}function kr(t){if(isNaN(t)||!isFinite(t))return Eo;if(0>t)return pn(kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Kh;return new wt(e,0)}function d1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(d1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=kr(Math.pow(e,8)),r=Eo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=kr(Math.pow(e,i)),r=r.R(i).add(kr(o))):(r=r.R(n),r=r.add(kr(o)))}return r}var Kh=4294967296,Eo=Vm(0),Qh=Vm(1),Qy=Vm(16777216);Ce=wt.prototype;Ce.ea=function(){if(Yn(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Kh+r)*e,e*=Kh}return t};Ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(rs(this))return"0";if(Yn(this))return"-"+pn(this).toString(t);for(var e=kr(Math.pow(t,6)),n=this,r="";;){var s=Cc(n,e).g;n=Ic(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,rs(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function rs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yn(t){return t.h==-1}Ce.X=function(t){return t=Ic(this,t),Yn(t)?-1:rs(t)?0:1};function pn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wt(n,~t.h).add(Qh)}Ce.abs=function(){return Yn(this)?pn(this):this};Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function Ic(t,e){return t.add(pn(e))}Ce.R=function(t){if(rs(this)||rs(t))return Eo;if(Yn(this))return Yn(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(Yn(t))return pn(this.R(pn(t)));if(0>this.X(Qy)&&0>t.X(Qy))return kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Pu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Pu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Pu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Pu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wt(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ya(t,e){this.g=t,this.h=e}function Cc(t,e){if(rs(e))throw Error("division by zero");if(rs(t))return new ya(Eo,Eo);if(Yn(t))return e=Cc(pn(t),e),new ya(pn(e.g),pn(e.h));if(Yn(e))return e=Cc(t,pn(e)),new ya(pn(e.g),e.h);if(30<t.g.length){if(Yn(t)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qh,r=e;0>=r.X(t);)n=Xy(n),r=Xy(r);var s=to(n,1),i=to(r,1);for(r=to(r,2),n=to(n,2);!rs(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=to(r,1),n=to(n,1)}return e=Ic(t,s.R(e)),new ya(s,e)}for(s=Eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=kr(n),o=i.R(e);Yn(o)||0<o.X(t);)n-=r,i=kr(n),o=i.R(e);rs(i)&&(i=Qh),s=s.add(i),t=Ic(t,o)}return new ya(s,t)}Ce.gb=function(t){return Cc(this,t).h};Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wt(n,this.h&t.h)};Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wt(n,this.h|t.h)};Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wt(n,this.h^t.h)};function Xy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wt(n,t.h)}function to(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new wt(s,t.h)}xc.prototype.createWebChannel=xc.prototype.g;qn.prototype.send=qn.prototype.u;qn.prototype.open=qn.prototype.m;qn.prototype.close=qn.prototype.close;Ad.NO_ERROR=0;Ad.TIMEOUT=8;Ad.HTTP_ERROR=6;CT.COMPLETE="complete";PT.EventType=Ql;Ql.OPEN="a";Ql.CLOSE="b";Ql.ERROR="c";Ql.MESSAGE="d";un.prototype.listen=un.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;pr.prototype.digest=pr.prototype.l;pr.prototype.reset=pr.prototype.reset;pr.prototype.update=pr.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=kr;wt.fromString=d1;var w2=function(){return new xc},T2=function(){return Ed()},Hf=Ad,E2=CT,A2=Yi,Jy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ru=PT,S2=Bt,x2=pr,Ao=wt;const Zy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new nm("@firebase/firestore");function _a(){return Fi.logLevel}function Ie(t,...e){if(Fi.logLevel<=ot.DEBUG){const n=e.map(Lm);Fi.debug(`Firestore (${ia}): ${t}`,...n)}}function zr(t,...e){if(Fi.logLevel<=ot.ERROR){const n=e.map(Lm);Fi.error(`Firestore (${ia}): ${t}`,...n)}}function $o(t,...e){if(Fi.logLevel<=ot.WARN){const n=e.map(Lm);Fi.warn(`Firestore (${ia}): ${t}`,...n)}}function Lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function It(t,e){t||Ge()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new as;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new as,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new as)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string"),new f1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string"),new Tn(e)}}class R2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new R2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(It(typeof n.token=="string"),this.R=n.token,new D2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=M2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Fo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new rn(0,0))}static max(){return new Ke(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(),r===void 0?r=e.length-n:r>e.length-n&&Ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends xl{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends xl{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Dt.fromString(e))}static fromName(e){return new Be(Dt.fromString(e).popFirst(5))}static empty(){return new Be(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Dt(e.slice()))}}function V2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Gs(s,Be.empty(),e)}function L2(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(Ke.min(),Be.empty(),-1)}static max(){return new Gs(Ke.max(),Be.empty(),-1)}}function $2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==F2)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new ye((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new as,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new za(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Fm(r.target.error);this.V.reject(new za(e,s))}}static open(e,n,r,s){try{return new $m(n,e.transaction(s,r))}catch(i){throw new za(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new j2(n)}}class Ei{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ei.S(tn())===12.2&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ie("SimpleDb","Removing database:",e),yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ew())return!1;if(Ei.C())return!0;const e=tn(),n=Ei.S(e),r=0<n&&n<10,s=Ei.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new za(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ke(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ke(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new za(e,o))},s.onupgradeneeded=i=>{Ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=$m.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),ye.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class B2{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yi(this.k.delete())}}class za extends ke{constructor(e,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function nu(t){return t.name==="IndexedDbTransactionError"}class j2{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yi(r)}add(e){return Ie("SimpleDb","ADD",this.store.name,e,e),yi(this.store.add(e))}get(e){return yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ie("SimpleDb","DELETE",this.store.name,e),yi(this.store.delete(e))}count(){return Ie("SimpleDb","COUNT",this.store.name),yi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new ye((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ye((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new ye((r,s)=>{n.onerror=i=>{const o=Fm(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ye((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new B2(a),u=n(a.primaryKey,a.value,l);if(u instanceof ye){const c=u.catch(d=>(l.done(),ye.reject(d)));r.push(c)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>ye.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function yi(t){return new ye((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Fm(r.target.error);n(s)}})}let e_=!1;function Fm(t){const e=Ei.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return e_||(e_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Um._e=-1;function Od(t){return t==null}function Pc(t){return t===0&&1/t==-1/0}function H2(t){return typeof t=="number"&&Number.isInteger(t)&&!Pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new yn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new m1("Invalid base64 string: "+i):i}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(It(!!t),typeof t=="string"){let e=0;const n=q2.exec(t);if(It(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jm(t){const e=t.mapValue.fields.__previous_value__;return Bm(e)?jm(e):e}function Il(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Cl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:z2(t)?9007199254740991:10:Ge()}function Gr(t,e){if(t===e)return!0;const n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ys(s.timestampValue),a=Ys(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ui(s.bytesValue).isEqual(Ui(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Kt(s.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Kt(s.integerValue)===Kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Kt(s.doubleValue),a=Kt(i.doubleValue);return o===a?Pc(o)===Pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fo(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(t_(o)!==t_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gr(o[l],a[l])))return!1;return!0}(t,e);default:return Ge()}}function Pl(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Bi(t),r=Bi(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Kt(i.integerValue||i.doubleValue),l=Kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_(Il(t),Il(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ui(i),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=pt(a[u],l[u]);if(c!==0)return c}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pt(Kt(i.latitude),Kt(o.latitude));return a!==0?a:pt(Kt(i.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Uo(a[u],l[u]);if(c)return c}return pt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Du.mapValue&&o===Du.mapValue)return 0;if(i===Du.mapValue)return 1;if(o===Du.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=pt(l[d],c[d]);if(f!==0)return f;const h=Uo(a[l[d]],u[c[d]]);if(h!==0)return h}return pt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ge()}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Ys(t),r=Ys(e),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function Bo(t){return Xh(t)}function Xh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xh(n.fields[o])}`;return s+"}"}(t.mapValue):Ge()}function s_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jh(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xu(t){return!!t&&"mapValue"in t}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ga(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Vn(Ga(this.value))}}function g1(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new mn([n]);if(Xu(r)){const i=g1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new An(e,0,Ke.min(),Ke.min(),Ke.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,s){return new An(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new An(e,2,n,Ke.min(),Ke.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Ke.min(),Ke.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=Uo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function G2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class Qt extends v1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K2(e,n,r):n==="array-contains"?new J2(e,r):n==="in"?new Z2(e,r):n==="not-in"?new eN(e,r):n==="array-contains-any"?new tN(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q2(e,r):new X2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&Bi(this.value)===Bi(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends v1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mr(e,n)}matches(e){return y1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function y1(t){return t.op==="and"}function _1(t){return Y2(t)&&y1(t)}function Y2(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Zh(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(_1(t))return t.filters.map(e=>Zh(e)).join(",");{const e=t.filters.map(n=>Zh(n)).join(",");return`${t.op}(${e})`}}function b1(t,e){return t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&Gr(r.value,s.value)}(t,e):t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&b1(o,s.filters[a]),!0):!1}(t,e):void Ge()}function w1(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(w1).join(" ,")+"}"}(t):"Filter"}class K2 extends Qt{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q2 extends Qt{constructor(e,n){super(e,"in",n),this.keys=T1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class X2 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=T1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function T1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class J2 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&Pl(n.arrayValue,this.value)}}class Z2 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class eN extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pl(this.value.arrayValue,n)}}class tN extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function u_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new nN(t,e,n,r,s,i,o)}function qm(t){const e=Je(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ce=n}return e.ce}function Wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function ep(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function rN(t,e,n,r,s,i,o,a){return new ru(t,e,n,r,s,i,o,a)}function E1(t){return new ru(t)}function c_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A1(t){return t.collectionGroup!==null}function Ya(t){const e=Je(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yn(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new kc(i,r))}),n.has(mn.keyField().canonicalString())||e.le.push(new kc(mn.keyField(),r))}return e.le}function $r(t){const e=Je(t);return e.he||(e.he=sN(e,Ya(t))),e.he}function sN(t,e){if(t.limitType==="F")return u_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new kc(s.field,i)});const n=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return u_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tp(t,e){const n=t.filters.concat([e]);return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function np(t,e,n){return new ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Md(t,e){return Wm($r(t),$r(e))&&t.limitType===e.limitType}function S1(t){return`${qm($r(t))}|lt:${t.limitType}`}function ao(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>w1(s)).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bo(s)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ya(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=a_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ya(r),s)||r.endAt&&!function(o,a,l){const u=a_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ya(r),s))}(t,e)}function iN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x1(t){return(e,n)=>{let r=!1;for(const s of Ya(t)){const i=oN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oN(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Uo(l,u):Ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Lt(Be.comparator);function fs(){return aN}const I1=new Lt(Be.comparator);function Pa(...t){let e=I1;for(const n of t)e=e.insert(n.key,n);return e}function C1(t){let e=I1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return Ka()}function P1(){return Ka()}function Ka(){return new oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const lN=new Lt(Be.comparator),uN=new yn(Be.comparator);function st(...t){let e=uN;for(const n of t)e=e.add(n);return e}const cN=new yn(pt);function dN(){return cN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function k1(t){return{integerValue:""+t}}function fN(t,e){return H2(e)?k1(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function hN(t,e,n){return t instanceof Dc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bm(i)&&(i=jm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Rl?O1(t,e):t instanceof kl?M1(t,e):function(s,i){const o=D1(s,i),a=d_(o)+d_(s.Ie);return Jh(o)&&Jh(s.Ie)?k1(a):R1(s.serializer,a)}(t,e)}function pN(t,e,n){return t instanceof Rl?O1(t,e):t instanceof kl?M1(t,e):n}function D1(t,e){return t instanceof Oc?function(r){return Jh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dc extends Vd{}class Rl extends Vd{constructor(e){super(),this.elements=e}}function O1(t,e){const n=N1(e);for(const r of t.elements)n.some(s=>Gr(s,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Vd{constructor(e){super(),this.elements=e}}function M1(t,e){let n=N1(e);for(const r of t.elements)n=n.filter(s=>!Gr(s,r));return{arrayValue:{values:n}}}class Oc extends Vd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d_(t){return Kt(t.integerValue||t.doubleValue)}function N1(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rl&&s instanceof Rl||r instanceof kl&&s instanceof kl?Fo(r.elements,s.elements,Gr):r instanceof Oc&&s instanceof Oc?Gr(r.Ie,s.Ie):r instanceof Dc&&s instanceof Dc}(t.transform,e.transform)}class gN{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function V1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $1(t.key,Fr.none()):new su(t.key,t.data,Fr.none());{const n=t.data,r=Vn.empty();let s=new yn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ri(t.key,r,new Bn(s.toArray()),Fr.none())}}function vN(t,e,n){t instanceof su?function(s,i,o){const a=s.value.clone(),l=h_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ri?function(s,i,o){if(!Ju(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=h_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(L1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof su?function(i,o,a,l){if(!Ju(i.precondition,o))return a;const u=i.value.clone(),c=p_(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ri?function(i,o,a,l){if(!Ju(i.precondition,o))return a;const u=p_(i.fieldTransforms,l,o),c=o.data;return c.setAll(L1(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Ju(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=D1(r.transform,s||null);i!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,i))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fo(r,s,(i,o)=>mN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends Ld{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ri extends Ld{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function L1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h_(t,e,n){const r=new Map;It(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,pN(o,a,n[s]))}return r}function p_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hN(i,o,e))}return r}class $1 extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=P1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=V1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(n,r)=>f_(n,r))&&Fo(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class zm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){It(e.mutations.length===r.length);let s=function(){return lN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new zm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,lt;function EN(t){switch(t){default:return Ge();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function F1(t){if(t===void 0)return zr("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Yt.OK:return ve.OK;case Yt.CANCELLED:return ve.CANCELLED;case Yt.UNKNOWN:return ve.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ve.INTERNAL;case Yt.UNAVAILABLE:return ve.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ve.NOT_FOUND;case Yt.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Yt.ABORTED:return ve.ABORTED;case Yt.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Yt.DATA_LOSS:return ve.DATA_LOSS;default:return Ge()}}(lt=Yt||(Yt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Ao([4294967295,4294967295],0);function m_(t){const e=AN().encode(t),n=new x2;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ao([n,r],0),new Ao([s,i],0)]}class Gm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ao.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ao.fromNumber(r)));return s.compare(SN)===1&&(s=new Ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Gm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $d(Ke.min(),s,new Lt(pt),fs(),st())}}class iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class U1{constructor(e,n){this.targetId=e,this.fe=n}}class B1{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v_{constructor(){this.ge=0,this.pe=__(),this.ye=Pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),r=st();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ge()}}),new iu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=__()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,It(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class xN{constructor(e){this.Be=e,this.ke=new Map,this.qe=fs(),this.Qe=y_(),this.Ke=new Lt(pt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ep(i))if(r===0){const o=new Be(i.path);this.We(n,o,An.newNoDocument(o,Ke.min()))}else It(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof m1)return $o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gm(o,s,i)}catch(l){return $o(l instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ep(a.target)){const l=new Be(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,An.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=st();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new $d(e,n,this.Ke,this.qe,r);return this.qe=fs(),this.Qe=y_(),this.Ke=new Lt(pt),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new v_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yn(pt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new v_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function y_(){return new Lt(Be.comparator)}function __(){return new Lt(Be.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},CN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PN={and:"AND",or:"OR"};class RN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kN(t,e){return Mc(t,e.toTimestamp())}function Ur(t){return It(!!t),Ke.fromTimestamp(function(n){const r=Ys(n);return new rn(r.seconds,r.nanos)}(t))}function Ym(t,e){return sp(t,e).canonicalString()}function sp(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H1(t){const e=Dt.fromString(t);return It(Y1(e)),e}function ip(t,e){return Ym(t.databaseId,e.path)}function qf(t,e){const n=H1(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(W1(n))}function q1(t,e){return Ym(t.databaseId,e)}function DN(t){const e=H1(t);return e.length===4?Dt.emptyPath():W1(e)}function op(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W1(t){return It(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b_(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function ON(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(It(c===void 0||typeof c=="string"),Pn.fromBase64String(c||"")):(It(c===void 0||c instanceof Uint8Array),Pn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ve.UNKNOWN:F1(u.code);return new ke(c,u.message||"")}(o);n=new B1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qf(t,r.document.name),i=Ur(r.document.updateTime),o=r.document.createTime?Ur(r.document.createTime):Ke.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Zu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qf(t,r.document),i=r.readTime?Ur(r.readTime):Ke.min(),o=An.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qf(t,r.document),i=r.removedTargetIds||[];n=new Zu([],i,s,null)}else{if(!("filter"in e))return Ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TN(s,i),a=r.targetId;n=new U1(a,o)}}return n}function MN(t,e){let n;if(e instanceof su)n={update:b_(t,e.key,e.value)};else if(e instanceof $1)n={delete:ip(t,e.key)};else if(e instanceof ri)n={update:b_(t,e.key,e.data),updateMask:HN(e.fieldMask)};else{if(!(e instanceof _N))return Ge();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ge()}(t,e.precondition)),n}function NN(t,e){return t&&t.length>0?(It(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ur(s.updateTime):Ur(i);return o.isEqual(Ke.min())&&(o=Ur(i)),new gN(o,s.transformResults||[])}(n,e))):[]}function VN(t,e){return{documents:[q1(t,e.path)]}}function LN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q1(t,s);const i=function(u){if(u.length!==0)return G1(mr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:lo(f.field),direction:UN(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function $N(t){let e=DN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){It(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const f=z1(d);return f instanceof mr&&_1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new kc(uo(p.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Od(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new Rc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new Rc(h,f)}(n.endAt)),rN(e,s,o,i,a,"F",l,u)}function FN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=uo(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uo(n.unaryFilter.field);return Qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(uo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>z1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge()}}(n.compositeFilter.op))}(t):Ge()}function UN(t){return IN[t]}function BN(t){return CN[t]}function jN(t){return PN[t]}function lo(t){return{fieldPath:t.canonicalString()}}function uo(t){return mn.fromServerFormat(t.fieldPath)}function G1(t){return t instanceof Qt?function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:BN(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(s=>G1(s));return r.length===1?r[0]:{compositeFilter:{op:jN(n.op),filters:r}}}(t):Ge()}function HN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.ct=e}}function WN(t){const e=$N({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._n=new GN}addToCollectionParentIndex(e,n){return this._n.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Gs.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class GN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yn(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jo(0)}static Ln(){return new jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.changes=new oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qa(r.mutation,s,Bn.empty(),rn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=fs();const o=Ka(),a=function(){return Ka()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof ri)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Qa(c.mutation,u,c.mutation.getFieldMask(),rn.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new KN(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ka();let s=new Lt((o,a)=>o-a),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||st()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=P1();c.forEach(f=>{if(!i.has(f)){const h=V1(n.get(f),r.get(f));h!==null&&d.set(f,h),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ye.resolve(Ai());let a=-1,l=i;return o.next(u=>ye.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?ye.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,st())).next(c=>({batchId:a,changes:C1(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=Pa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pa();return this.indexManager.getCollectionParents(e,i).next(a=>ye.forEach(a,l=>{const u=function(d,f){return new ru(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,An.newInvalidDocument(c)))});let a=Pa();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&Qa(c.mutation,u,Bn.empty(),rn.now()),Nd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ye.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ur(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:WN(s.bundledQuery),readTime:Ur(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.overlays=new Lt(Be.comparator),this.hr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ai();return ye.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=Ai(),i=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Lt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Ai(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ai(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return ye.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wN(n,r));let i=this.hr.get(n);i===void 0&&(i=st(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Pr=new yn(on.Ir),this.Tr=new yn(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Be(new Dt([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Be(new Dt([])),r=new on(n,e),s=new on(n,e+1);let i=st();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Be.comparator(e.key,n.key)||pt(e.pr,n.pr)}static Er(e,n){return pt(e.pr,n.pr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new yn(on.Ir)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new on(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(pt);return n.forEach(s=>{const i=new on(s,0),o=new on(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),ye.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new on(new Be(i),0);let a=new yn(pt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),ye.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){It(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ye.forEach(n.mutations,s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new on(n,0),s=this.wr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.vr=e,this.docs=function(){return new Lt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=fs();const o=n.path,a=new Be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$2(L2(c),r)<=0||(s.has(c.key)||Nd(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ge()}Fr(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tV(this)}getSize(e){return ye.resolve(this.size)}}class tV extends YN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.Mr=new oa(n=>qm(n),Wm),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Km,this.targetCount=0,this.Lr=jo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ye.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.qn(n),ye.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ye.waitFor(i).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ye.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.Br={},this.overlays={},this.kr=new Um(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new nV(this),this.indexManager=new zN,this.remoteDocumentCache=function(s){return new eV(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new qN(n),this.$r=new XN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ZN(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const s=new sV(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return ye.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class sV extends U2{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.zr=new Km,this.jr=null}static Hr(e){return new Qm(e)}get Jr(){if(this.jr)return this.jr;throw Ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Jr,r=>{const s=Be.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ye.or([()=>ye.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=st(),s=st();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Xm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jR()?8:Ei.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new iV;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(_a()<=ot.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ye.resolve()):(_a()<=ot.DEBUG&&Ie("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(_a()<=ot.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):ye.resolve())}ji(e,n){if(c_(n))return ye.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=np(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=st(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,np(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return c_(n)||s.isEqual(Ke.min())?ye.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?ye.resolve(null):(_a()<=ot.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ao(n)),this.es(e,o,n,V2(s,-1)).next(a=>a))})}Zi(e,n){let r=new yn(x1(e));return n.forEach((s,i)=>{Nd(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return _a()<=ot.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ao(n)),this.zi.getDocumentsMatchingQuery(e,n,Gs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Lt(pt),this.rs=new oa(i=>qm(i),Wm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function lV(t,e,n,r){return new aV(t,e,n,r)}async function K1(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=st();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function uV(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=ye.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(y=>{const S=u.docVersions.get(p);It(S!==null),y.version.compareTo(S)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=st();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Q1(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function cV(t,e){const n=Je(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,c.addedDocuments,d)));let h=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Pn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),s=s.insert(d,h),function(y,S,R){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,h,c)&&a.push(n.Qr.updateTargetData(i,h))});let l=fs(),u=st();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(dV(i,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return ye.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function dV(t,e,n){let r=st(),s=st();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=fs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function fV(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hV(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,ye.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ap(t,e,n){const r=Je(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nu(o))throw o;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function w_(t,e,n){const r=Je(t);let s=Ke.min(),i=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Je(l),f=d.rs.get(c);return f!==void 0?ye.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,o,$r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:st())).next(a=>(pV(r,iN(e),a),{documents:a,hs:i})))}function pV(t,e,n){let r=t.ss.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class T_{constructor(){this.activeTargetIds=dN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.no=new T_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Wf(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class _V extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Wf(),l=this.bo(n,r.toUriEncodedString());Ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,l,u,s).then(c=>(Ie("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw $o("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=vV[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Wf();return new Promise((o,a)=>{const l=new S2;l.setWithCredentials(!0),l.listenOnce(E2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hf.NO_ERROR:const c=l.getResponseJson();Ie(bn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Hf.TIMEOUT:Ie(bn,`RPC '${e}' ${i} timed out`),a(new ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const d=l.getStatus();if(Ie(bn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(R)>=0?R:ve.UNKNOWN}(h.status);a(new ke(p,h.message))}else a(new ke(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(ve.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ie(bn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Ie(bn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=Wf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w2(),a=T2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");Ie(bn,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new yV({lo:S=>{h?Ie(bn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(Ie(bn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),Ie(bn,`RPC '${e}' stream ${s} sending:`,S),d.send(S))},ho:()=>d.close()}),y=(S,R,k)=>{S.listen(R,C=>{try{k(C)}catch(g){setTimeout(()=>{throw g},0)}})};return y(d,Ru.EventType.OPEN,()=>{h||Ie(bn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,Ru.EventType.CLOSE,()=>{h||(h=!0,Ie(bn,`RPC '${e}' stream ${s} transport closed`),p.Vo())}),y(d,Ru.EventType.ERROR,S=>{h||(h=!0,$o(bn,`RPC '${e}' stream ${s} transport errored:`,S),p.Vo(new ke(ve.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ru.EventType.MESSAGE,S=>{var R;if(!h){const k=S.data[0];It(!!k);const C=k,g=C.error||((R=C[0])===null||R===void 0?void 0:R.error);if(g){Ie(bn,`RPC '${e}' stream ${s} received error:`,g);const P=g.status;let w=function(O){const U=Yt[O];if(U!==void 0)return F1(U)}(P),b=g.message;w===void 0&&(w=ve.INTERNAL,b="Unknown error status: "+P+" with message "+g.message),h=!0,p.Vo(new ke(w,b)),d.close()}else Ie(bn,`RPC '${e}' stream ${s} received:`,k),p.mo(k)}}),y(a,A2.STAT_EVENT,S=>{S.stat===Jy.PROXY?Ie(bn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Jy.NOPROXY&&Ie(bn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new RN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new X1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new ke(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bV extends J1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=ON(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?Ur(o.readTime):Ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=op(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ep(l)?{documents:VN(i,l)}:{query:LN(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=j1(i,o.resumeToken);const u=rp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Mc(i,o.snapshotVersion.toTimestamp());const u=rp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=FN(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.t_(n)}}class wV extends J1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=NN(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.T_(r,n)}return It(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=op(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MN(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,sp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(ve.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,sp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ve.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class EV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(zr(n),this.g_=!1):Ie("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Je(l);u.v_.add(4),await ou(u),u.x_.set("Unknown"),u.v_.delete(4),await Ud(u)}(this))})}),this.x_=new EV(r,s)}}async function Ud(t){if(Qi(t))for(const e of t.F_)await e(!0)}async function ou(t){for(const e of t.F_)await e(!1)}function Z1(t,e){const n=Je(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),tg(n)?eg(n):aa(n).Jo()&&Zm(n,e))}function Jm(t,e){const n=Je(t),r=aa(n);n.C_.delete(e),r.Jo()&&eE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Qi(n)&&n.x_.set("Unknown"))}function Zm(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}aa(t).c_(e)}function eE(t,e){t.O_.Oe(e),aa(t).l_(e)}function eg(t){t.O_=new xN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),aa(t).start(),t.x_.p_()}function tg(t){return Qi(t)&&!aa(t).Ho()&&t.C_.size>0}function Qi(t){return Je(t).v_.size===0}function tE(t){t.O_=void 0}async function SV(t){t.C_.forEach((e,n)=>{Zm(t,e)})}async function xV(t,e){tE(t),tg(t)?(t.x_.S_(e),eg(t)):t.x_.set("Unknown")}async function IV(t,e,n){if(t.x_.set("Online"),e instanceof B1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nc(t,r)}else if(e instanceof Zu?t.O_.$e(e):e instanceof U1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ke.min()))try{const r=await Q1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.C_.get(u);c&&i.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.C_.get(l);if(!c)return;i.C_.set(l,c.withResumeToken(Pn.EMPTY_BYTE_STRING,c.snapshotVersion)),eE(i,l);const d=new Ds(c.target,l,u,c.sequenceNumber);Zm(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),await Nc(t,r)}}async function Nc(t,e,n){if(!nu(e))throw e;t.v_.add(1),await ou(t),t.x_.set("Offline"),n||(n=()=>Q1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ud(t)})}function nE(t,e){return e().catch(n=>Nc(t,n,e))}async function Bd(t){const e=Je(t),n=Ks(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;CV(e);)try{const s=await fV(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,PV(e,s)}catch(s){await Nc(e,s)}rE(e)&&sE(e)}function CV(t){return Qi(t)&&t.D_.length<10}function PV(t,e){t.D_.push(e);const n=Ks(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function rE(t){return Qi(t)&&!Ks(t).Ho()&&t.D_.length>0}function sE(t){Ks(t).start()}async function RV(t){Ks(t).d_()}async function kV(t){const e=Ks(t);for(const n of t.D_)e.I_(n.mutations)}async function DV(t,e,n){const r=t.D_.shift(),s=zm.from(r,e,n);await nE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bd(t)}async function OV(t,e){e&&Ks(t).P_&&await async function(r,s){if(function(o){return EN(o)&&o!==ve.ABORTED}(s.code)){const i=r.D_.shift();Ks(r).Zo(),await nE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Bd(r)}}(t,e),rE(t)&&sE(t)}async function A_(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.v_.add(3),await ou(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ud(n)}async function MV(t,e){const n=Je(t);e?(n.v_.delete(2),await Ud(n)):e||(n.v_.add(2),await ou(n),n.x_.set("Unknown"))}function aa(t){return t.N_||(t.N_=function(n,r,s){const i=Je(n);return i.R_(),new bV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:SV.bind(null,t),To:xV.bind(null,t),u_:IV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),tg(t)?eg(t):t.x_.set("Unknown")):(await t.N_.stop(),tE(t))})),t.N_}function Ks(t){return t.L_||(t.L_=function(n,r,s){const i=Je(n);return i.R_(),new wV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:RV.bind(null,t),To:OV.bind(null,t),E_:kV.bind(null,t),T_:DV.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Bd(t)):(await t.L_.stop(),t.D_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ng(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(t,e){if(zr("AsyncQueue",`${e}: ${t}`),nu(t))return new ke(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Pa(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.B_=new Lt(Be.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ge():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ho{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ho(e,n,So.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class VV{constructor(){this.queries=new oa(e=>S1(e),Md),this.onlineState="Unknown",this.W_=new Set}}async function LV(t,e){const n=Je(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new NV,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=rg(o,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&sg(n)}async function $V(t,e){const n=Je(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FV(t,e){const n=Je(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&sg(n)}function UV(t,e,n){const r=Je(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function sg(t){t.W_.forEach(e=>{e.next()})}var lp,x_;(x_=lp||(lp={})).j_="default",x_.Cache="cache";class BV{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this.key=e}}class oE{constructor(e){this.key=e}}class jV{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=st(),this.mutatedKeys=st(),this.ha=x1(e),this.Pa=new So(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new S_,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const f=s.get(c),h=Nd(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let S=!1;f&&h?f.data.isEqual(h.data)?p!==y&&(r.track({type:3,doc:h}),S=!0):this.da(f,h)||(r.track({type:2,doc:h}),S=!0,(l&&this.ha(h,l)>0||u&&this.ha(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),S=!0):f&&!h&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(h?(o=o.add(h),i=y?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,d)=>function(h,p){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return y(h)-y(p)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new Ho(this.query,e.Pa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new S_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=st(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new oE(r))}),this.la.forEach(r=>{e.has(r)||n.push(new iE(r))}),n}fa(e){this.ua=e.hs,this.la=st();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Ho.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class HV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qV{constructor(e){this.key=e,this.pa=!1}}class WV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new oa(a=>S1(a),Md),this.Sa=new Map,this.ba=new Set,this.Da=new Lt(Be.comparator),this.Ca=new Map,this.va=new Km,this.Fa={},this.Ma=new Map,this.xa=jo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function zV(t,e,n=!0){const r=fE(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await aE(r,e,n,!0),s}async function GV(t,e){const n=fE(t);await aE(n,e,!0,!1)}async function aE(t,e,n,r){const s=await hV(t.localStore,$r(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await YV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Z1(t.remoteStore,s),a}async function YV(t,e,n,r,s){t.Na=(d,f,h)=>async function(y,S,R,k){let C=S.view.Ta(R);C.Xi&&(C=await w_(y.localStore,S.query,!1).then(({documents:b})=>S.view.Ta(b,C)));const g=k&&k.targetChanges.get(S.targetId),P=k&&k.targetMismatches.get(S.targetId)!=null,w=S.view.applyChanges(C,y.isPrimaryClient,g,P);return C_(y,S.targetId,w.Va),w.snapshot}(t,d,f,h);const i=await w_(t.localStore,e,!0),o=new jV(e,i.hs),a=o.Ta(i.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);C_(t,n,u.Va);const c=new HV(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function KV(t,e,n){const r=Je(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Md(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ap(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jm(r.remoteStore,s.targetId),up(r,s.targetId)}).catch(tu)):(up(r,s.targetId),await ap(r.localStore,s.targetId,!0))}async function QV(t,e){const n=Je(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(n.remoteStore,r.targetId))}async function XV(t,e,n){const r=sL(t);try{const s=await function(o,a){const l=Je(o),u=rn.now(),c=a.reduce((h,p)=>h.add(p.key),st());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=fs(),y=st();return l.os.getEntries(h,c).next(S=>{p=S,p.forEach((R,k)=>{k.isValidDocument()||(y=y.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(S=>{d=S;const R=[];for(const k of a){const C=yN(k,d.get(k.key).overlayedDocument);C!=null&&R.push(new ri(k.key,C,g1(C.value.mapValue),Fr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,R,a)}).next(S=>{f=S;const R=S.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(h,S.batchId,R)})}).then(()=>({batchId:f.batchId,changes:C1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new Lt(pt)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,s.batchId,n),await au(r,s.changes),await Bd(r.remoteStore)}catch(s){const i=rg(s,"Failed to persist write");n.reject(i)}}async function lE(t,e){const n=Je(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?It(o.pa):s.removedDocuments.size>0&&(It(o.pa),o.pa=!1))}),await au(n,r,e)}catch(r){await tu(r)}}function I_(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Je(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Q_)f.G_(a)&&(u=!0)}),u&&sg(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JV(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Lt(Be.comparator);o=o.insert(i,An.newNoDocument(i,Ke.min()));const a=st().add(i),l=new $d(Ke.min(),new Map,new Lt(pt),o,a);await lE(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),ig(r)}else await ap(r.localStore,e,!1).then(()=>up(r,e,n)).catch(tu)}async function ZV(t,e){const n=Je(t),r=e.batch.batchId;try{const s=await uV(n.localStore,e);cE(n,r,null),uE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,s)}catch(s){await tu(s)}}async function eL(t,e,n){const r=Je(t);try{const s=await function(o,a){const l=Je(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(It(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);cE(r,e,n),uE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,s)}catch(s){await tu(s)}}function uE(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function cE(t,e,n){const r=Je(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||dE(t,r)})}function dE(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Jm(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),ig(t))}function C_(t,e,n){for(const r of n)r instanceof iE?(t.va.addReference(r.key,e),tL(t,r)):r instanceof oE?(Ie("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||dE(t,r.key)):Ge()}function tL(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Ie("SyncEngine","New document in limbo: "+n),t.ba.add(r),ig(t))}function ig(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Be(Dt.fromString(e)),r=t.xa.next();t.Ca.set(r,new qV(n)),t.Da=t.Da.insert(n,r),Z1(t.remoteStore,new Ds($r(E1(n.path)),r,"TargetPurposeLimboResolution",Um._e))}}async function au(t,e,n){const r=Je(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=Xm.Ki(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,u){const c=Je(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ye.forEach(u,f=>ye.forEach(f.qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>ye.forEach(f.Qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!nu(d))throw d;Ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ns.get(f),p=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(f,y)}}}(r.localStore,i))}async function nL(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=await K1(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new ke(ve.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.us)}}function rL(t,e){const n=Je(t),r=n.Ca.get(e);if(r&&r.pa)return st().add(r.key);{let s=st();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function fE(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.ya.u_=FV.bind(null,e.eventManager),e.ya.La=UV.bind(null,e.eventManager),e}function sL(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eL.bind(null,e),e}class P_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lV(this.persistence,new oV,e.initialUser,this.serializer)}createPersistence(e){return new rV(Qm.Hr,this.serializer)}createSharedClientState(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nL.bind(null,this.syncEngine),await MV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VV}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(i){return new _V(i)}(e.databaseInfo);return function(i,o,a,l){return new TV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new AV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>I_(this.syncEngine,n,0),function(){return E_.D()?new E_:new gV}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const d=new WV(s,i,o,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Je(r);Ie("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await ou(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=h1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ie("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ie("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gf(t,e){t.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await K1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function R_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uL(t);Ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>A_(e.remoteStore,s)),t._onlineComponents=e}function lL(t){return t.name==="FirebaseError"?t.code===ve.FAILED_PRECONDITION||t.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function uL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!lL(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await Gf(t,new P_)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await Gf(t,new P_);return t._offlineComponents}async function hE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await R_(t,t._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await R_(t,new iL))),t._onlineComponents}function cL(t){return hE(t).then(e=>e.syncEngine)}async function dL(t){const e=await hE(t),n=e.eventManager;return n.onListen=zV.bind(null,e.syncEngine),n.onUnlisten=KV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QV.bind(null,e.syncEngine),n}function fL(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new oL({next:f=>{o.enqueueAndForget(()=>$V(i,d)),f.fromCache&&l.source==="server"?u.reject(new ke(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new BV(a,c,{includeMetadataChanges:!0,ta:!0});return LV(i,d)}(await dL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new ke(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hL(t,e,n,r){if(e===!0&&r===!0)throw new ke(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D_(t){if(!Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O_(t){if(Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge()}function qo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(t);throw new ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I2;switch(r.type){case"firstParty":return new k2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k_.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),k_.delete(n),r.terminate())}(this),Promise.resolve()}}function pL(t,e,n,r={}){var s;const i=(t=qo(t,Hd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tn.MOCK_USER;else{a=VR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tn(u)}t._authCredentials=new C2(new f1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Us extends la{constructor(e,n,r){super(e,n,E1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Be(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function cp(t,e,...n){if(t=_n(t),mE("collection","path",e),t instanceof Hd){const r=Dt.fromString(e,...n);return O_(r),new Us(t,null,r)}{if(!(t instanceof Hn||t instanceof Us))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return O_(r),new Us(t.firestore,null,r)}}function og(t,e,...n){if(t=_n(t),arguments.length===1&&(e=h1.newId()),mE("doc","path",e),t instanceof Hd){const r=Dt.fromString(e,...n);return D_(r),new Hn(t,null,new Be(r))}{if(!(t instanceof Hn||t instanceof Us))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return D_(r),new Hn(t.firestore,t instanceof Us?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new X1(this,"async_queue_retry"),this.cu=()=>{const n=zf();n&&Ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=zf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new as;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!nu(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=ng.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Ge()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class qd extends Hd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new mL}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vE(this),this._firestoreClient.terminate()}}function gL(t,e){const n=typeof t=="object"?t:Iw(),r=typeof t=="string"?t:e||"(default)",s=sm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=MR("firestore");i&&pL(s,...i)}return s}function gE(t){return t._firestoreClient||vE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vE(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new W2(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new aL(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Pn.fromBase64String(e))}catch(n){throw new ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^__.*__$/;class yL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class yE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ri(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _E(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class ug{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Vc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(_E(this.Vu)&&vL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}Cu(e,n,r,s=!1){return new ug({Vu:e,methodName:n,Du:r,path:mn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new _L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bL(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);dg("Data must be an object, but it was:",o,r);const a=bE(r,o);let l,u;if(i.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const f=dp(e,d,n);if(!o.contains(f))throw new ke(ve.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TE(c,f)||c.push(f)}l=new Bn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new yL(new Vn(a),l,u)}class zd extends ag{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}function wL(t,e,n,r){const s=t.Cu(1,e,n);dg("Data must be an object, but it was:",s,r);const i=[],o=Vn.empty();Ki(r,(l,u)=>{const c=fg(e,l,n);u=_n(u);const d=s.yu(c);if(u instanceof zd)i.push(c);else{const f=lu(u,d);f!=null&&(i.push(c),o.set(c,f))}});const a=new Bn(i);return new yE(o,a,s.fieldTransforms)}function TL(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[dp(e,r,n)],l=[s];if(i.length%2!=0)throw new ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(dp(e,i[f])),l.push(i[f+1]);const u=[],c=Vn.empty();for(let f=a.length-1;f>=0;--f)if(!TE(u,a[f])){const h=a[f];let p=l[f];p=_n(p);const y=o.yu(h);if(p instanceof zd)u.push(h);else{const S=lu(p,y);S!=null&&(u.push(h),c.set(h,S))}}const d=new Bn(u);return new yE(c,d,o.fieldTransforms)}function EL(t,e,n,r=!1){return lu(n,t.Cu(r?4:3,e))}function lu(t,e){if(wE(t=_n(t)))return dg("Unsupported field value:",e,t),bE(t,e);if(t instanceof ag)return function(r,s){if(!_E(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=lu(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rn.fromDate(r);return{timestampValue:Mc(s.serializer,i)}}if(r instanceof rn){const i=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mc(s.serializer,i)}}if(r instanceof lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:j1(s.serializer,r._byteString)};if(r instanceof Hn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ym(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${jd(r)}`)}(t,e)}function bE(t,e){const n={};return p1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=lu(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof lg||t instanceof Wo||t instanceof Hn||t instanceof ag)}function dg(t,e,n){if(!wE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function dp(t,e,n){if((e=_n(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return fg(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const AL=new RegExp("[~\\*/\\[\\]]");function fg(t,e,n){if(e.search(AL)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wd(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ke(ve.INVALID_ARGUMENT,a+t+l)}function TE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SL extends EE{data(){return super.data()}}function hg(t,e){return typeof e=="string"?fg(t,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class IL extends pg{}function AE(t,e,...n){let r=[];e instanceof pg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof mg).length,a=i.filter(l=>l instanceof Gd).length;if(o>1||o>0&&a>0)throw new ke(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Gd extends IL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gd(e,n,r)}_apply(e){const n=this._parse(e);return xE(e._query,n),new la(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=cg(e.firestore);return function(i,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){V_(d,c);const h=[];for(const p of d)h.push(N_(l,i,p));f={arrayValue:{values:h}}}else f=N_(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||V_(d,c),f=EL(a,o,d,c==="in"||c==="not-in");return Qt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SE(t,e,n){const r=e,s=hg("where",t);return Gd._create(s,r,n)}class mg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)xE(o,l),o=tp(o,l)}(e._query,n),new la(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N_(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new ke(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A1(e)&&n.indexOf("/")!==-1)throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Be.isDocumentKey(r))throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s_(t,new Be(r))}if(n instanceof Hn)return s_(t,n._key);throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function V_(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xE(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CL{convertValue(e,n="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new lg(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);It(Y1(r));const s=new Cl(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RL extends EE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ec extends RL{data(e={}){return super.data(e)}}class kL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ec(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ec(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:DL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}class OL extends CL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function IE(t){t=qo(t,la);const e=qo(t.firestore,qd),n=gE(e),r=new OL(e);return xL(t._query),fL(n,t._query).then(s=>new kL(e,r,t,s))}function CE(t,e,n,...r){t=qo(t,Hn);const s=qo(t.firestore,qd),i=cg(s);let o;return o=typeof(e=_n(e))=="string"||e instanceof Wd?TL(i,"updateDoc",t._key,e,n,r):wL(i,"updateDoc",t._key,e),PE(s,[o.toMutation(t._key,Fr.exists(!0))])}function ML(t,e){const n=qo(t.firestore,qd),r=og(t),s=PL(t.converter,e);return PE(n,[bL(cg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}function PE(t,e){return function(r,s){const i=new as;return r.asyncQueue.enqueueAndForget(async()=>XV(await cL(r),s,i)),i.promise}(gE(t),e)}(function(e,n=!0){(function(s){ia=s})(ta),Vo(new Ni("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new qd(new P2(r.getProvider("auth-internal")),new O2(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fs(Zy,"4.5.0",e),Fs(Zy,"4.5.0","esm2017")})();const NL={apiKey:"AIzaSyD7n8E7b0wtFEwSBS8oa5wVwshLXkOyvNY",authDomain:"todoautos.firebaseapp.com",projectId:"todoautos",storageBucket:"todoautos.appspot.com",messagingSenderId:"627443339943",appId:"1:627443339943:web:113de9723a94056e54c182",measurementId:"G-TXE1ZH392N"},RE=xw(NL),zo=_M(RE),Xa=gL(RE);/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function ir(t){return typeof t=="function"}function ho(t){return t==null}const Go=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function gg(t){return Number(t)>=0}function VL(t){return typeof t=="object"&&t!==null}function LL(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function L_(t){if(!VL(t)||LL(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Dl(t,e){return Object.keys(e).forEach(n=>{if(L_(e[n])&&L_(t[n])){t[n]||(t[n]={}),Dl(t[n],e[n]);return}t[n]=e[n]}),t}function Nu(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let r=1;r<e.length;r++){if(gg(e[r])){n+=`[${e[r]}]`;continue}n+=`.${e[r]}`}return n}const $L={};function FL(t){return $L[t]}function $_(t,e,n){typeof n.value=="object"&&(n.value=bt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function bt(t){if(typeof t!="object")return t;var e=0,n,r,s,i=Object.prototype.toString.call(t);if(i==="[object Object]"?s=Object.create(t.__proto__||null):i==="[object Array]"?s=Array(t.length):i==="[object Set]"?(s=new Set,t.forEach(function(o){s.add(bt(o))})):i==="[object Map]"?(s=new Map,t.forEach(function(o,a){s.set(bt(a),bt(o))})):i==="[object Date]"?s=new Date(+t):i==="[object RegExp]"?s=new RegExp(t.source,t.flags):i==="[object DataView]"?s=new t.constructor(bt(t.buffer)):i==="[object ArrayBuffer]"?s=t.slice(0):i.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)$_(s,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(s,n=r[e])&&s[n]===t[n]||$_(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}const kE=Symbol("vee-validate-form"),UL=typeof window<"u";function BL(t){return ir(t)&&!!t.__locatorRef}function Os(t){return!!t&&ir(t.parse)&&t.__type==="VVTypedSchema"}function DE(t){return!!t&&ir(t.validate)}function jL(t){return t==="checkbox"||t==="radio"}function HL(t){return Go(t)||Array.isArray(t)}function qL(t){return Array.isArray(t)?t.length===0:Go(t)&&Object.keys(t).length===0}function uu(t){return/^\[.+\]$/i.test(t)}function WL(t){return OE(t)&&t.multiple}function OE(t){return t.tagName==="SELECT"}function zL(t){return ME(t)&&t.target&&"submit"in t.target}function ME(t){return t?!!(typeof Event<"u"&&ir(Event)&&t instanceof Event||t&&t.srcElement):!1}function Bs(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Bs(t[r],e[r]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;for(r of t.entries())if(!Bs(r[1],e.get(r[0])))return!1;return!0}if(F_(t)&&F_(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(s=Object.keys(t),n=s.length,r=n;r--!==0;){var i=s[r];if(!Bs(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function F_(t){return UL?t instanceof File:!1}function Yd(t){return uu(t)?t.replace(/\[|\]/gi,""):t}function an(t,e,n){return t?uu(e)?t[Yd(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,i)=>HL(s)&&i in s?s[i]:n,t):n}function En(t,e,n){if(uu(e)){t[Yd(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let i=0;i<r.length;i++){if(i===r.length-1){s[r[i]]=n;return}(!(r[i]in s)||ho(s[r[i]]))&&(s[r[i]]=gg(r[i+1])?[]:{}),s=s[r[i]]}}function Yf(t,e){if(Array.isArray(t)&&gg(e)){t.splice(Number(e),1);return}Go(t)&&delete t[e]}function U_(t,e){if(uu(e)){delete t[Yd(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<n.length;i++){if(i===n.length-1){Yf(r,n[i]);break}if(!(n[i]in r)||ho(r[n[i]]))break;r=r[n[i]]}const s=n.map((i,o)=>an(t,n.slice(0,o).join(".")));for(let i=s.length-1;i>=0;i--)if(qL(s[i])){if(i===0){Yf(t,n[0]);continue}Yf(s[i-1],n[i-1])}}function Gn(t){return Object.keys(t)}function GL(t,e=void 0){const n=Ll();return(n==null?void 0:n.provides[t])||Xn(t,e)}function B_(t,e=0){let n=null,r=[];return function(...s){return n&&clearTimeout(n),n=setTimeout(()=>{const i=t(...s);r.forEach(o=>o(i)),r=[]},e),new Promise(i=>r.push(i))}}function YL(t,e){let n;return async function(...s){const i=t(...s);n=i;const o=await i;return i!==n?o:(n=void 0,e(o,s))}}function KL({get:t,set:e}){const n=le(bt(t()));return Ut(t,r=>{Bs(r,n.value)||(n.value=bt(r))},{deep:!0}),Ut(n,r=>{Bs(r,t())||e(bt(r))},{deep:!0}),n}function j_(t){return Array.isArray(t)?t:t?[t]:[]}function Vu(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function QL(t){let e=null,n=[];return function(...r){const s=St(()=>{if(e!==s)return;const i=t(...r);n.forEach(o=>o(i)),n=[],e=null});return e=s,new Promise(i=>n.push(i))}}function Kf(t){if(NE(t))return t._value}function NE(t){return"_value"in t}function XL(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function H_(t){if(!ME(t))return t;const e=t.target;if(jL(e.type)&&NE(e))return Kf(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(WL(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Kf);if(OE(e)){const n=Array.from(e.options).find(r=>r.selected);return n?Kf(n):e.value}return XL(e)}function JL(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Go(t)&&t._$$isNormalized?t:Go(t)?Object.keys(t).reduce((n,r)=>{const s=ZL(t[r]);return t[r]!==!1&&(n[r]=q_(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const s=e$(r);return s.name&&(n[s.name]=q_(s.params)),n},e):e}function ZL(t){return t===!0?[]:Array.isArray(t)||Go(t)?t:[t]}function q_(t){const e=n=>typeof n=="string"&&n[0]==="@"?t$(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const e$=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function t$(t){const e=n=>an(n,t)||n[t];return e.__locatorRef=t,e}const n$={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let r$=Object.assign({},n$);const ka=()=>r$;async function s$(t,e,n={}){const r=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},o=(await i$(s,t)).errors;return{errors:o,valid:!o.length}}async function i$(t,e){if(Os(t.rules)||DE(t.rules))return a$(e,t.rules);if(ir(t.rules)||Array.isArray(t.rules)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},a=Array.isArray(t.rules)?t.rules:[t.rules],l=a.length,u=[];for(let c=0;c<l;c++){const d=a[c],f=await d(e,o);if(!(typeof f!="string"&&!Array.isArray(f)&&f)){if(Array.isArray(f))u.push(...f);else{const p=typeof f=="string"?f:LE(o);u.push(p)}if(t.bails)return{errors:u}}}return{errors:u}}const n=Object.assign(Object.assign({},t),{rules:JL(t.rules)}),r=[],s=Object.keys(n.rules),i=s.length;for(let o=0;o<i;o++){const a=s[o],l=await l$(n,e,{name:a,params:n.rules[a]});if(l.error&&(r.push(l.error),t.bails))return{errors:r}}return{errors:r}}function o$(t){return!!t&&t.name==="ValidationError"}function VE(t){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(s){if(!o$(s))throw s;if(!(!((r=s.inner)===null||r===void 0)&&r.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const i=s.inner.reduce((o,a)=>{const l=a.path||"";return o[l]||(o[l]={errors:[],path:l}),o[l].errors.push(...a.errors),o},{});return{errors:Object.values(i)}}}}}async function a$(t,e){const r=await(Os(e)?e:VE(e)).parse(t),s=[];for(const i of r.errors)i.errors.length&&s.push(...i.errors);return{errors:s}}async function l$(t,e,n){const r=FL(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const s=u$(n.params,t.formData),i={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},o=await r(e,s,i);return typeof o=="string"?{error:o}:{error:o?void 0:LE(i)}}function LE(t){const e=ka().generateMessage;return e?e(t):"Field is invalid"}function u$(t,e){const n=r=>BL(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{})}async function c$(t,e){const r=await(Os(t)?t:VE(t)).parse(bt(e)),s={},i={};for(const o of r.errors){const a=o.errors,l=(o.path||"").replace(/\["(\d+)"\]/g,(u,c)=>`[${c}]`);s[l]={valid:!a.length,errors:a},a.length&&(i[l]=a[0])}return{valid:!r.errors.length,results:s,errors:i,values:r.value}}async function d$(t,e,n){const s=Gn(t).map(async u=>{var c,d,f;const h=(c=n==null?void 0:n.names)===null||c===void 0?void 0:c[u],p=await s$(an(e,u),t[u],{name:(h==null?void 0:h.name)||u,label:h==null?void 0:h.label,values:e,bails:(f=(d=n==null?void 0:n.bailsMap)===null||d===void 0?void 0:d[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},p),{path:u})});let i=!0;const o=await Promise.all(s),a={},l={};for(const u of o)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(i=!1,l[u.path]=u.errors[0]);return{valid:i,results:a,errors:l}}let f$=0;const Lu=["bails","fieldsCount","id","multiple","type","validate"];function $E(t){const e=Object.assign({},At((t==null?void 0:t.initialValues)||{})),n=m(t==null?void 0:t.validationSchema);return n&&Os(n)&&ir(n.cast)?bt(n.cast(e)||{}):bt(e)}function Kd(t){var e;const n=f$++;let r=0;const s=le(!1),i=le(!1),o=le(0),a=[],l=en($E(t)),u=le([]),c=le({}),d=le({}),f=QL(()=>{d.value=u.value.reduce((H,q)=>(H[Nu(At(q.path))]=q,H),{})});function h(H,q){const fe=E(H);if(!fe){typeof H=="string"&&(c.value[Nu(H)]=j_(q));return}if(typeof H=="string"){const $=Nu(H);c.value[$]&&delete c.value[$]}fe.errors=j_(q),fe.valid=!fe.errors.length}function p(H){Gn(H).forEach(q=>{h(q,H[q])})}t!=null&&t.initialErrors&&p(t.initialErrors);const y=ue(()=>{const H=u.value.reduce((q,fe)=>(fe.errors.length&&(q[fe.path]=fe.errors),q),{});return Object.assign(Object.assign({},c.value),H)}),S=ue(()=>Gn(y.value).reduce((H,q)=>{const fe=y.value[q];return fe!=null&&fe.length&&(H[q]=fe[0]),H},{})),R=ue(()=>u.value.reduce((H,q)=>(H[q.path]={name:q.path||"",label:q.label||""},H),{})),k=ue(()=>u.value.reduce((H,q)=>{var fe;return H[q.path]=(fe=q.bails)!==null&&fe!==void 0?fe:!0,H},{})),C=Object.assign({},(t==null?void 0:t.initialErrors)||{}),g=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:P,originalInitialValues:w,setInitialValues:b}=p$(u,l,t),I=h$(u,l,w,S),O=ue(()=>u.value.reduce((H,q)=>{const fe=an(l,q.path);return En(H,q.path,fe),H},{})),U=t==null?void 0:t.validationSchema;function K(H,q){var fe,$;const se=ue(()=>an(P.value,At(H))),N=d.value[At(H)],ae=(q==null?void 0:q.type)==="checkbox"||(q==null?void 0:q.type)==="radio";if(N&&ae){N.multiple=!0;const Ct=r++;return Array.isArray(N.id)?N.id.push(Ct):N.id=[N.id,Ct],N.fieldsCount++,N.__flags.pendingUnmount[Ct]=!1,N}const ge=ue(()=>an(l,At(H))),ee=At(H),we=te.findIndex(Ct=>Ct===ee);we!==-1&&te.splice(we,1);const Se=ue(()=>{var Ct,dn,Qr,oi,yr,fa;return Os(U)?(Qr=(dn=(Ct=U).describe)===null||dn===void 0?void 0:dn.call(Ct,At(H)).required)!==null&&Qr!==void 0?Qr:!1:Os(q==null?void 0:q.schema)&&(fa=(yr=(oi=q==null?void 0:q.schema).describe)===null||yr===void 0?void 0:yr.call(oi).required)!==null&&fa!==void 0?fa:!1}),tt=r++,dt=en({id:tt,path:H,touched:!1,pending:!1,valid:!0,validated:!!(!((fe=C[ee])===null||fe===void 0)&&fe.length),required:Se,initialValue:se,errors:Mp([]),bails:($=q==null?void 0:q.bails)!==null&&$!==void 0?$:!1,label:q==null?void 0:q.label,type:(q==null?void 0:q.type)||"default",value:ge,multiple:!1,__flags:{pendingUnmount:{[tt]:!1},pendingReset:!1},fieldsCount:1,validate:q==null?void 0:q.validate,dirty:ue(()=>!Bs(m(ge),m(se)))});return u.value.push(dt),d.value[ee]=dt,f(),S.value[ee]&&!C[ee]&&St(()=>{Ee(ee,{mode:"silent"})}),ht(H)&&Ut(H,Ct=>{f();const dn=bt(ge.value);d.value[Ct]=dt,St(()=>{En(l,Ct,dn)})}),dt}const M=B_(xe,5),X=B_(xe,5),ne=YL(async H=>await(H==="silent"?M():X()),(H,[q])=>{const fe=Gn(re.errorBag.value),se=[...new Set([...Gn(H.results),...u.value.map(N=>N.path),...fe])].sort().reduce((N,ae)=>{var ge;const ee=ae,we=E(ee)||Y(ee),Se=((ge=H.results[ee])===null||ge===void 0?void 0:ge.errors)||[],tt=At(we==null?void 0:we.path)||ee,dt=m$({errors:Se,valid:!Se.length},N.results[tt]);return N.results[tt]=dt,dt.valid||(N.errors[tt]=dt.errors[0]),we&&c.value[tt]&&delete c.value[tt],we?(we.valid=dt.valid,q==="silent"||q==="validated-only"&&!we.validated||h(we,dt.errors),N):(h(tt,Se),N)},{valid:H.valid,results:{},errors:{}});return H.values&&(se.values=H.values),Gn(se.results).forEach(N=>{var ae;const ge=E(N);ge&&q!=="silent"&&(q==="validated-only"&&!ge.validated||h(ge,(ae=se.results[N])===null||ae===void 0?void 0:ae.errors))}),se});function L(H){u.value.forEach(H)}function E(H){const q=typeof H=="string"?Nu(H):H;return typeof q=="string"?d.value[q]:q}function Y(H){return u.value.filter(fe=>H.startsWith(fe.path)).reduce((fe,$)=>fe?$.path.length>fe.path.length?$:fe:$,void 0)}let te=[],be;function de(H){return te.push(H),be||(be=St(()=>{[...te].sort().reverse().forEach(fe=>{U_(l,fe)}),te=[],be=null})),be}function W(H){return function(fe,$){return function(N){return N instanceof Event&&(N.preventDefault(),N.stopPropagation()),L(ae=>ae.touched=!0),s.value=!0,o.value++,Q().then(ae=>{const ge=bt(l);if(ae.valid&&typeof fe=="function"){const ee=bt(O.value);let we=H?ee:ge;return ae.values&&(we=ae.values),fe(we,{evt:N,controlledValues:ee,setErrors:p,setFieldError:h,setTouched:F,setFieldTouched:Ae,setValues:D,setFieldValue:A,resetForm:Z,resetField:G})}!ae.valid&&typeof $=="function"&&$({values:ge,evt:N,errors:ae.errors,results:ae.results})}).then(ae=>(s.value=!1,ae),ae=>{throw s.value=!1,ae})}}}const T=W(!1);T.withControlled=W(!0);function B(H,q){const fe=u.value.findIndex(se=>se.path===H&&(Array.isArray(se.id)?se.id.includes(q):se.id===q)),$=u.value[fe];if(!(fe===-1||!$)){if(St(()=>{Ee(H,{mode:"silent",warn:!1})}),$.multiple&&$.fieldsCount&&$.fieldsCount--,Array.isArray($.id)){const se=$.id.indexOf(q);se>=0&&$.id.splice(se,1),delete $.__flags.pendingUnmount[q]}(!$.multiple||$.fieldsCount<=0)&&(u.value.splice(fe,1),he(H),f(),delete d.value[H])}}function ce(H){Gn(d.value).forEach(q=>{q.startsWith(H)&&delete d.value[q]}),u.value=u.value.filter(q=>!q.path.startsWith(H)),St(()=>{f()})}const re={formId:n,values:l,controlledValues:O,errorBag:y,errors:S,schema:U,submitCount:o,meta:I,isSubmitting:s,isValidating:i,fieldArrays:a,keepValuesOnUnmount:g,validateSchema:m(U)?ne:void 0,validate:Q,setFieldError:h,validateField:Ee,setFieldValue:A,setValues:D,setErrors:p,setFieldTouched:Ae,setTouched:F,resetForm:Z,resetField:G,handleSubmit:T,useFieldModel:Me,defineInputBinds:We,defineComponentBinds:et,defineField:Pe,stageInitialValue:me,unsetInitialValue:he,setFieldInitialValue:pe,createPathState:K,getPathState:E,unsetPathValue:de,removePathState:B,initialValues:P,getAllPathStates:()=>u.value,destroyPath:ce,isFieldTouched:_e,isFieldDirty:v,isFieldValid:_};function A(H,q,fe=!0){const $=bt(q),se=typeof H=="string"?H:H.path;E(se)||K(se),En(l,se,$),fe&&Ee(se)}function ie(H,q=!0){Gn(l).forEach(fe=>{delete l[fe]}),Gn(H).forEach(fe=>{A(fe,H[fe],!1)}),q&&Q()}function D(H,q=!0){Dl(l,H),a.forEach(fe=>fe&&fe.reset()),q&&Q()}function j(H,q){const fe=E(At(H))||K(H);return ue({get(){return fe.value},set($){var se;const N=At(H);A(N,$,(se=At(q))!==null&&se!==void 0?se:!1)}})}function Ae(H,q){const fe=E(H);fe&&(fe.touched=q)}function _e(H){const q=E(H);return q?q.touched:u.value.filter(fe=>fe.path.startsWith(H)).some(fe=>fe.touched)}function v(H){const q=E(H);return q?q.dirty:u.value.filter(fe=>fe.path.startsWith(H)).some(fe=>fe.dirty)}function _(H){const q=E(H);return q?q.valid:u.value.filter(fe=>fe.path.startsWith(H)).every(fe=>fe.valid)}function F(H){if(typeof H=="boolean"){L(q=>{q.touched=H});return}Gn(H).forEach(q=>{Ae(q,!!H[q])})}function G(H,q){var fe;const $=q&&"value"in q?q.value:an(P.value,H),se=E(H);se&&(se.__flags.pendingReset=!0),pe(H,bt($),!0),A(H,$,!1),Ae(H,(fe=q==null?void 0:q.touched)!==null&&fe!==void 0?fe:!1),h(H,(q==null?void 0:q.errors)||[]),St(()=>{se&&(se.__flags.pendingReset=!1)})}function Z(H,q){let fe=bt(H!=null&&H.values?H.values:w.value);fe=q!=null&&q.force?fe:Dl(w.value,fe),fe=Os(U)&&ir(U.cast)?U.cast(fe):fe,b(fe),L($=>{var se;$.__flags.pendingReset=!0,$.validated=!1,$.touched=((se=H==null?void 0:H.touched)===null||se===void 0?void 0:se[$.path])||!1,A($.path,an(fe,$.path),!1),h($.path,void 0)}),q!=null&&q.force?ie(fe,!1):D(fe,!1),p((H==null?void 0:H.errors)||{}),o.value=(H==null?void 0:H.submitCount)||0,St(()=>{Q({mode:"silent"}),L($=>{$.__flags.pendingReset=!1})})}async function Q(H){const q=(H==null?void 0:H.mode)||"force";if(q==="force"&&L(N=>N.validated=!0),re.validateSchema)return re.validateSchema(q);i.value=!0;const fe=await Promise.all(u.value.map(N=>N.validate?N.validate(H).then(ae=>({key:N.path,valid:ae.valid,errors:ae.errors})):Promise.resolve({key:N.path,valid:!0,errors:[]})));i.value=!1;const $={},se={};for(const N of fe)$[N.key]={valid:N.valid,errors:N.errors},N.errors.length&&(se[N.key]=N.errors[0]);return{valid:fe.every(N=>N.valid),results:$,errors:se}}async function Ee(H,q){var fe;const $=E(H);if($&&(q==null?void 0:q.mode)!=="silent"&&($.validated=!0),U){const{results:se}=await ne((q==null?void 0:q.mode)||"validated-only");return se[H]||{errors:[],valid:!0}}return $!=null&&$.validate?$.validate(q):(!$&&(fe=q==null?void 0:q.warn),Promise.resolve({errors:[],valid:!0}))}function he(H){U_(P.value,H)}function me(H,q,fe=!1){pe(H,q),En(l,H,q),fe&&!(t!=null&&t.initialValues)&&En(w.value,H,bt(q))}function pe(H,q,fe=!1){En(P.value,H,bt(q)),fe&&En(w.value,H,bt(q))}async function xe(){const H=m(U);if(!H)return{valid:!0,results:{},errors:{}};i.value=!0;const q=DE(H)||Os(H)?await c$(H,l):await d$(H,l,{names:R.value,bailsMap:k.value});return i.value=!1,q}const Ne=T((H,{evt:q})=>{zL(q)&&q.target.submit()});Ot(()=>{if(t!=null&&t.initialErrors&&p(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){Q();return}re.validateSchema&&re.validateSchema("silent")}),ht(U)&&Ut(U,()=>{var H;(H=re.validateSchema)===null||H===void 0||H.call(re,"validated-only")}),Na(kE,re);function Pe(H,q){const fe=ir(q)||q==null?void 0:q.label,$=E(At(H))||K(H,{label:fe}),se=()=>ir(q)?q(Vu($,Lu)):q||{};function N(){var Se;$.touched=!0,((Se=se().validateOnBlur)!==null&&Se!==void 0?Se:ka().validateOnBlur)&&Ee($.path)}function ae(){var Se;((Se=se().validateOnInput)!==null&&Se!==void 0?Se:ka().validateOnInput)&&St(()=>{Ee($.path)})}function ge(){var Se;((Se=se().validateOnChange)!==null&&Se!==void 0?Se:ka().validateOnChange)&&St(()=>{Ee($.path)})}const ee=ue(()=>{const Se={onChange:ge,onInput:ae,onBlur:N};return ir(q)?Object.assign(Object.assign({},Se),q(Vu($,Lu)).props||{}):q!=null&&q.props?Object.assign(Object.assign({},Se),q.props(Vu($,Lu))):Se});return[j(H,()=>{var Se,tt,dt;return(dt=(Se=se().validateOnModelUpdate)!==null&&Se!==void 0?Se:(tt=ka())===null||tt===void 0?void 0:tt.validateOnModelUpdate)!==null&&dt!==void 0?dt:!0}),ee]}function Me(H){return Array.isArray(H)?H.map(q=>j(q,!0)):j(H)}function We(H,q){const[fe,$]=Pe(H,q);function se(){$.value.onBlur()}function N(ge){const ee=H_(ge);A(At(H),ee,!1),$.value.onInput()}function ae(ge){const ee=H_(ge);A(At(H),ee,!1),$.value.onChange()}return ue(()=>Object.assign(Object.assign({},$.value),{onBlur:se,onInput:N,onChange:ae,value:fe.value}))}function et(H,q){const[fe,$]=Pe(H,q),se=E(At(H));function N(ae){fe.value=ae}return ue(()=>{const ae=ir(q)?q(Vu(se,Lu)):q||{};return Object.assign({[ae.model||"modelValue"]:fe.value,[`onUpdate:${ae.model||"modelValue"}`]:N},$.value)})}return Object.assign(Object.assign({},re),{values:kp(l),handleReset:()=>Z(),submitForm:Ne})}function h$(t,e,n,r){const s={touched:"some",pending:"some",valid:"every"},i=ue(()=>!Bs(e,m(n)));function o(){const l=t.value;return Gn(s).reduce((u,c)=>{const d=s[c];return u[c]=l[d](f=>f[c]),u},{})}const a=en(o());return Fp(()=>{const l=o();a.touched=l.touched,a.valid=l.valid,a.pending=l.pending}),ue(()=>Object.assign(Object.assign({initialValues:m(n)},a),{valid:a.valid&&!Gn(r.value).length,dirty:i.value}))}function p$(t,e,n){const r=$E(n),s=le(r),i=le(bt(r));function o(a,l=!1){s.value=Dl(bt(s.value)||{},bt(a)),i.value=Dl(bt(i.value)||{},bt(a)),l&&t.value.forEach(u=>{if(u.touched)return;const d=an(s.value,u.path);En(e,u.path,bt(d))})}return{initialValues:s,originalInitialValues:i,setInitialValues:o}}function m$(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}function g$(t){const e=GL(kE,void 0),n=le([]),r=()=>{},s={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!e||!m(t))return s;const i=e.fieldArrays.find(P=>m(P.path)===m(t));if(i)return i;let o=0;function a(){return an(e==null?void 0:e.values,At(t),[])||[]}function l(){const P=a();Array.isArray(P)&&(n.value=P.map((w,b)=>c(w,b,n.value)),u())}l();function u(){const P=n.value.length;for(let w=0;w<P;w++){const b=n.value[w];b.isFirst=w===0,b.isLast=w===P-1}}function c(P,w,b){if(b&&!ho(w)&&b[w])return b[w];const I=o++;return{key:I,value:KL({get(){const U=an(e==null?void 0:e.values,At(t),[])||[],K=n.value.findIndex(M=>M.key===I);return K===-1?P:U[K]},set(U){const K=n.value.findIndex(M=>M.key===I);K!==-1&&R(K,U)}}),isFirst:!1,isLast:!1}}function d(){u(),e==null||e.validate({mode:"silent"})}function f(P){const w=At(t),b=an(e==null?void 0:e.values,w);if(!b||!Array.isArray(b))return;const I=[...b];I.splice(P,1);const O=w+`[${P}]`;e.destroyPath(O),e.unsetInitialValue(O),En(e.values,w,I),n.value.splice(P,1),d()}function h(P){const w=bt(P),b=At(t),I=an(e==null?void 0:e.values,b),O=ho(I)?[]:I;if(!Array.isArray(O))return;const U=[...O];U.push(w),e.stageInitialValue(b+`[${U.length-1}]`,w),En(e.values,b,U),n.value.push(c(w)),d()}function p(P,w){const b=At(t),I=an(e==null?void 0:e.values,b);if(!Array.isArray(I)||!(P in I)||!(w in I))return;const O=[...I],U=[...n.value],K=O[P];O[P]=O[w],O[w]=K;const M=U[P];U[P]=U[w],U[w]=M,En(e.values,b,O),n.value=U,u()}function y(P,w){const b=bt(w),I=At(t),O=an(e==null?void 0:e.values,I);if(!Array.isArray(O)||O.length<P)return;const U=[...O],K=[...n.value];U.splice(P,0,b),K.splice(P,0,c(b)),En(e.values,I,U),n.value=K,d()}function S(P){const w=At(t);e.stageInitialValue(w,P),En(e.values,w,P),l(),d()}function R(P,w){const b=At(t),I=an(e==null?void 0:e.values,b);!Array.isArray(I)||I.length-1<P||(En(e.values,`${b}[${P}]`,w),e==null||e.validate({mode:"validated-only"}))}function k(P){const w=bt(P),b=At(t),I=an(e==null?void 0:e.values,b),O=ho(I)?[]:I;if(!Array.isArray(O))return;const U=[w,...O];En(e.values,b,U),e.stageInitialValue(b+"[0]",w),n.value.unshift(c(w)),d()}function C(P,w){const b=At(t),I=an(e==null?void 0:e.values,b),O=ho(I)?[]:[...I];if(!Array.isArray(I)||!(P in I)||!(w in I))return;const U=[...n.value],K=U[P];U.splice(P,1),U.splice(w,0,K);const M=O[P];O.splice(P,1),O.splice(w,0,M),En(e.values,b,O),n.value=U,d()}const g={fields:n,remove:f,push:h,swap:p,insert:y,update:R,replace:S,prepend:k,move:C};return e.fieldArrays.push(Object.assign({path:t,reset:l},g)),jp(()=>{const P=e.fieldArrays.findIndex(w=>At(w.path)===At(t));P>=0&&e.fieldArrays.splice(P,1)}),Ut(a,P=>{const w=n.value.map(b=>b.value);Bs(P,w)||l()}),g}/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const Lc=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function v$(t){return Number(t)>=0}function y$(t){return typeof t=="object"&&t!==null}function _$(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function W_(t){if(!y$(t)||_$(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function FE(t,e){return Object.keys(e).forEach(n=>{if(W_(e[n])&&W_(t[n])){t[n]||(t[n]={}),FE(t[n],e[n]);return}t[n]=e[n]}),t}function Qd(t,e={abortEarly:!1}){return{__type:"VVTypedSchema",async parse(r){var s;try{return{value:await t.validate(r,Object.assign({},e)),errors:[]}}catch(i){const o=i;if(o.name!=="ValidationError")throw i;if(!(!((s=o.inner)===null||s===void 0)&&s.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const a=o.inner.reduce((l,u)=>{const c=u.path||"";return l[c]||(l[c]={errors:[],path:c}),l[c].errors.push(...u.errors),l},{});return{errors:Object.values(a)}}},cast(r){try{return t.cast(r)}catch{const i=t.getDefault();return Lc(i)&&Lc(r)?FE(i,r):r}},describe(r){if(!r)return z_(t.spec);const s=b$(r,t);return s?z_(s):{required:!1,exists:!1}}}}function z_(t){return{required:!t.optional,exists:!0}}function b$(t,e){if(!G_(e))return null;if(uu(t)){const s=e.fields[Yd(t)];return(s==null?void 0:s.spec)||null}const n=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){const i=n[s];if(G_(r)&&i in r.fields?r=r.fields[i]:v$(i)&&w$(r)&&(r=r.innerType),s===n.length-1)return r.spec}return null}function G_(t){return Lc(t)&&t.type==="object"}function w$(t){return Lc(t)&&t.type==="array"}function T$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xi(t){this._maxSize=t,this.clear()}Xi.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Xi.prototype.get=function(t){return this._values[t]};Xi.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var E$=/[^.^\]^[]+|(?=\[\]|\.\.)/g,UE=/^\d+$/,A$=/^\d/,S$=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,x$=/^\s*(['"]?)(.*?)(\1)\s*$/,vg=512,Y_=new Xi(vg),K_=new Xi(vg),Q_=new Xi(vg),Di={Cache:Xi,split:fp,normalizePath:Qf,setter:function(t){var e=Qf(t);return K_.get(t)||K_.set(t,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var n=Qf(t);return Q_.get(t)||Q_.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(yg(n)||UE.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){I$(Array.isArray(t)?t:fp(t),e,n)}};function Qf(t){return Y_.get(t)||Y_.set(t,fp(t).map(function(e){return e.replace(x$,"$2")}))}function fp(t){return t.match(E$)||[""]}function I$(t,e,n){var r=t.length,s,i,o,a;for(i=0;i<r;i++)s=t[i],s&&(R$(s)&&(s='"'+s+'"'),a=yg(s),o=!a&&/^\d+$/.test(s),e.call(n,s,a,o,i,t))}function yg(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function C$(t){return t.match(A$)&&!t.match(UE)}function P$(t){return S$.test(t)}function R$(t){return!yg(t)&&(C$(t)||P$(t))}const k$=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Xd=t=>t.match(k$)||[],Jd=t=>t[0].toUpperCase()+t.slice(1),_g=(t,e)=>Xd(t).join(e).toLowerCase(),BE=t=>Xd(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),D$=t=>Jd(BE(t)),O$=t=>_g(t,"_"),M$=t=>_g(t,"-"),N$=t=>Jd(_g(t," ")),V$=t=>Xd(t).map(Jd).join(" ");var Xf={words:Xd,upperFirst:Jd,camelCase:BE,pascalCase:D$,snakeCase:O$,kebabCase:M$,sentenceCase:N$,titleCase:V$},bg={exports:{}};bg.exports=function(t){return jE(L$(t),t)};bg.exports.array=jE;function jE(t,e){var n=t.length,r=new Array(n),s={},i=n,o=$$(e),a=F$(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||l(t[i],i,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[c]){s[c]=!0;var h=o.get(u)||new Set;if(h=Array.from(h),c=h.length){d.add(u);do{var p=h[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function L$(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function $$(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function F$(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var U$=bg.exports;const B$=T$(U$),j$=Object.prototype.toString,H$=Error.prototype.toString,q$=RegExp.prototype.toString,W$=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",z$=/^Symbol\((.*)\)(.*)$/;function G$(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function X_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return G$(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return W$.call(t).replace(z$,"Symbol($1)");const r=j$.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+H$.call(t)+"]":r==="RegExp"?q$.call(t):null}function ls(t,e){let n=X_(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=X_(this[r],e);return i!==null?i:s},2)}function HE(t){return t==null?[]:[].concat(t)}let qE,WE,zE,Y$=/\$\{\s*(\w+)\s*\}/g;qE=Symbol.toStringTag;class J_{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[qE]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],HE(e).forEach(i=>{if(Nn.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}WE=Symbol.hasInstance;zE=Symbol.toStringTag;class Nn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(Y$,(s,i)=>ls(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new J_(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[zE]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Nn)}static[WE](e){return J_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let br={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${ls(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ls(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${ls(n,!0)}\``+s}},On={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Es={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},K$={isValue:"${path} field must be ${value}"},pp={noUnknown:"${path} field has unspecified keys: ${unknown}"},tc={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Q$={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${ls(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${ls(n,!0)}\``}return Nn.formatError(br.notType,t)}};Object.assign(Object.create(null),{mixed:br,string:On,number:Es,date:hp,object:pp,array:tc,boolean:K$,tuple:Q$});const Zd=t=>t&&t.__isYupSchema__;class $c{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new $c(e,(a,l)=>{var u;let c=o(...a)?s:i;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Zd(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const $u={context:"$",value:"."};class Ji{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===$u.context,this.isValue=this.key[0]===$u.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?$u.context:this.isValue?$u.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Di.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ji.prototype.__isYupRef=!0;const ss=t=>t==null;function no(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:h}=t;let{parent:p,context:y,abortEarly:S=o.spec.abortEarly,disableStackTrace:R=o.spec.disableStackTrace}=s;function k(K){return Ji.isRef(K)?K.getValue(n,p,y):K}function C(K={}){const M=Object.assign({value:n,originalValue:i,label:o.spec.label,path:K.path||r,spec:o.spec,disableStackTrace:K.disableStackTrace||R},d,K.params);for(const ne of Object.keys(M))M[ne]=k(M[ne]);const X=new Nn(Nn.formatError(K.message||f,M),n,M.path,K.type||u,M.disableStackTrace);return X.params=M,X}const g=S?a:l;let P={path:r,parent:p,type:u,from:s.from,createError:C,resolve:k,options:s,originalValue:i,schema:o};const w=K=>{Nn.isError(K)?g(K):K?l(null):g(C())},b=K=>{Nn.isError(K)?g(K):a(K)};if(h&&ss(n))return w(!0);let O;try{var U;if(O=c.call(P,n,P),typeof((U=O)==null?void 0:U.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(w,b)}}catch(K){b(K);return}w(O)}return e.OPTIONS=t,e}function X$(t,e,n,r=n){let s,i,o;return e?(Di.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let d=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[c],t=t.fields[c]}i=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Fc extends Set{describe(){const e=[];for(const n of this.values())e.push(Ji.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Fc(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function po(t,e=new Map){if(Zd(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=po(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,po(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(po(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=po(s,e)}else throw Error(`Unable to clone ${t}`);return n}class rr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Fc,this._blacklist=new Fc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(br.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=po(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&ss(i))return i;let o=ls(e),a=ls(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:i,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return s(c,l);this.runTests({path:i,value:l,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=e,c=y=>{s||(s=!0,n(y,o))},d=y=>{s||(s=!0,r(y,o))},f=i.length,h=[];if(!f)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<i.length;y++){const S=i[y];S(p,c,function(k){k&&(Array.isArray(k)?h.push(...k):h.push(k)),--f<=0&&d(h)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,f,h)=>this.resolve(c)._validate(u,c,f,h)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(l,u)=>{Nn.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Nn(l,u,void 0,void 0,i)):o(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Nn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Nn(a,e,void 0,void 0,o);i=l}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Nn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Nn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):po(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=no({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=no({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=br.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=br.notNull){return this.nullability(!1,e)}required(e=br.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=br.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=no(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=HE(e).map(i=>new Ji(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new $c(s,n):$c.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=no({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=br.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=no({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=br.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=no({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}rr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])rr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=X$(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])rr.prototype[t]=rr.prototype.oneOf;for(const t of["not","nope"])rr.prototype[t]=rr.prototype.notOneOf;const J$=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Z$(t){const e=mp(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function mp(t){var e,n;const r=J$.exec(t);return r?{year:Jr(r[1]),month:Jr(r[2],1)-1,day:Jr(r[3],1),hour:Jr(r[4]),minute:Jr(r[5]),second:Jr(r[6]),millisecond:r[7]?Jr(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Jr(r[10]),minuteOffset:Jr(r[11])}:null}function Jr(t,e=0){return Number(t)||e}let eF=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tF=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,nF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,rF="^\\d{4}-\\d{2}-\\d{2}",sF="\\d{2}:\\d{2}:\\d{2}",iF="(([+-]\\d{2}(:?\\d{2})?)|Z)",oF=new RegExp(`${rF}T${sF}(\\.\\d+)?${iF}$`),aF=t=>ss(t)||t===t.trim(),lF={}.toString();function Mt(){return new GE}class GE extends rr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===lF?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||br.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=On.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=On.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=On.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||On.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=On.email){return this.matches(eF,{name:"email",message:e,excludeEmptyString:!0})}url(e=On.url){return this.matches(tF,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=On.uuid){return this.matches(nF,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(oF,{name:"datetime",message:n||On.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||On.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=mp(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||On.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=mp(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=On.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:aF})}lowercase(e=On.lowercase){return this.transform(n=>ss(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ss(n)||n===n.toLowerCase()})}uppercase(e=On.uppercase){return this.transform(n=>ss(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>ss(n)||n===n.toUpperCase()})}}Mt.prototype=GE.prototype;let uF=t=>t!=+t;function YE(){return new KE}class KE extends rr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!uF(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Es.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Es.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Es.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Es.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Es.positive){return this.moreThan(0,e)}negative(e=Es.negative){return this.lessThan(0,e)}integer(e=Es.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>ss(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>ss(s)?s:Math[e](s))}}YE.prototype=KE.prototype;let cF=new Date(""),dF=t=>Object.prototype.toString.call(t)==="[object Date]";class ef extends rr{constructor(){super({type:"date",check(e){return dF(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Z$(e),isNaN(e)?ef.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Ji.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=hp.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=hp.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}ef.INVALID_DATE=cF;ef.prototype;function fF(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=Di.split(o)[0];r.add(l),s.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Ji.isRef(a)&&a.isSibling?i(a.path,o):Zd(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return B$.array(Array.from(r),n).reverse()}function Z_(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function QE(t){return(e,n)=>Z_(t,e)-Z_(t,n)}const XE=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function nc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=nc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=nc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(nc)}):"optional"in t?t.optional():t}const hF=(t,e)=>{const n=[...Di.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Di.getter(Di.join(n),!0)(t);return!!(s&&r in s)};let e0=t=>Object.prototype.toString.call(t)==="[object Object]";function pF(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const mF=QE([]);function Yo(t){return new JE(t)}class JE extends rr{constructor(e){super({type:"object",check(n){return e0(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=mF,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=i[d],h=d in s;if(f){let p,y=s[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:y,context:n.context,parent:l});let S=f instanceof rr?f.spec:void 0,R=S==null?void 0:S.strict;if(S!=null&&S.strip){c=c||d in s;continue}p=!n.__validating||!R?f.cast(s[d],u):s[d],p!==void 0&&(l[d]=p)}else h&&!o&&(l[d]=s[d]);(h!==d in l||l[d]!==s[d])&&(c=!0)}return c?l:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!e0(u)){s(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||Ji.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{s(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=fF(e,n),r._sortErrors=QE(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return nc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Di.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return hF(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(XE)}noUnknown(e=!0,n=pp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=pF(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=pp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Xf.camelCase)}snakeCase(){return this.transformKeys(Xf.snakeCase)}constantCase(){return this.transformKeys(e=>Xf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Yo.prototype=JE.prototype;function ZE(t){return new eA(t)}class eA extends rr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(s=!0),l});return s?i:r}_validate(e,n={},r,s){var i;let o=this.innerType,a=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,u)=>{var c;if(!a||!o||!this._typeCheck(u)){s(l,u);return}let d=new Array(u.length);for(let h=0;h<u.length;h++){var f;d[h]=o.asNestedTest({options:n,index:h,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:u,tests:d,originalValue:(c=n.originalValue)!=null?c:e,options:n},r,h=>s(h.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(XE)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Zd(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ls(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=tc.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||tc.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||tc.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}ZE.prototype=eA.prototype;function gF(t){return t.replace(/\[(\d+)\]/g,".$1")}function vF(t){const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(n.includes("[")&&n.includes("]")){const r=gF(n);e[r]=t[n]}else e[n]=t[n];return e}const yF=Qd(Yo().shape({firstName:Mt().required("El nombre es obligatorio"),lastName:Mt().required("El apellido es obligatorio"),phone:Mt().matches(/^\d{6,10}$/,"El nmero de telfono debe tener 10 dgitos").required("El telfono es obligatorio"),cars:ZE().of(Yo().shape({brand:Mt().required("La marca del automvil es obligatoria"),model:Mt().required("El modelo del automvil es obligatorio"),year:YE().typeError("El ao del automvil es obligatorio").required("El ao del automvil es obligatorio").min(1900,"El ao debe ser mayor a 1900").max(new Date().getFullYear(),"El ao no puede ser mayor al actual"),mileage:Mt().required("El kilometraje es obligatorio"),fuelType:Mt().required("El tipo de combustible es obligatorio"),plate:Mt().required("La placa es obligatoria").matches(/^[A-Za-z]{1}[0-9A-Za-z]{5}$/,"Parece que el formato de placa es incorrecto").test("aditional-validation","Parece que el formato de placa es incorrecto",function(t){const e=t.split("");let n=0,r=0;return e.map(s=>{/[0-9]/.test(s)?n++:/[a-zA-Z]/.test(s)&&r++}),n==4&&r==2||n==3&&r==3}),useType:Mt().required("El tipo de uso es obligatorio"),soatDate:Mt().typeError("La fecha de vencimiento del SOAT es obligatoria").required("La fecha de vencimiento del SOAT es obligatoria"),ngvLpgCertificationDate:Mt().when("fuelType",([t],e)=>["glp","gnv"].includes(t)?e.required("La fecha de revisin tcnica anual es obligatoria"):e.notRequired()),technicalRevisionDate:Mt().typeError("La fecha de inspeccin tcnica anual es obligatoria").required("La fecha de inspeccin tcnica anual es obligatoria")}))})),Kr=Gi("user",()=>{const{errors:t,defineField:e,handleSubmit:n,meta:r,isSubmitting:s}=Kd({validationSchema:yF,initialValues:{firstName:"",lastName:"",phone:"",cars:[]}}),i=ue(()=>vF(t.value)),[o,a]=e("firstName"),[l,u]=e("lastName"),[c,d]=e("phone"),{remove:f,insert:h,fields:p,replace:y}=g$("cars"),S=le(""),R=le(""),k=le(""),C=en({latitude:"",longitude:""}),g=en({country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""}),P=ne=>{Object.assign(g,{country:ne.country||"",administrative_area_level_1:ne.administrative_area_level_1||"",administrative_area_level_2:ne.administrative_area_level_2||"",locality:ne.locality||"",sublocality:ne.sublocality||"",route:ne.route||"",street_number:ne.street_number||"",postal_code:ne.postal_code||""})},w=ne=>{Object.assign(C,{latitude:ne.latitude||"",longitude:ne.longitude||""})};function b(){h(0,{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatDate:"",ngvLpgCertificationDate:"",technicalRevisionDate:"",useType:"private",plate:""})}function I(ne){f(ne)}function O(ne){R.value=ne.uid||R.value||"",k.value=ne.email||"",o.value=ne.firstName||"",l.value=ne.lastName||"",c.value=ne.phone||"",y(ne.cars||[])}function U(){R.value="",k.value="",o.value="",l.value="",c.value="",y([])}async function K(ne){if(ne){const L=cp(Xa,"users"),E=AE(L,SE("uid","==",ne)),Y=await IE(E);let te=null;Y.docs.map(be=>{te=be.data(),S.value=be.id,O(te)})}else return[]}async function M(ne,L){try{const E=cp(Xa,"users"),Y={uid:ne,email:L||"",firstName:"",lastName:"",phone:"",cars:[]};O(Y);const te=await ML(E,Y);return S.value=te.id,te}catch(E){throw E}}async function X(ne){try{const L={firstName:o.value,lastName:l.value,phone:c.value,...ne};O(L);const E=og(Xa,"users",S.value);await CE(E,L)}catch(L){throw L}}return{id:S,uid:R,email:k,firstName:o,firstNameProps:a,lastName:l,lastNameProps:u,phone:c,phoneProps:d,deleteCar:I,addCar:b,replaceCars:y,cars:p,errors:i,handleSubmit:n,meta:r,isSubmitting:s,setUser:O,getUserByUid:K,createUser:M,updateUser:X,resetUser:U,location:g,setUserLocation:P,coordinates:C,setUserCoordinates:w}}),ua=Gi("auth",()=>{const t=le(""),e=le(""),n=le(""),r=le(!1),s=le(!1);function i(a){r.value=a}async function o(){return new Promise((a,l)=>{try{zo.onAuthStateChanged(u=>{s.value=!!u,u&&(e.value=u.email,n.value=u.uid,t.value=u.displayName),a()})}catch(u){l(u)}})}return{isLoading:r,setIsLoading:i,email:e,uid:n,displayName:t,getFirebaseUser:o,isAuthenticated:s}}),tf=Gi("loginModal",()=>{const t=Qd(Yo({email:Mt().required().email(),password:Mt().min(6).required()})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i}=Kd({validationSchema:t}),o=le(!1),a=le(!1),[l,u]=n("email"),[c,d]=n("password");function f(y){o.value=y}function h(y){a.value=y}function p(){h(!0)}return{email:l,password:c,emailProps:u,passwordProps:d,errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,isLoading:o,showModal:a,setIsLoading:f,setShowModal:h,handleShowLoginModal:p}}),nf=Gi("registerModal",()=>{const t=Qd(Yo({email:Mt().required().email(),password:Mt().min(6).required()})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i}=Kd({validationSchema:t}),o=le(!1),a=le(!1),[l,u]=n("email"),[c,d]=n("password");function f(y){o.value=y}function h(y){a.value=y}function p(){h(!0)}return{email:l,password:c,emailProps:u,passwordProps:d,errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,isLoading:o,showModal:a,setIsLoading:f,setShowModal:h,handleShowRegisterModal:p}}),wg=Gi("locationModal",()=>{const t=le(!1),e=le(!1);function n(i){t.value=i}function r(i){e.value=i}function s(){r(!0)}return{isLoading:t,showModal:e,setIsLoading:n,setShowModal:r,handleShowRegisterModal:s}}),tA=Gi("contactModal",()=>{const t=Qd(Yo({selectedCar:Mt().required("Debe registrar por lo menos un atomvil."),selectedMotive:Mt().when("key",([O],U)=>["tuning","brakingSystem","airConditioning"].includes(O)?U.required("Debe seleccionar un motivo"):U.notRequired()),selectedService:Mt().required(),motiveDetail:Mt().when(["key","selectedMotive"],([O,U],K)=>U=="otros"||O=="generalConsultation"?K.required("Por favor, proporcione algn detalle"):K.notRequired()),key:Mt().required(),oilType:Mt().when("key",([O],U)=>O=="oilChange"?U.required("Debe seleccionar un tipo de aceite"):U.notRequired())})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,resetForm:o}=Kd({validationSchema:t}),a=le(!1),l=le(!1),[u,c]=n("selectedCar"),[d,f]=n("selectedMotive"),[h,p]=n("selectedService"),[y,S]=n("motiveDetail"),[R,k]=n("key"),[C,g]=n("oilType");function P(O){a.value=O}function w(O){l.value=O}function b(O){h.value=O.name,R.value=O.key,w(!0)}function I(O){u.value=O}return{selectedCar:u,selectedCarProps:c,selectedMotive:d,selectedMotiveProps:f,selectedService:h,selectedServiceProps:p,oilType:C,oilTypeProps:g,key:R,keyProps:k,motiveDetail:y,motiveDetailProps:S,setSelectedCar:I,errors:e,defineField:n,handleSubmit:r,resetForm:o,meta:s,isSubmitting:i,isLoading:a,showModal:l,setIsLoading:P,setShowModal:w,handleShowContactModal:b}}),_F=nt({__name:"App",setup(t){const e=wg(),n=Kr(),r=ua();async function s(){navigator.geolocation?await new Promise((i,o)=>{navigator.geolocation.getCurrentPosition(async a=>{n.setUserCoordinates(a.coords);const{Geocoder:l}=await google.maps.importLibrary("geocoding");new l().geocode({location:{lat:a.coords.latitude,lng:a.coords.longitude}},function(c,d){if(d==="OK"){const f={country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""};c[0].address_components.map(h=>{h.types.includes("country")?f.country=h.long_name:h.types.includes("administrative_area_level_1")?f.administrative_area_level_1=h.long_name:h.types.includes("administrative_area_level_2")?f.administrative_area_level_2=h.long_name:h.types.includes("locality")?f.locality=h.long_name:h.types.includes("sublocality")?f.sublocality=h.long_name:h.types.includes("route")?f.route=h.long_name:h.types.includes("street_number")?f.street_number=h.long_name:h.types.includes("postal_code")&&(f.postal_code=h.long_name)}),n.setUserLocation(f)}else console.error("Error al geocodificar la direccin:",d)}),i()},a=>{a.code===a.PERMISSION_DENIED&&e.setShowModal(!0),o()})}):console.error("Geolocalizacin no es compatible con este navegador.")}return Ot(async()=>{r.setIsLoading(!0),await r.getFirebaseUser().then(async()=>{await n.getUserByUid(r==null?void 0:r.uid).then(()=>{r.setIsLoading(!1),s()})})}),(i,o)=>m(r).isLoading?(V(),Ue(xR,{key:0})):(V(),Ue(m(mw),{key:1}))}}),bF={class:"z-10 flex sm:flex-row flex-col justify-between items-center bg-white w-full px-4 py-4 drop-shadow-xl sticky"},wF={class:"flex flex-row justify-start items-center sm:mb-0 mb-5"},TF=x("p",{class:"cursor-default text-blue-700 border-blue-700 text-4xl font-bold border-4 rounded-xl px-1 hidden sm:block"},"AUTOWASI",-1),EF={class:"flex flex-col justify-center items-center sm:mx-7"},AF=x("span",{class:"cursor-default flex flex-row items-center px-2 rounded-sm"},[x("p",{class:"text-blue-700 font-black mr-2"},"Ubicacin"),x("i",{class:"fas fa-map-marker-alt text-blue-700"})],-1),SF={class:"flex flex-row items-center"},xF={class:"cursor-default w-fit px-2 text-center text-gray-700 font-semibold py-1"},IF={class:"flex flex-row justify-between items-center"},CF={class:"flex flex-row justify-between items-center"},PF={class:"flex flex-row justify-between items-center"},RF=x("i",{class:"fa-solid fa-user mr-2 text-blue-700"},null,-1),kF={class:"text-blue-700 font-black"},DF={key:0,class:"absolute rounded-md top-[9em] sm:top-[4em] flex flex-col justify-center items-center"},OF=x("div",{class:"w-0 h-0",style:{"border-left":"7px solid transparent","border-right":"7px solid transparent","border-bottom":"7px solid #1e3a8a"}},null,-1),MF=nt({__name:"TopBar",setup(t){const{handleShowLoginModal:e}=tf(),{handleShowRegisterModal:n}=nf(),r=Kr(),s=ua(),i=wg(),o=ea(),a=le(!1);async function l(){try{s.setIsLoading(!0),await lO(zo).then(()=>{r.resetUser(),o.push({name:"Home"})}).finally(()=>{s.setIsLoading(!1)})}catch(u){console.error("Error al cerrar sesin:",u)}}return(u,c)=>{const d=Jc("router-link");return V(),z("div",bF,[x("div",wF,[TF,x("div",EF,[AF,x("span",SF,[x("p",xF,[m(r).location.administrative_area_level_2&&m(r).location.administrative_area_level_1?(V(),z(Oe,{key:0},[Tt(Le(m(r).location.administrative_area_level_2)+", "+Le(m(r).location.administrative_area_level_1),1)],64)):(V(),z(Oe,{key:1},[Tt("Seleccionar una ubicacin")],64))]),x("i",{onClick:c[0]||(c[0]=f=>m(i).setShowModal(!0)),class:"fa-solid fa-pen-to-square cursor-pointer hover:text-blue-500"})])])]),x("div",IF,[x("div",CF,[m(s).isAuthenticated?(V(),z("div",{key:0,class:"cursor-default bg-white rounded-md sm:mr-10 h-12 min-w-fit px-2 flex flex-col justify-center items-center",onMouseenter:c[1]||(c[1]=f=>a.value=!0),onMouseleave:c[2]||(c[2]=f=>a.value=!1),onClick:c[3]||(c[3]=f=>a.value=!a.value)},[x("div",PF,[RF,x("p",kF,Le(String(m(s).displayName||"").split(" ")[0]||m(s).email||"-"),1)]),a.value?(V(),z("div",DF,[OF,qe(d,{to:{name:"Profile"},class:"cursor-pointer py-1 font-normal border-blue-100 border-2 hover:bg-blue-100 text-blue-700 hover:border-blue-700 bg-white w-36 flex flex-col justify-between items-center"},{default:Fe(()=>[Tt("Mi perfil")]),_:1}),x("button",{onClick:l,class:"cursor-pointer py-1 font-normal border-blue-100 border-2 hover:bg-blue-100 text-blue-700 hover:border-blue-700 bg-white w-36 flex flex-col justify-between items-center"}," Cerrar sesin ")])):oe("",!0)],32)):(V(),z(Oe,{key:1},[x("button",{onClick:c[4]||(c[4]=(...f)=>m(e)&&m(e)(...f)),class:"font-bold w-40 px-5 py-2 rounded-lg hover:border-blue-700 border-2 text-blue-700 bg-blue-100 mr-3"},"INGRESAR"),x("button",{onClick:c[5]||(c[5]=(...f)=>m(n)&&m(n)(...f)),class:"font-bold w-40 px-5 py-2 rounded-lg hover:border-blue-700 border-2 text-blue-700 bg-blue-100"},"REGISTRARSE")],64))])])])}}}),NF={class:"z-20"},VF={key:0,class:"fas fa-times pl-2 pt-1 text-3xl bg-white"},LF={key:1,class:"fas fa-bars pl-2 pt-1 text-3xl bg-white"},$F=nt({__name:"SideBar",setup(t){const e=ea(),n=le(!1),r=ua(),s=Kr();function i(){n.value=!n.value}function o(a){return Object.is(e.currentRoute.value.name,a)}return(a,l)=>{const u=Jc("router-link");return V(),z("div",NF,[x("div",{onClick:i,class:Ve([{"w-44":n.value,"w-6.5":!n.value},"bg-white cursor-pointer sm:hidden flex fixed top-0"])},[n.value?(V(),z("i",VF)):(V(),z("i",LF))],2),x("div",{class:Ve([{"flex top-[2.5rem]":n.value,"hidden sm:flex top-[5.5rem]":!n.value},"flex-col justify-start items-center h-full w-44 bg-white drop-shadow-xl fixed border-t-2 border-gray-100"])},[m(s).location.administrative_area_level_2=="Trujillo"?(V(),Ue(u,{key:0,class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("AllServices"),"text-blue-500 font-semibold bg-white border-gray-100":!o("AllServices")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"AllServices"}},{default:Fe(()=>[Tt("Servicios a domicilio")]),_:1},8,["class"])):oe("",!0),qe(u,{class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("CarWashServices"),"text-blue-500 font-semibold bg-white border-gray-100":!o("CarWashServices")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"CarWashServices"}},{default:Fe(()=>[Tt("Lavaderos")]),_:1},8,["class"]),m(r).isAuthenticated?(V(),Ue(u,{key:1,class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("Profile"),"text-blue-500 font-semibold bg-white border-gray-100":!o("Profile")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"Profile"}},{default:Fe(()=>[Tt("Mi perfil")]),_:1},8,["class"])):oe("",!0)],2)])}}}),FF={class:"fixed w-screen h-screen top-0 left-0 flex flex-row justify-center items-center bg-black bg-opacity-80 z-30"},UF={key:0,class:"w-full flex flex-row justify-end items-center mb-1"},BF={class:"w-full h-full flex flex-col justify-center items-center mt-0 mb-5"},ca=nt({__name:"Modal",props:{width:{default:"w-1/2"},height:{default:"h-3/4"},showCloseIcon:{type:Boolean,default:!0}},emits:["closeModal"],setup(t,{emit:e}){const n=t;return(r,s)=>(V(),z("div",FF,[x("div",{class:Ve(["flex flex-col justify-start items-center bg-white rounded-lg pt-2 px-4",n.width+" "+n.height])},[r.showCloseIcon?(V(),z("div",UF,[x("i",{onClick:s[0]||(s[0]=i=>r.$emit("closeModal")),class:"fas fa-times text-lg font-bold cursor-pointer"})])):oe("",!0),x("div",BF,[De(r.$slots,"default",{},()=>[Tt("MODAL")])])],2)]))}}),jF={key:1,class:"w-full flex flex-col justify-center items-center"},HF={key:0,class:"text-sm flex flex-row justify-center items-center mb-10"},qF=x("p",{class:"rounded-xs font-semibold px-4 py-1 bg-red-100 text-red-800 cursor-default mr-1"},"El correo o la contrasea son incorrectos",-1),WF=[qF],zF={key:1,class:"text-sm flex flex-row justify-center items-center mb-10"},GF=x("p",{class:"cursor-default mr-1"},"No tienes una cuenta?",-1),YF={class:"flex flex-col rounded-md w-full"},KF={class:"flex flex-col w-full"},QF=["disabled"],XF=x("div",{class:"flex flex-row justify-between items-baseline"},[x("hr",{class:"h-[2px] w-24 bg-[#ededed]"}),x("p",{class:"my-4 mx-2 text-gray-500"},"o"),x("hr",{class:"h-[2px] w-24 bg-[#ededed]"})],-1),JF=x("svg",{class:"h-6",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[x("g",null,[x("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),x("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),x("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),x("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),x("path",{fill:"none",d:"M0 0h48v48H0z"})])],-1),ZF=x("p",{class:"ml-3"},"Iniciar sesin con Google",-1),e3=[JF,ZF],t3=nt({__name:"LoginModal",setup(t){const e=tf(),n=nf(),r=Kr(),s=ua(),i=ea(),o=le(!1);function a(){e.setShowModal(!1),n.setShowModal(!0)}const l=async()=>{try{e.setIsLoading(!0),o.value=!1;const d=new Sr;await aT(zo,d).then(async({user:{uid:f}})=>{await r.getUserByUid(f).then(async()=>{r.uid?(e.setIsLoading(!1),e.setShowModal(!1)):await r.createUser(f,e.email).then(()=>{e.setIsLoading(!1),e.setShowModal(!1),i.push({name:"Profile"})})})})}catch(d){n.setIsLoading(!1),o.value=!0,console.error("Error al iniciar sesin con Google:",d)}},u=async()=>{try{o.value=!1,e.setIsLoading(!0),await iO(zo,e.email||"",e.password||"").then(async()=>{await r.getUserByUid(s==null?void 0:s.uid),e.setIsLoading(!1),e.setShowModal(!1)})}catch(d){o.value=!0,e.setIsLoading(!1),console.error("Error al iniciar sesin con correo y contrasea:",d)}},c=e.handleSubmit(()=>{u()},()=>{s.setIsLoading(!1)});return(d,f)=>m(e).showModal?(V(),Ue(ca,{key:0,onCloseModal:f[3]||(f[3]=h=>m(e).setShowModal(!1)),width:"w-3/4",height:"h-3/4",showCloseIcon:!0},{default:Fe(()=>[m(e).isLoading?(V(),Ue(dd,{key:0})):(V(),z("div",jF,[o.value?(V(),z("span",HF,WF)):(V(),z("span",zF,[GF,x("p",{class:"cursor-pointer bg-white font-semibold",onClick:a},"Registrate gratis")])),x("form",{onSubmit:f[2]||(f[2]=vt((...h)=>m(c)&&m(c)(...h),["prevent"])),class:"rounded-md w-full sm:w-2/5 flex flex-col justify-center items-center"},[x("div",YF,[x("label",{for:"email",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":m(e).meta.touched&&m(e).errors&&m(e).errors.email}])},"Correo electrnico",2),ut(x("input",Wt({class:[{"border-red-400 border-2 rounded-xs":m(e).meta.touched&&m(e).errors&&m(e).errors.email},"h-8 mb-2 pl-2 bg-blue-100 rounded-md"],style:{outline:"none"},type:"email",id:"email","onUpdate:modelValue":f[0]||(f[0]=h=>m(e).email=h)},m(e).emailProps),null,16),[[hn,m(e).email]])]),x("div",KF,[x("label",{for:"password",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":m(e).meta.touched&&m(e).errors&&m(e).errors.password}])},"Contrasea",2),ut(x("input",Wt({class:[{"border-red-400 border-2 rounded-xs":m(e).meta.touched&&m(e).errors&&m(e).errors.password},"h-8 mb-2 pl-2 bg-blue-100 rounded-md"],style:{outline:"none"},type:"password",id:"password","onUpdate:modelValue":f[1]||(f[1]=h=>m(e).password=h)},m(e).passwordProps,{placeholder:"Mnimo 6 carcteres"}),null,16),[[hn,m(e).password]])]),x("button",{disabled:m(e).isSubmitting,type:"submit",class:"w-full flex flex-row justify-center items-center mt-3 py-1 rounded-md bg-blue-600 hover:opacity-80 text-blue-100 font-bold"},Le(m(e).isSubmitting?"Cargando":"Iniciar sesin"),9,QF),XF],32),x("button",{type:"button",class:"mt-2 flex flex-row justify-evenly items-center bg-white border-blue-100 border-2 w-fit rounded-md px-3 py-1 hover:opacity-60",onClick:l},e3)]))]),_:1})):oe("",!0)}}),n3={key:1,class:"w-full flex flex-col justify-center items-center"},r3={key:0,class:"text-sm flex flex-row justify-center items-center mb-10"},s3={class:"rounded-xs font-semibold px-4 py-1 bg-red-100 text-red-800 cursor-default mr-1"},i3=x("p",{class:"cursor-default mr-1"},"Ya tienes una cuenta?",-1),o3={class:"flex flex-col rounded-md w-full"},a3={class:"flex flex-col w-full"},l3=["disabled"],u3=x("div",{class:"flex flex-row justify-between items-baseline"},[x("hr",{class:"h-[2px] w-24 bg-[#ededed]"}),x("p",{class:"my-4 mx-2 text-gray-500"},"o"),x("hr",{class:"h-[2px] w-24 bg-[#ededed]"})],-1),c3=x("svg",{class:"h-6",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[x("g",null,[x("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),x("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),x("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),x("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),x("path",{fill:"none",d:"M0 0h48v48H0z"})])],-1),d3=x("p",{class:"ml-3"},"Registrarse con Google",-1),f3=[c3,d3],h3=nt({__name:"RegisterModal",setup(t){const e=ea(),n=nf(),r=tf(),s=Kr(),i=le("");function o(){n.setShowModal(!1),r.setShowModal(!0)}const a=async()=>{try{n.setIsLoading(!0),i.value="",n.setShowModal(!0),await sO(zo,n.email||"",n.password||"").then(async({user:{uid:c}})=>{await s.createUser(c,n.email).then(()=>{n.setIsLoading(!1),n.setShowModal(!1),e.push({name:"Profile"})})}).catch(c=>{n.setIsLoading(!1),(c==null?void 0:c.code)=="auth/email-already-in-use"?i.value="Este correo ya est registrado":i.value="Error al registrar el usuario"})}catch{n.setIsLoading(!1)}},l=async()=>{try{n.setIsLoading(!0),i.value="";const c=new Sr;await aT(zo,c).then(async({user:{uid:d}})=>{await s.getUserByUid(d).then(async()=>{s.uid?(n.setShowModal(!1),n.setIsLoading(!1)):await s.createUser(d,n.email).then(()=>{n.setIsLoading(!1),n.setShowModal(!1),e.push({name:"Profile"})})})})}catch{i.value="Error al iniciar sesin con Google",n.setIsLoading(!1)}},u=n.handleSubmit(()=>a());return(c,d)=>m(n).showModal?(V(),Ue(ca,{key:0,onCloseModal:d[3]||(d[3]=f=>m(n).setShowModal(!1)),width:"w-3/4",height:"h-3/4",showCloseIcon:!0},{default:Fe(()=>[m(n).isLoading?(V(),Ue(dd,{key:0})):(V(),z("div",n3,[i.value?(V(),z("span",r3,[x("p",s3,Le(i.value),1)])):oe("",!0),x("span",{class:"text-sm flex flex-row justify-center items-center mb-10"},[i3,x("p",{class:"cursor-pointer bg-white font-semibold",onClick:o},"Inicia sesin")]),x("form",{onSubmit:d[2]||(d[2]=vt((...f)=>m(u)&&m(u)(...f),["prevent"])),class:"rounded-md w-full sm:w-2/5 flex flex-col justify-center items-center"},[x("div",o3,[x("label",{for:"email",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":m(n).meta.touched&&m(n).errors&&m(n).errors.email}])},"Correo electrnico",2),ut(x("input",Wt({class:["h-8 mb-2 pl-2 bg-blue-100 rounded-md",{"border-red-400 border-2 rounded-xs":m(n).meta.touched&&m(n).errors&&m(n).errors.email}],style:{outline:"none"},type:"email",id:"email","onUpdate:modelValue":d[0]||(d[0]=f=>m(n).email=f)},m(n).emailProps),null,16),[[hn,m(n).email]])]),x("div",a3,[x("label",{for:"password",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":m(n).meta.touched&&m(n).errors&&m(n).errors.password}])},"Contrasea",2),ut(x("input",Wt({class:["h-8 mb-2 pl-2 bg-blue-100 rounded-md",{"border-red-400 border-2 rounded-xs":m(n).meta.touched&&m(n).errors&&m(n).errors.password}],style:{outline:"none"},type:"password",id:"password","onUpdate:modelValue":d[1]||(d[1]=f=>m(n).password=f)},m(n).passwordProps,{placeholder:"Mnimo 6 carcteres"}),null,16),[[hn,m(n).password]])]),x("button",{disabled:m(n).isSubmitting,type:"submit",class:"w-full flex flex-row justify-center items-center mt-3 py-1 rounded-md bg-blue-600 hover:opacity-80 text-blue-100 font-bold"},Le(m(r).isSubmitting?"Cargando":"Registrarse"),9,l3),u3],32),x("button",{type:"button",class:"mt-2 flex flex-row justify-evenly items-center bg-white border-blue-100 border-2 w-fit rounded-md px-3 py-1 hover:opacity-60",onClick:l},f3)]))]),_:1})):oe("",!0)}}),p3={id:"address-form",class:"w-full h-full flex flex-col justify-between items-center"},m3={class:"w-full h-full mt-10 px-10 flex flex-col justify-start items-center"},g3={for:"autocomplete-input",class:"mb-3 text-center"},v3=x("template",null,[Tt(" Por favor ingresa una direccin: ")],-1),y3={key:0,class:"w-full bg-blue-50 rounded-xs"},_3=["onClick"],b3={class:"py-2 px-4"},w3={class:"bg-black text-white text-sm py-1 px-2 rounded-lg absolute bottom-40"},T3=nt({__name:"LocationModal",setup(t){const e=wg(),n=Kr(),r=le(""),s=le({predictions:[{description:""}]}),i=le({description:"",place_id:""}),o=le(!1);let a=null;function l(){a&&(clearTimeout(a),i.value={description:"",place_id:""});try{a=setTimeout(async()=>{const{AutocompleteService:f}=await google.maps.importLibrary("places");s.value=await new f().getPlacePredictions({input:r.value})},200)}catch(f){console.log("error",f)}}async function u(f){const{Geocoder:h}=await google.maps.importLibrary("geocoding");new h().geocode({placeId:f},function(y,S){if(S==="OK"){const R=y[0].geometry.location;console.log("location",R);const k={country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""};y[0].address_components.map(C=>{C.types.includes("country")?k.country=C.long_name:C.types.includes("administrative_area_level_1")?k.administrative_area_level_1=C.long_name:C.types.includes("administrative_area_level_2")?k.administrative_area_level_2=C.long_name:C.types.includes("locality")?k.locality=C.long_name:C.types.includes("sublocality")?k.sublocality=C.long_name:C.types.includes("route")?k.route=C.long_name:C.types.includes("street_number")?k.street_number=C.long_name:C.types.includes("postal_code")&&(k.postal_code=C.long_name)}),n.setUserLocation(k),n.setUserCoordinates({latitude:R.lat(),longitude:R.lng()})}else console.error("Error al geocodificar la direccin:",S)})}function c(f){console.log("option",f),i.value=f,r.value=f.description,u(f.place_id)}Ot(()=>{});const d=ue(()=>"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then(f=>f.state==="denied"):(console.log("Permissions API is not supported here"),!1));return(f,h)=>m(e).showModal?(V(),Ue(ca,{key:0,onCloseModal:h[4]||(h[4]=p=>m(e).setShowModal(!1)),showCloseIcon:!1,width:"sm:w-1/3 w-full",height:"h-2/3"},{default:Fe(()=>[x("form",p3,[x("span",m3,[x("label",g3,[d.value?(V(),z(Oe,{key:0},[Tt(" Por favor ingresa una direccin o desbloquea el acceso a la geolocalizacin. ")],64)):oe("",!0),v3]),ut(x("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>r.value=p),onInput:l,class:"pl-2 w-full h-10 bg-blue-100 rounded-md",style:{outline:"none"},type:"text",id:"autocomplete-input",name:"autocomplete-input"},null,544),[[hn,r.value]]),r.value&&!i.value.place_id?(V(),z("ul",y3,[(V(!0),z(Oe,null,ct(s.value.predictions,(p,y)=>(V(),z("li",{key:y,class:"cursor-pointer text-sm hover:bg-blue-100 hover:font-medium",onClick:S=>c(p)},[x("div",b3,Le(p.description),1)],8,_3))),128))])):oe("",!0)]),x("button",{class:Ve(["bg-blue-700 px-4 py-2 mb-10 text-blue-100 font-bold rounded-md hover:opacity-70",{"opacity-70":!i.value.place_id}]),type:"button",onClick:h[1]||(h[1]=p=>m(e).setShowModal(!1)),onMouseover:h[2]||(h[2]=p=>o.value=!i.value.place_id),onMouseleave:h[3]||(h[3]=p=>o.value=!1)},[Tt("ACEPTAR "),ut(x("span",w3,"Selecciona un opcin sugerida.",512),[[$a,o.value&&!i.value.place_id]])],34)])]),_:1})):oe("",!0)}}),E3={key:1,class:"w-2/3 h-4/5 flex flex-col sm:flex-row justify-evenly items-center"},A3=x("p",{class:"text-gray-700 font-bold"},"Es necesario",-1),S3=x("p",{class:"text-gray-700 font-bold"},"o",-1),x3=x("p",{class:"text-gray-700 font-bold"},"para continuar",-1),I3={key:2,class:"w-full h-full flex flex-col justify-center items-center"},C3={class:"w-full h-full flex flex-col justify-evenly items-center py-10"},P3={class:"text-gray-700 text-md text-center mb-2"},R3={class:"font-black text-blue-700 underline"},k3={class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},D3=x("label",{for:"car",class:"mb-2 text-xs text-left text-blue-700 font-black"},"Selecciona tu auto:",-1),O3=["value"],M3={class:"text-xs text-red-700 font-medium pl-2"},N3={key:0,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},V3=x("label",{for:"reason",class:"mb-2 text-xs text-blue-700 font-black"},"Motivo de la consulta:",-1),L3=x("option",{class:"text-xs",value:"prevencin"},"Prevencin",-1),$3=x("option",{class:"text-xs",value:"fallas existentes"},"Fallas existentes",-1),F3=x("option",{class:"text-xs",value:"mantenimiento"},"Mantenimiento preventivo",-1),U3=x("option",{class:"text-xs",value:"inspeccin"},"Inspeccin",-1),B3=x("option",{class:"text-xs",value:"fallas existentes"},"Fallas existentes",-1),j3=x("option",{class:"text-xs",value:"otros"},"Otros",-1),H3=x("option",{class:"text-xs",value:"mantenimiento"},"Mantenimiento preventivo",-1),q3=x("option",{class:"text-xs",value:"reparacin"},"Reparacin",-1),W3={key:0,class:"text-xs text-red-700 font-medium pl-2"},z3={key:1,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},G3=x("label",{for:"reason",class:"mb-2 text-xs text-blue-700 font-black"},"Tipo de aceite:",-1),Y3=["value"],K3={key:0,class:"text-xs text-red-700 font-medium pl-2"},Q3={key:2,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},X3=x("label",{for:"model",class:"mb-2 text-xs text-blue-700 font-black"},"Detalle del motivo",-1),J3={key:0,class:"text-xs text-red-700 font-medium pl-2"},Z3=947387067,e4=nt({__name:"ContactModal",setup(t){const e=tf(),n=nf(),r=tA(),s=Kr(),i=ua();function o(){r.setShowModal(!1),e.setShowModal(!1),n.setShowModal(!0)}function a(){r.setShowModal(!1),n.setShowModal(!1),e.setShowModal(!0)}const l=["tuning","brakingSystem","airConditioning"],u=en(["Castrol EDGE (0W-20)","Castrol EDGE (5W-20)","Castrol EDGE (5W-30)","Castrol (GTX 5W-20)","Castrol (GTX 5W-30)","Mobil 1 (0W-20)","Mobil 1 (5W-20)","Mobil 1 (5W-30)","Pennzoil Platinum (0W-20)","Pennzoil Platinum (5W-20)","Pennzoil Platinum (5W-30)","Pennzoil High Mileage (5W-20)","Pennzoil High Mileage (5W-30)","Valvoline Full Synthetic (0W-20)","Valvoline Full Synthetic (5W-20)","Valvoline Full Synthetic (5W-30)","Valvoline High Mileage (5W-20)","Valvoline High Mileage (5W-30)","Shell Helix Ultra (0W-20)","Shell Helix Ultra (5W-20)","Shell Helix Ultra (5W-30)"]),c=ue(()=>{const h=`https://api.whatsapp.com/send?phone=${Z3}&text=Mi%20nombre%20es%20*${s.firstName}*,%20Email%20*${i.email}*,%20tengo%20un%20*${r.selectedCar}*%20y%20requiero%20servicio%20de%20*${r.selectedService}*`,p=r.selectedMotive?`%20por%20motivos%20de%20*${r.selectedMotive}*`:"",y=r.motiveDetail?`%20(Detalles%20*${r.motiveDetail}*)`:"",S=r.oilType?`%20con%20aceite%20*${r.oilType}*`:"";return h+p+y+S+"."});function d(){r.handleSubmit(h=>{window.open(c.value,"_blank")})()}function f(){r.resetForm(),r.setShowModal(!1)}return(h,p)=>{const y=Jc("router-link");return m(r).showModal?(V(),Ue(ca,{key:0,onCloseModal:p[4]||(p[4]=S=>m(r).setShowModal(!1)),width:"w-3/4",height:"h-4/5",showCloseIcon:!0},{default:Fe(()=>[m(r).isLoading?(V(),Ue(dd,{key:0})):m(i).isAuthenticated?(V(),z("div",I3,[x("form",C3,[x("p",P3,[Tt("Elegiste el servicio de "),x("span",R3,Le(m(r).selectedService),1)]),x("span",k3,[D3,ut(x("select",{id:"car",name:"car","onUpdate:modelValue":p[0]||(p[0]=S=>m(r).selectedCar=S),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":m(r).meta.touched&&m(r).errors.selectedCar}])},[(V(!0),z(Oe,null,ct(m(s).cars,(S,R)=>(V(),z("option",{class:"text-xs",key:R,value:`${S.value.brand} ${S.value.model}, ${S.value.year}`},Le(S.value.brand)+" "+Le(S.value.model)+", "+Le(S.value.year),9,O3))),128))],2),[[ur,m(r).selectedCar]]),m(r).meta.touched&&m(r).errors.selectedCar?(V(),z("span",{key:0,onClick:f,class:"flex flex-col justify-start items-start"},[x("p",M3,Le(m(r).errors.selectedCar),1),qe(y,{to:{name:"Profile"},class:"pl-2 cursor-pointer text-xs text-red-700 font-extrabold"},{default:Fe(()=>[Tt("===> Ir a mi perfil")]),_:1})])):oe("",!0)]),l.includes(m(r).key||"")?(V(),z("span",N3,[V3,ut(x("select",{id:"reason",name:"reason","onUpdate:modelValue":p[1]||(p[1]=S=>m(r).selectedMotive=S),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":m(r).meta.touched&&m(r).errors.selectedMotive}])},[m(r).key=="tuning"?(V(),z(Oe,{key:0},[L3,$3],64)):m(r).key=="brakingSystem"?(V(),z(Oe,{key:1},[F3,U3,B3,j3],64)):m(r).key=="airConditioning"?(V(),z(Oe,{key:2},[H3,q3],64)):oe("",!0)],2),[[ur,m(r).selectedMotive]]),m(r).meta.touched&&m(r).errors.selectedMotive?(V(),z("p",W3,Le(m(r).errors.selectedMotive),1)):oe("",!0)])):oe("",!0),m(r).key=="oilChange"?(V(),z("span",z3,[G3,ut(x("select",{id:"reason",name:"reason","onUpdate:modelValue":p[2]||(p[2]=S=>m(r).oilType=S),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":m(r).meta.touched&&m(r).errors.oilType}])},[(V(!0),z(Oe,null,ct(u,(S,R)=>(V(),z("option",{class:"text-xs",key:R,value:S},Le(S),9,Y3))),128))],2),[[ur,m(r).oilType]]),m(r).meta.touched&&m(r).errors.oilType?(V(),z("p",K3,Le(m(r).errors.oilType),1)):oe("",!0)])):oe("",!0),m(r).selectedMotive=="otros"||m(r).key=="generalConsultation"?(V(),z("span",Q3,[X3,ut(x("textarea",{id:"motiveDetail","onUpdate:modelValue":p[3]||(p[3]=S=>m(r).motiveDetail=S),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-xs",{"border-red-400 border-2 rounded-xs":m(r).meta.touched&&m(r).errors.motiveDetail}]),style:{outline:"none"},rows:"2",cols:"20"},null,2),[[hn,m(r).motiveDetail]]),m(r).meta.touched&&m(r).errors.motiveDetail?(V(),z("p",J3,Le(m(r).errors.motiveDetail),1)):oe("",!0)])):oe("",!0),x("button",{type:"button",onClick:d,class:"mt-2 hover:opacity-80 text-center text-white text-md font-black mr-2 bg-blue-700 px-10 py-2 rounded-md w-fit min-w-52"},"CONTINUAR")])])):(V(),z("div",E3,[A3,x("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black",onClick:a},"INICIAR SESIN"),S3,x("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black",onClick:o},"REGISTRARSE"),x3]))]),_:1})):oe("",!0)}}}),nA=Gi("alert",()=>{const t=le(!1);function e(n){t.value=n,setTimeout(()=>{t.value=!1},1500)}return{showAlert:t,setShowAlert:e}}),t4=x("p",{class:"text-blue-700 font-bold"},"Los datos se actualizaron con xito!",-1),n4=nt({__name:"Alert",setup(t){const e=nA();return(n,r)=>m(e).showAlert?(V(),Ue(ca,{key:0,onCloseModal:r[0]||(r[0]=s=>m(e).setShowAlert(!1)),width:"w-1/3",height:"h-40",showCloseIcon:!0},{default:Fe(()=>[t4]),_:1})):oe("",!0)}}),r4={},s4={class:"footer"},i4={class:"pt-10 pb-7 px-10 text-center bg-white font-bold"},o4={class:"text-gray-700"};function a4(t,e){return V(),z("footer",s4,[x("div",i4,[x("p",o4," "+Le(new Date().getFullYear())+" AUTOWASI. Todos los derechos reservados.",1)])])}const l4=gw(r4,[["render",a4]]),u4={class:"flex flex-col w-full h-screen overflow-hidden"},c4={class:"flex flex-row w-full h-full overflow-y-auto"},d4={class:"md:container md:mx-auto w-full sm:pl-44"},f4={class:"w-full h-full"},rf=nt({__name:"Layout",setup(t){return(e,n)=>(V(),z("div",u4,[qe(t3),qe(h3),qe(T3),qe(e4),qe(n4),qe(MF),x("div",c4,[qe($F),x("span",d4,[x("div",f4,[De(e.$slots,"default",{},()=>[Tt("Add view")]),qe(l4)])])])]))}}),h4="/assets/adjustable-wrench-R0lMtTwB.png",p4="/assets/fan-CsgU8Uvx.png",m4="/assets/brakes-dzGoctIr.png",g4="/assets/oil-CdbIrvwP.png",v4="/assets/clean-Bi88ezXv.png",y4="/assets/searching-Cov3dSz6.png",_4={class:"md:container md:mx-auto bg-white pt-12"},b4=x("h1",{class:"text-2xl text-left px-5 text-blue-700 font-bold mb-4"},"SERVICIOS PARA AUTOMVILES A DOMICILIO",-1),w4=x("p",{class:"text-left px-5 font-normal text-gray-700 mb-12"},[Tt("Lista de servicios de mantenimiento y reparacin de automviles "),x("strong",null,"disponibles a domicilio"),Tt(".")],-1),T4={class:"flex flex-row flex-wrap justify-evenly items-center"},E4={key:0,class:"py-2 text-md flex flex-row justify-center items-baseline cursor-default"},A4=x("p",{class:"text-blue-700 mr-2 underline text-md"},"ver ms",-1),S4=x("i",{class:"text-blue-700 fas fa-question-circle text-xs"},null,-1),x4=[A4,S4],I4={class:"my-4 rounded-lg p-2"},C4=["src"],P4=["innerHTML"],R4={key:2,class:"text-center text-base text-blue-500 py-0 mb-4 font-bold w-full"},k4={key:3,class:"flex flex-row justify-center items-center mb-3 p-1 w-[15rem] rounded-md bg-blue-700 hover:opacity-70 border-2 border-blue-100"},D4=x("p",{class:"text-center text-white text-xl font-black mr-2"},"PRXIMAMENTE ...",-1),O4=[D4],M4=["onClick"],N4={class:"text-center text-white text-xl font-black mr-2"},V4=x("i",{class:"fab fa-whatsapp text-white font-black text-2xl"},null,-1),L4=nt({__name:"AllServices",setup(t){const e=ea(),n=Kr(),r=tA(),s=le([{name:"LAVADO",key:"carWashes",imageSrc:v4,description:'<span class="text-rose-100">Encuentra talleres cerca de ti.</span>',CTAtext:"VER TALLERES",isCarWash:!0,showTooltipHelper:!1,isDisabled:!1},{name:"Afinamiento",key:"tuning",imageSrc:h4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Servicio regular para mantener el rendimiento ptimo del vehculo.</p>',price:"Desde S/150",rating:4.5,endedServices:37,mobile:"+51 987654321",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0,isDisabled:!0},{name:"Cambio de Aceite",key:"oilChange",imageSrc:g4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Cambio de aceite y filtro para garantizar un motor saludable.</p>',price:"Desde S/150 (Incluye filtro)",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0,isDisabled:!0},{name:"Sistema de Frenos",key:"brakingSystem",imageSrc:m4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Inspeccin y reparacin de sistemas de frenos para una conduccin segura.</p>',price:"Desde S/200",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0,isDisabled:!0},{name:"Sistema de Aire Acondicionado",key:"airConditioning",imageSrc:p4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Recarga y mantenimiento del sistema de aire acondicionado para un clima interior cmodo.</p>',price:"Desde S/150",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0,isDisabled:!0},{name:"Consulta general + escaneo",key:"generalConsultation",imageSrc:y4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Diagnstico completo para tu vehculo, garantizando su ptimo funcionamiento.</p>',price:"Desde S/50",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0,isDisabled:!0}]);Fp(()=>{n.location.administrative_area_level_2&&n.location.administrative_area_level_2!="Trujillo"&&e.push({name:"CarWashServices"})});function i(o){if(r.resetForm(),n.cars.length==1){const{value:{brand:a,model:l,year:u}}=n.cars[0];r.setSelectedCar(`${a} ${l}, ${u}`)}r.handleShowContactModal(o)}return(o,a)=>{const l=Jc("router-link"),u=HS("tippy");return V(),Ue(rf,null,{default:Fe(()=>[x("div",_4,[b4,w4,x("div",T4,[(V(!0),z(Oe,null,ct(s.value,c=>(V(),z("div",{key:c.name,class:Ve([{"bg-blue-900":c.isCarWash,"bg-rose-50":!c.isCarWash},"w-[21rem] h-[30rem] mb-6 p-2 mr-1 flex flex-col justify-center items-center rounded-lg shadow-xl"])},[x("p",{class:Ve(["text-center text-2xl font-black w-52",{"text-rose-100":c.isCarWash,"text-blue-700":!c.isCarWash}])},Le(c.name),3),c.showTooltipHelper?ut((V(),z("div",E4,x4)),[[u,{content:c.description,maxWidth:200,placement:"bottom",arrow:!0,sticky:!0,offset:[0,0]}]]):oe("",!0),x("figure",I4,[x("img",{src:c.imageSrc,alt:"Car service",class:"h-24"},null,8,C4)]),c.showTooltipHelper?oe("",!0):(V(),z("p",{key:1,class:"px-1 rounded mb-6 w-[19rem] text-center text-sm font-mono font-black",innerHTML:c.description},null,8,P4)),c.price?(V(),z("p",R4,Le(c.price),1)):oe("",!0),c.isDisabled?(V(),z("button",k4,O4)):c.isCarWash?(V(),Ue(l,{key:4,to:{name:"CarWashServices"},class:"hover:opacity-80 mb-3 p-1 w-[15rem] rounded-md text-center text-blue-600 text-xl font-black bg-rose-100"},{default:Fe(()=>[Tt(Le(c.CTAtext),1)]),_:2},1024)):(V(),z("button",{key:5,onClick:d=>i(c),class:"flex flex-row justify-center items-center mb-3 p-1 w-[15rem] rounded-md bg-green-500 hover:opacity-70 border-2 border-blue-100"},[x("p",N4,Le(c.CTAtext),1),V4],8,M4))],2))),128))])])]),_:1})}}}),$4="f9e9a07281e43ce7",F4="car_wash",U4=5e3,B4=15;let ba=null,ro=null;const t0=[];function Fu(t){return t*Math.PI/180}function j4(t,e){const r=Fu(t.lat),s=Fu(e.lat),i=Fu(e.lat-t.lat),o=Fu(e.lng-t.lng),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r)*Math.cos(s)*Math.sin(o/2)*Math.sin(o/2),u=6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));return Math.round(u*10)/10}async function n0(t,e,n){await e.placesService.nearbySearch({radius:U4,bounds:n,location:t,type:F4},async(r,s)=>{if(s===google.maps.places.PlacesServiceStatus.OK)for(var i=0;i<r.length;i++){const o=r[i],a=o.geometry.location,l=await new e.AdvancedMarkerView({map:e.map,position:a,content:e.pinForCarWash.element,zIndex:i}),u={lat:a.lat(),lng:a.lng()},c=new google.maps.InfoWindow({content:`
            <ul class="py-2">
            <li class="flex flex-row items-center"><p class="mb-2"><span class="font-semibold">Taller:</span> ${o.name||""} <span class="font-semibold">(${j4(t,u)} Km)</span></p></li>
            <li class="flex flex-row items-center">${o.business_status?'<p class="mb-2"><span class="font-semibold">Estado:</span> Operacional</p>':""}</li>
            <li class="flex flex-row items-center">${o.isOpen?'<p class="mb-2 font-semibold">Abierto ahora</p>':""}</li>
            <li class="flex flex-row items-center">${o.vicinity?`<p class="mb-2"><span class="font-semibold">Direccin: </span>${o.vicinity}</p>`:""}</li>
            <li class="flex flex-row items-center">${o.user_ratings_total?`<p class="mb-2"><span class="font-semibold">Rating: </span> ${o.rating} (${o.user_ratings_total})</p>`:""}</li>
            <li class="mt-2"><a class="text-sm text-blue-700 font-black rounded-md py-1" href="https://www.google.com/maps/place/?q=place_id:${o.place_id}" target="_blank" rel="noopener noreferrer">Abrir en Google Maps</a></li>
            </ul>
          `});l.addListener("gmp-click",()=>{(ro==null?void 0:ro.zIndex)!=l.zIndex&&(ro&&(ro.content=e.pinForCarWash.element),l.content=e.pinForSelectedCarWash.element,ro=l,t0.forEach(d=>d.close()),c.open({anchor:l,map:e.map}),t0.push(c))})}})}async function H4({lat:t,lng:e}){const{Map:n}=await google.maps.importLibrary("maps"),{PlacesService:r}=await google.maps.importLibrary("places"),{AdvancedMarkerView:s,PinView:i}=await google.maps.importLibrary("marker"),o=new google.maps.LatLng(t,e);ba=new n(document.getElementById("map"),{zoom:B4,center:o,mapId:$4});const a=await new i({glyphColor:"#811411",background:"#e94335",borderColor:"#811411"}),l=new i({glyphColor:"#811411",background:"#e94335",borderColor:"#811411",scale:1.2}),u=new r(ba),c={map:ba,placesService:u,AdvancedMarkerView:s,pinForCarWash:a,pinForSelectedCarWash:l};await n0(o,c),ba.addListener("bounds_changed",async function(){const d=ba.getBounds();await n0(o,c,d)})}const q4={class:"px-5"},W4={key:0,class:"relative flex justify-center items-center w-full h-96 text-lg font-bold text-gray-600"},z4=x("div",{id:"map",class:"h-[400px]"},null,-1),G4=nt({__name:"CarWashMap",setup(t){const e=le(!0),r=Kr().coordinates;return Fp(async()=>{r.latitude&&r.longitude&&(await H4({lat:r.latitude,lng:r.longitude}),e.value=!1)}),(s,i)=>(V(),z("div",q4,[e.value?(V(),z("div",W4,"Cargando el mapa...")):oe("",!0),z4]))}}),Y4={class:"md:container md:mx-auto pt-12"},K4=x("h1",{class:"text-2xl text-left px-5 font-bold text-blue-700 mb-4"},"LAVADEROS DE AUTOMVILES",-1),Q4=x("p",{class:"text-left px-5 font-normal text-gray-700 mb-12"},"Encuentra lavaderos cerca de ti.",-1),X4=nt({__name:"CarWashServices",setup(t){return(e,n)=>(V(),Ue(rf,null,{default:Fe(()=>[x("div",Y4,[K4,Q4,qe(G4)])]),_:1}))}});function He(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function or(t,e){const n=He(t);return isNaN(e)?mt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function dr(t,e){const n=He(t);if(isNaN(e))return mt(t,NaN);if(!e)return n;const r=n.getDate(),s=mt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function rA(t,e){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=He(t),c=r||n?dr(u,r+n*12):u,d=i||s?or(c,i+s*7):c,f=a+o*60,p=(l+f*60)*1e3;return mt(t,d.getTime()+p)}function J4(t,e){const n=+He(t);return mt(t,n+e)}const sA=6048e5,Z4=864e5,e5=6e4,iA=36e5,t5=1e3;function n5(t,e){return J4(t,e*iA)}let r5={};function Zi(){return r5}function Yr(t,e){var a,l,u,c;const n=Zi(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ko(t){return Yr(t,{weekStartsOn:1})}function oA(t){const e=He(t),n=e.getFullYear(),r=mt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ko(r),i=mt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ko(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function r0(t){const e=He(t);return e.setHours(0,0,0,0),e}function Uc(t){const e=He(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function aA(t,e){const n=r0(t),r=r0(e),s=+n-Uc(n),i=+r-Uc(r);return Math.round((s-i)/Z4)}function s5(t){const e=oA(t),n=mt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ko(n)}function i5(t,e){const n=e*3;return dr(t,n)}function Tg(t,e){return dr(t,e*12)}function lA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ja(t){if(!lA(t)&&typeof t!="number")return!1;const e=He(t);return!isNaN(Number(e))}function s0(t){const e=He(t);return Math.trunc(e.getMonth()/3)+1}function uA(t,e){const n=He(t.start),r=He(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=(e==null?void 0:e.step)??1;if(!a)return[];a<0&&(a=-a,s=!s);const l=[];for(;+o<=i;)l.push(He(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function Si(t){const e=He(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function o5(t,e){const n=He(t.start),r=He(t.end);let s=+n>+r;const i=s?+Si(n):+Si(r);let o=Si(s?r:n),a=(e==null?void 0:e.step)??1;if(!a)return[];a<0&&(a=-a,s=!s);const l=[];for(;+o<=i;)l.push(He(o)),o=i5(o,a);return s?l.reverse():l}function a5(t){const e=He(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function cA(t){const e=He(t),n=mt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function l5(t,e){var a,l,u,c;const n=Zi(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function i0(t){const e=He(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const u5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},c5=(t,e,n)=>{let r;const s=u5[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const d5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p5={date:Jf({formats:d5,defaultWidth:"full"}),time:Jf({formats:f5,defaultWidth:"full"}),dateTime:Jf({formats:h5,defaultWidth:"full"})},m5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g5=(t,e,n,r)=>m5[t];function wa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const v5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A5={ordinalNumber:E5,era:wa({values:v5,defaultWidth:"wide"}),quarter:wa({values:y5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wa({values:_5,defaultWidth:"wide"}),day:wa({values:b5,defaultWidth:"wide"}),dayPeriod:wa({values:w5,defaultWidth:"wide",formattingValues:T5,defaultFormattingWidth:"wide"})};function Ta(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?x5(a,d=>d.test(o)):S5(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function S5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function x5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function I5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const C5=/^(\d+)(th|st|nd|rd)?/i,P5=/\d+/i,R5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k5={any:[/^b/i,/^(a|c)/i]},D5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O5={any:[/1/i,/2/i,/3/i,/4/i]},M5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U5={ordinalNumber:I5({matchPattern:C5,parsePattern:P5,valueCallback:t=>parseInt(t,10)}),era:Ta({matchPatterns:R5,defaultMatchWidth:"wide",parsePatterns:k5,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:D5,defaultMatchWidth:"wide",parsePatterns:O5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ta({matchPatterns:M5,defaultMatchWidth:"wide",parsePatterns:N5,defaultParseWidth:"any"}),day:Ta({matchPatterns:V5,defaultMatchWidth:"wide",parsePatterns:L5,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:$5,defaultMatchWidth:"any",parsePatterns:F5,defaultParseWidth:"any"})},dA={code:"en-US",formatDistance:c5,formatLong:p5,formatRelative:g5,localize:A5,match:U5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B5(t){const e=He(t);return aA(e,cA(e))+1}function Eg(t){const e=He(t),n=+Ko(e)-+s5(e);return Math.round(n/sA)+1}function Ag(t,e){var c,d,f,h;const n=He(t),r=n.getFullYear(),s=Zi(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=mt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Yr(o,e),l=mt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Yr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function j5(t,e){var a,l,u,c;const n=Zi(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Ag(t,e),i=mt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Yr(i,e)}function Sg(t,e){const n=He(t),r=+Yr(n,e)-+j5(n,e);return Math.round(r/sA)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _s={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return yt(s,e.length)}},so={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return _s.y(t,e)},Y:function(t,e,n,r){const s=Ag(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return yt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):yt(i,e.length)},R:function(t,e){const n=oA(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _s.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Sg(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},I:function(t,e,n){const r=Eg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_s.d(t,e)},D:function(t,e,n){const r=B5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return yt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=so.noon:r===0?s=so.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=so.evening:r>=12?s=so.afternoon:r>=4?s=so.morning:s=so.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _s.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_s.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_s.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_s.s(t,e)},S:function(t,e){return _s.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return l0(r);case"XXXX":case"XX":return fi(r);case"XXXXX":case"XXX":default:return fi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return l0(r);case"xxxx":case"xx":return fi(r);case"xxxxx":case"xxx":default:return fi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+a0(r,":");case"OOOO":default:return"GMT"+fi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+a0(r,":");case"zzzz":default:return"GMT"+fi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function a0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+yt(i,2)}function l0(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):fi(t,e)}function fi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=yt(Math.trunc(r/60),2),i=yt(r%60,2);return n+s+e+i}const u0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},fA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return u0(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",u0(r,e)).replace("{{time}}",fA(s,e))},gp={p:fA,P:H5},q5=/^D+$/,W5=/^Y+$/,z5=["D","DD","YY","YYYY"];function hA(t){return q5.test(t)}function pA(t){return W5.test(t)}function vp(t,e,n){const r=G5(t,e,n);if(console.warn(r),z5.includes(t))throw new RangeError(r)}function G5(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Q5=/^'([^]*?)'?$/,X5=/''/g,J5=/[a-zA-Z]/;function Br(t,e,n){var c,d,f,h,p,y,S,R;const r=Zi(),s=(n==null?void 0:n.locale)??r.locale??dA,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((R=(S=r.locale)==null?void 0:S.options)==null?void 0:R.weekStartsOn)??0,a=He(t);if(!Ja(a))throw new RangeError("Invalid time value");let l=e.match(K5).map(k=>{const C=k[0];if(C==="p"||C==="P"){const g=gp[C];return g(k,s.formatLong)}return k}).join("").match(Y5).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const C=k[0];if(C==="'")return{isToken:!1,value:Z5(k)};if(o0[C])return{isToken:!0,value:k};if(C.match(J5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(k=>{if(!k.isToken)return k.value;const C=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pA(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&hA(C))&&vp(C,e,String(t));const g=o0[C[0]];return g(a,C,s.localize,u)}).join("")}function Z5(t){const e=t.match(Q5);return e?e[1].replace(X5,"'"):t}function e6(t){return He(t).getDay()}function t6(t){const e=He(t),n=e.getFullYear(),r=e.getMonth(),s=mt(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function n6(){return Object.assign({},Zi())}function fr(t){return He(t).getHours()}function r6(t){let n=He(t).getDay();return n===0&&(n=7),n}function jr(t){return He(t).getMinutes()}function it(t){return He(t).getMonth()}function Qo(t){return He(t).getSeconds()}function Ze(t){return He(t).getFullYear()}function Ol(t,e){const n=He(t),r=He(e);return n.getTime()>r.getTime()}function Ml(t,e){const n=He(t),r=He(e);return+n<+r}function mo(t,e){const n=He(t),r=He(e);return+n==+r}function s6(t,e){const n=e instanceof Date?mt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const i6=10;class mA{constructor(){Re(this,"subPriority",0)}validate(e,n){return!0}}class o6 extends mA{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class a6 extends mA{constructor(){super(...arguments);Re(this,"priority",i6);Re(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:mt(n,s6(n,Date))}}class gt{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new o6(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class l6 extends gt{constructor(){super(...arguments);Re(this,"priority",140);Re(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ir={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Nt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Cr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*iA+i*e5+o*t5),rest:e.slice(n[0].length)}}function gA(t){return Nt(zt.anyDigitsSigned,t)}function jt(t,e){switch(t){case 1:return Nt(zt.singleDigit,e);case 2:return Nt(zt.twoDigits,e);case 3:return Nt(zt.threeDigits,e);case 4:return Nt(zt.fourDigits,e);default:return Nt(new RegExp("^\\d{1,"+t+"}"),e)}}function Bc(t,e){switch(t){case 1:return Nt(zt.singleDigitSigned,e);case 2:return Nt(zt.twoDigitsSigned,e);case 3:return Nt(zt.threeDigitsSigned,e);case 4:return Nt(zt.fourDigitsSigned,e);default:return Nt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function xg(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function vA(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function yA(t){return t%400===0||t%4===0&&t%100!==0}class u6 extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Gt(jt(4,n),i);case"yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(jt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=vA(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class c6 extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Gt(jt(4,n),i);case"Yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(jt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Ag(n,i);if(s.isTwoDigitYear){const l=vA(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Yr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Yr(n,i)}}class d6 extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Bc(r==="R"?4:r.length,n)}set(n,r,s){const i=mt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Ko(i)}}class f6 extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Bc(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class h6 extends gt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return jt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class p6 extends gt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return jt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class m6 extends gt{constructor(){super(...arguments);Re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Re(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Gt(Nt(zt.month,n),i);case"MM":return Gt(jt(2,n),i);case"Mo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class g6 extends gt{constructor(){super(...arguments);Re(this,"priority",110);Re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Gt(Nt(zt.month,n),i);case"LL":return Gt(jt(2,n),i);case"Lo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function v6(t,e,n){const r=He(t),s=Sg(r,n)-e;return r.setDate(r.getDate()-s*7),r}class y6 extends gt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Nt(zt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Yr(v6(n,s,i),i)}}function _6(t,e){const n=He(t),r=Eg(n)-e;return n.setDate(n.getDate()-r*7),n}class b6 extends gt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Nt(zt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Ko(_6(n,s))}}const w6=[31,28,31,30,31,30,31,31,30,31,30,31],T6=[31,29,31,30,31,30,31,31,30,31,30,31];class E6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subPriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Nt(zt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return jt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=yA(s),o=n.getMonth();return i?r>=1&&r<=T6[o]:r>=1&&r<=w6[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class A6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subpriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Nt(zt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return jt(r.length,n)}}validate(n,r){const s=n.getFullYear();return yA(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function Ig(t,e,n){var d,f,h,p;const r=Zi(),s=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=He(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return or(i,c)}class S6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ig(n,s,i),n.setHours(0,0,0,0),n}}class x6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Gt(jt(r.length,n),o);case"eo":return Gt(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ig(n,s,i),n.setHours(0,0,0,0),n}}class I6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Gt(jt(r.length,n),o);case"co":return Gt(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=Ig(n,s,i),n.setHours(0,0,0,0),n}}function C6(t,e){const n=He(t),r=r6(n),s=e-r;return or(n,s)}class P6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return jt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Gt(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gt(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gt(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gt(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=C6(n,s),n.setHours(0,0,0,0),n}}class R6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xg(s),0,0,0),n}}class k6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xg(s),0,0,0),n}}class D6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xg(s),0,0,0),n}}class O6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Nt(zt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class M6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Nt(zt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class N6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Nt(zt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class V6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Nt(zt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class L6 extends gt{constructor(){super(...arguments);Re(this,"priority",60);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Nt(zt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class $6 extends gt{constructor(){super(...arguments);Re(this,"priority",50);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Nt(zt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class F6 extends gt{constructor(){super(...arguments);Re(this,"priority",30);Re(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Gt(jt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class U6 extends gt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Cr(Ir.basicOptionalMinutes,n);case"XX":return Cr(Ir.basic,n);case"XXXX":return Cr(Ir.basicOptionalSeconds,n);case"XXXXX":return Cr(Ir.extendedOptionalSeconds,n);case"XXX":default:return Cr(Ir.extended,n)}}set(n,r,s){return r.timestampIsSet?n:mt(n,n.getTime()-Uc(n)-s)}}class B6 extends gt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Cr(Ir.basicOptionalMinutes,n);case"xx":return Cr(Ir.basic,n);case"xxxx":return Cr(Ir.basicOptionalSeconds,n);case"xxxxx":return Cr(Ir.extendedOptionalSeconds,n);case"xxx":default:return Cr(Ir.extended,n)}}set(n,r,s){return r.timestampIsSet?n:mt(n,n.getTime()-Uc(n)-s)}}class j6 extends gt{constructor(){super(...arguments);Re(this,"priority",40);Re(this,"incompatibleTokens","*")}parse(n){return gA(n)}set(n,r,s){return[mt(n,s*1e3),{timestampIsSet:!0}]}}class H6 extends gt{constructor(){super(...arguments);Re(this,"priority",20);Re(this,"incompatibleTokens","*")}parse(n){return gA(n)}set(n,r,s){return[mt(n,s),{timestampIsSet:!0}]}}const q6={G:new l6,y:new u6,Y:new c6,R:new d6,u:new f6,Q:new h6,q:new p6,M:new m6,L:new g6,w:new y6,I:new b6,d:new E6,D:new A6,E:new S6,e:new x6,c:new I6,i:new P6,a:new R6,b:new k6,B:new D6,h:new O6,H:new M6,K:new N6,k:new V6,m:new L6,s:new $6,S:new F6,X:new U6,x:new B6,t:new j6,T:new H6},W6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G6=/^'([^]*?)'?$/,Y6=/''/g,K6=/\S/,Q6=/[a-zA-Z]/;function yp(t,e,n,r){var y,S,R,k,C,g,P,w;const s=n6(),i=(r==null?void 0:r.locale)??s.locale??dA,o=(r==null?void 0:r.firstWeekContainsDate)??((S=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:S.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(R=s.locale)==null?void 0:R.options)==null?void 0:k.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((g=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((w=(P=s.locale)==null?void 0:P.options)==null?void 0:w.weekStartsOn)??0;if(e==="")return t===""?He(n):mt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new a6],c=e.match(z6).map(b=>{const I=b[0];if(I in gp){const O=gp[I];return O(b,i.formatLong)}return b}).join("").match(W6),d=[];for(let b of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&pA(b)&&vp(b,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&hA(b)&&vp(b,e,t);const I=b[0],O=q6[I];if(O){const{incompatibleTokens:U}=O;if(Array.isArray(U)){const M=d.find(X=>U.includes(X.token)||X.token===I);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${b}\` at the same time`)}else if(O.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);d.push({token:I,fullToken:b});const K=O.run(t,b,i.match,l);if(!K)return mt(n,NaN);u.push(K.setter),t=K.rest}else{if(I.match(Q6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(b==="''"?b="'":I==="'"&&(b=X6(b)),t.indexOf(b)===0)t=t.slice(b.length);else return mt(n,NaN)}}if(t.length>0&&K6.test(t))return mt(n,NaN);const f=u.map(b=>b.priority).sort((b,I)=>I-b).filter((b,I,O)=>O.indexOf(b)===I).map(b=>u.filter(I=>I.priority===b).sort((I,O)=>O.subPriority-I.subPriority)).map(b=>b[0]);let h=He(n);if(isNaN(h.getTime()))return mt(n,NaN);const p={};for(const b of f){if(!b.validate(h,l))return mt(n,NaN);const I=b.set(h,p,l);Array.isArray(I)?(h=I[0],Object.assign(p,I[1])):h=I}return mt(n,h)}function X6(t){return t.match(G6)[1].replace(Y6,"'")}function c0(t,e){const n=Si(t),r=Si(e);return+n==+r}function J6(t,e){return or(t,-e)}function _A(t,e){const n=He(t),r=n.getFullYear(),s=n.getDate(),i=mt(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=t6(i);return n.setMonth(e,Math.min(s,o)),n}function xt(t,e){let n=He(t);return isNaN(+n)?mt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=_A(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function bA(t,e){const n=He(t);return n.setHours(e),n}function Cg(t,e){const n=He(t);return n.setMilliseconds(e),n}function wA(t,e){const n=He(t);return n.setMinutes(e),n}function Pg(t,e){const n=He(t);return n.setSeconds(e),n}function Dr(t,e){const n=He(t);return isNaN(+n)?mt(t,NaN):(n.setFullYear(e),n)}function Xo(t,e){return dr(t,-e)}function Z6(t,e){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=Xo(t,r+n*12),c=J6(u,i+s*7),d=a+o*60,h=(l+d*60)*1e3;return mt(t,c.getTime()-h)}function TA(t,e){return Tg(t,-e)}function da(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),x("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),x("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),x("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}da.compatConfig={MODE:3};function EA(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),x("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}EA.compatConfig={MODE:3};function Rg(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Rg.compatConfig={MODE:3};function kg(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}kg.compatConfig={MODE:3};function Dg(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),x("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dg.compatConfig={MODE:3};function Og(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Og.compatConfig={MODE:3};function Mg(){return V(),z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[x("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Mg.compatConfig={MODE:3};function d0(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function eU(t){return e=>Br(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const tU=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=r.map(eU(t))}catch{s=r.map(d0(e))}else s=r.map(d0(e));const i=s.slice(0,n),o=s.slice(n+1,s.length);return[s[n]].concat(...o).concat(...i)},Ng=(t,e,n)=>{const r=[];for(let s=+t[0];s<=+t[1];s++)r.push({value:+s,text:IA(s,e)});return n?r.reverse():r},AA=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const i=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Br(o,i,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const s=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((i,o)=>{const a=s.format(i);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},nU=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],nn=t=>{const e=m(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},rU=t=>({type:"dot",...t??{}}),SA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Vg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},sn=t=>t,f0=t=>t===0?t:!t||isNaN(+t)?null:+t,h0=t=>t===null,xA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},sU=t=>{const e=[],n=r=>r.filter(s=>s);for(let r=0;r<t.length;r+=3){const s=[t[r],t[r+1],t[r+2]];e.push(n(s))}return e},Nl=(t,e,n)=>{const r=n!=null,s=e!=null;if(!r&&!s)return!1;const i=+n,o=+e;return r&&s?+t>i||+t<o:r?+t>i:s?+t<o:!1},Jo=(t,e)=>sU(t).map(n=>n.map(r=>{const{active:s,disabled:i,isBetween:o,highlighted:a}=e(r);return{...r,active:s,disabled:i,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&s,dp__cell_in_between:o,"dp--highlighted":a}}})),js=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},iU=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function oU(t,e){let n=[...document.querySelectorAll(iU())];n=n.filter(s=>!t.contains(s)||s.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const aU=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),IA=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),Lg=t=>Br(t,"dd-MM-yyyy"),Zf=t=>Array.isArray(t),jc=(t,e)=>e.get(Lg(t)),lU=(t,e)=>t?e?e instanceof Map?!!jc(t,e):e(Te(t)):!1:!0,p0=(t,e,n,r,s,i)=>{const o=yp(t,e.slice(0,t.length),new Date,{locale:i});return Ja(o)&&lA(o)?r||s?o:xt(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},uU=(t,e,n,r,s,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return p0(t,e,o,r,s,i);if(Array.isArray(e)){let a=null;for(const l of e)if(a=p0(t,l,o,r,s,i),a)break;return a}return typeof e=="function"?e(t):null},Te=t=>t?new Date(t):new Date,cU=(t,e,n)=>{if(e){const s=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${i}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Wn=t=>{let e=Te(JSON.parse(JSON.stringify(t)));return e=bA(e,0),e=wA(e,0),e=Pg(e,0),e=Cg(e,0),e},Hs=(t,e,n,r)=>{let s=t?Te(t):Te();return(e||e===0)&&(s=bA(s,+e)),(n||n===0)&&(s=wA(s,+n)),(r||r===0)&&(s=Pg(s,+r)),Cg(s,0)},Ft=(t,e)=>!t||!e?!1:Ml(Wn(t),Wn(e)),rt=(t,e)=>!t||!e?!1:mo(Wn(t),Wn(e)),qt=(t,e)=>!t||!e?!1:Ol(Wn(t),Wn(e)),sf=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?qt(n,t[0])&&Ft(n,t[1]):t!=null&&t[0]&&e?qt(n,t[0])&&Ft(n,e)||Ft(n,t[0])&&qt(n,e):!1,ar=t=>{const e=xt(new Date(t),{date:1});return Wn(e)},eh=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Oi=t=>({hours:fr(t),minutes:jr(t),seconds:Qo(t)}),CA=(t,e)=>{if(e){const n=Ze(Te(e));if(n>t)return 12;if(n===t)return it(Te(e))}},PA=(t,e)=>{if(e){const n=Ze(Te(e));return n<t?-1:n===t?it(Te(e)):void 0}},Zo=t=>{if(t)return Ze(Te(t))},RA=(t,e)=>{const n=qt(t,e)?e:t,r=qt(e,t)?e:t;return uA({start:n,end:r})},dU=t=>{const e=dr(t,1);return{month:it(e),year:Ze(e)}},es=(t,e)=>{const n=Yr(t,{weekStartsOn:+e}),r=l5(t,{weekStartsOn:+e});return[n,r]},kA=(t,e)=>{const n={hours:fr(Te()),minutes:jr(Te()),seconds:e?Qo(Te()):0};return Object.assign(n,t)},Ms=(t,e,n)=>[xt(Te(t),{date:1}),xt(Te(),{month:e,year:n,date:1})],is=(t,e,n)=>{let r=t?Te(t):Te();return(e||e===0)&&(r=_A(r,e)),n&&(r=Dr(r,n)),r},DA=(t,e,n,r,s)=>{if(!r||s&&!e||!s&&!n)return!1;const i=s?dr(t,1):Xo(t,1),o=[it(i),Ze(i)];return s?!hU(...o,e):!fU(...o,n)},fU=(t,e,n)=>Ft(...Ms(n,t,e))||rt(...Ms(n,t,e)),hU=(t,e,n)=>qt(...Ms(n,t,e))||rt(...Ms(n,t,e)),OA=(t,e,n,r,s,i,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Br(t[0],i,a)}${s&&!t[1]?"":r}${t[1]?Br(t[1],i,a):""}`:Br(t,i,a)},io=t=>{if(t)return null;throw new Error(Vg.prop("partial-range"))},Uu=(t,e)=>{if(e)return t();throw new Error(Vg.prop("range"))},_p=t=>Array.isArray(t)?Ja(t[0])&&(t[1]?Ja(t[1]):!0):t?Ja(t):!1,pU=(t,e)=>xt(e??Te(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),th=(t,e,n,r)=>{if(!t)return!0;if(r){const s=n==="max"?Ml(t,e):Ol(t,e),i={seconds:0,milliseconds:0};return s||mo(xt(t,i),xt(e,i))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},nh=(t,e,n)=>t?pU(t,e):Te(n??e),m0=(t,e,n,r,s)=>{if(Array.isArray(r)){const o=nh(t,r[0],e),a=nh(t,r[1],e);return th(r[0],o,n,!!e)&&th(r[1],a,n,!!e)&&s}const i=nh(t,r,e);return th(r,i,n,!!e)&&s},rh=t=>xt(Te(),Oi(t)),mU=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Ze(Te(n))===e).map(n=>it(n)):[],MA=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),$g=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Ea=en({menuFocused:!1,shiftKeyInMenu:!1}),NA=()=>{const t=n=>{Ea.menuFocused=n},e=n=>{Ea.shiftKeyInMenu!==n&&(Ea.shiftKeyInMenu=n)};return{control:ue(()=>({shiftKeyInMenu:Ea.shiftKeyInMenu,menuFocused:Ea.menuFocused})),setMenuFocused:t,setShiftKey:e}},Pt=en({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),sh=le(null),Bu=le(!1),ih=le(!1),oh=le(!1),ah=le(!1),wn=le(0),Ht=le(0),si=()=>{const t=ue(()=>Bu.value?[...Pt.selectionGrid,Pt.actionRow].filter(d=>d.length):ih.value?[...Pt.timePicker[0],...Pt.timePicker[1],ah.value?[]:[sh.value],Pt.actionRow].filter(d=>d.length):oh.value?[...Pt.monthPicker,Pt.actionRow]:[Pt.monthYear,...Pt.calendar,Pt.time,Pt.actionRow].filter(d=>d.length)),e=d=>{wn.value=d?wn.value+1:wn.value-1;let f=null;t.value[Ht.value]&&(f=t.value[Ht.value][wn.value]),!f&&t.value[Ht.value+(d?1:-1)]?(Ht.value=Ht.value+(d?1:-1),wn.value=d?0:t.value[Ht.value].length-1):f||(wn.value=d?wn.value-1:wn.value+1)},n=d=>{Ht.value===0&&!d||Ht.value===t.value.length&&d||(Ht.value=d?Ht.value+1:Ht.value-1,t.value[Ht.value]?t.value[Ht.value]&&!t.value[Ht.value][wn.value]&&wn.value!==0&&(wn.value=t.value[Ht.value].length-1):Ht.value=d?Ht.value-1:Ht.value+1)},r=d=>{let f=null;t.value[Ht.value]&&(f=t.value[Ht.value][wn.value]),f?f.focus({preventScroll:!Bu.value}):wn.value=d?wn.value-1:wn.value+1},s=()=>{e(!0),r(!0)},i=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{Pt[f]=d},u=(d,f)=>{Pt[f]=d},c=()=>{wn.value=0,Ht.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{sh.value=d},setSelectionGrid:d=>{Bu.value=d,c(),d||(Pt.selectionGrid=[])},setTimePicker:(d,f=!1)=>{ih.value=d,ah.value=f,c(),d||(Pt.timePicker[0]=[],Pt.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{Pt.timePicker[f]=d},arrowRight:s,arrowLeft:i,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Pt.monthYear=[],Pt.calendar=[],Pt.time=[],Pt.actionRow=[],Pt.selectionGrid=[],Pt.timePicker[0]=[],Pt.timePicker[1]=[],Bu.value=!1,ih.value=!1,ah.value=!1,oh.value=!1,c(),sh.value=null},setMonthPicker:d=>{oh.value=d,c()},refSets:Pt}},us=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),VA=(t,e)=>bp(t,e)||Te(),gU=(t,e)=>e.dateInTz?us(new Date(t),e.dateInTz):Te(t),bp=(t,e)=>{if(!t)return null;if(!e)return Te(t);const n=Te(t);return e.exactMatch?gU(t,e):us(n,e.timezone)},vU=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),s=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-s},g0=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),yU=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),v0=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,_U=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:v0(!1)};const r=e?t:{},s=e?r.count??!0:t,i=v0(s);return Object.assign(n,r,{count:i})},bU=(t,e,n)=>t||(typeof n=="string"?n:e),wU=t=>typeof t=="boolean"?t?g0({}):!1:g0(t),TU=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},EU=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),AU=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),SU=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},xU=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,...t??{}}),IU=t=>{const e={dates:Array.isArray(t)?t.map(n=>Te(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},CU=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},PU=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},RU=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},lh=(t,e)=>new Map(t.map(n=>{const r=VA(n,e);return[Lg(r),r]})),kU=(t,e)=>t.length?new Map(t.map(n=>{const r=VA(n.date,e);return[Lg(r),n]})):null,DU=(t,e,n,r,s,i,o)=>({minDate:bp(t,o),maxDate:bp(e,o),disabledDates:Zf(n)?lh(n,o):n,allowedDates:Zf(r)?lh(r,o):null,highlight:typeof s=="object"&&Zf(s==null?void 0:s.dates)?lh(s.dates,o):s,markers:kU(i,o)}),OU=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},$t=t=>{const e=()=>{const P=t.enableSeconds?":ss":"";return t.is24?`HH:mm${P}`:`hh:mm${P} aa`},n=()=>{var P;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((P=S.value)==null?void 0:P.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=P=>kA(P,t.enableSeconds),s=()=>g.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,i=ue(()=>_U(t.multiCalendars)),o=ue(()=>s()),a=ue(()=>yU(t.ariaLabels)),l=ue(()=>EU(t.filters)),u=ue(()=>wU(t.transitions)),c=ue(()=>AU(t.actionRow)),d=ue(()=>bU(t.previewFormat,t.format,n())),f=ue(()=>TU(t.textInput)),h=ue(()=>SU(t.inline)),p=ue(()=>xU(t.config)),y=ue(()=>IU(t.highlight)),S=ue(()=>CU(t.weekNumbers)),R=ue(()=>RU(t.timezone,t.emitTimezone)),k=ue(()=>OU(t.multiDates,t.multiDatesLimit)),C=ue(()=>DU(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,y.value,t.markers,R.value)),g=ue(()=>PU(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:y,defaultedWeekNumbers:S,defaultedRange:g,propDates:C,defaultedTz:R,defaultedMultiDates:k,getDefaultPattern:n,getDefaultStartTime:s}};var sr=(t=>(t.month="month",t.year="year",t))(sr||{}),hi=(t=>(t.top="top",t.bottom="bottom",t))(hi||{}),Mi=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Mi||{}),wr=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(wr||{});const MU=["timestamp","date","iso"],NU=(t,e,n)=>{const r=le(),{defaultedTextInput:s,defaultedRange:i,defaultedTz:o,defaultedMultiDates:a,getDefaultPattern:l}=$t(e),u=le(""),c=nl(e,"format"),d=nl(e,"formatLocale");Ut(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,re(!0))},{deep:!0}),Ut(c,()=>{te()});const f=A=>o.value.timezone&&o.value.convertModel?us(A,o.value.timezone):A,h=A=>{if(o.value.timezone&&o.value.convertModel){const ie=vU(o.value.timezone);return n5(A,ie)}return A},p=(A,ie,D=!1)=>OA(A,e.format,e.formatLocale,s.value.rangeSeparator,e.modelAuto,ie??l(),D),y=A=>A?e.modelType?de(A):{hours:fr(A),minutes:jr(A),seconds:e.enableSeconds?Qo(A):0}:null,S=A=>e.modelType?de(A):{month:it(A),year:Ze(A)},R=A=>Array.isArray(A)?a.value.enabled?A.map(ie=>k(ie,Dr(Te(),ie))):Uu(()=>[Dr(Te(),A[0]),A[1]?Dr(Te(),A[1]):io(i.value.partialRange)],i.value.enabled):Dr(Te(),+A),k=(A,ie)=>(typeof A=="string"||typeof A=="number")&&e.modelType?be(A):ie,C=A=>Array.isArray(A)?[k(A[0],Hs(null,+A[0].hours,+A[0].minutes,A[0].seconds)),k(A[1],Hs(null,+A[1].hours,+A[1].minutes,A[1].seconds))]:k(A,Hs(null,A.hours,A.minutes,A.seconds)),g=A=>{const ie=xt(Te(),{date:1});return Array.isArray(A)?a.value.enabled?A.map(D=>k(D,is(ie,+D.month,+D.year))):Uu(()=>[k(A[0],is(ie,+A[0].month,+A[0].year)),k(A[1],A[1]?is(ie,+A[1].month,+A[1].year):io(i.value.partialRange))],i.value.enabled):k(A,is(ie,+A.month,+A.year))},P=A=>{if(Array.isArray(A))return A.map(ie=>be(ie));throw new Error(Vg.dateArr("multi-dates"))},w=A=>{if(Array.isArray(A)&&i.value.enabled){const ie=A[0],D=A[1];return[Te(Array.isArray(ie)?ie[0]:null),Te(Array.isArray(D)?D[0]:null)]}return Te(A[0])},b=A=>e.modelAuto?Array.isArray(A)?[be(A[0]),be(A[1])]:e.autoApply?[be(A)]:[be(A),null]:Array.isArray(A)?Uu(()=>A[1]?[be(A[0]),A[1]?be(A[1]):io(i.value.partialRange)]:[be(A[0])],i.value.enabled):be(A),I=()=>{Array.isArray(r.value)&&i.value.enabled&&r.value.length===1&&r.value.push(io(i.value.partialRange))},O=()=>{const A=r.value;return[de(A[0]),A[1]?de(A[1]):io(i.value.partialRange)]},U=()=>r.value[1]?O():de(sn(r.value[0])),K=()=>(r.value||[]).map(A=>de(A)),M=(A=!1)=>(A||I(),e.modelAuto?U():a.value.enabled?K():Array.isArray(r.value)?Uu(()=>O(),i.value.enabled):de(sn(r.value))),X=A=>!A||Array.isArray(A)&&!A.length?null:e.timePicker?C(sn(A)):e.monthPicker?g(sn(A)):e.yearPicker?R(sn(A)):a.value.enabled?P(sn(A)):e.weekPicker?w(sn(A)):b(sn(A)),ne=A=>{const ie=X(A);_p(sn(ie))?(r.value=sn(ie),te()):(r.value=null,u.value="")},L=()=>{const A=ie=>Br(ie,s.value.format);return`${A(r.value[0])} ${s.value.rangeSeparator} ${r.value[1]?A(r.value[1]):""}`},E=()=>n.value&&r.value?Array.isArray(r.value)?L():Br(r.value,s.value.format):p(r.value),Y=()=>r.value?a.value.enabled?r.value.map(A=>p(A)).join("; "):s.value.enabled&&typeof s.value.format=="string"?E():p(r.value):"",te=()=>{!e.format||typeof e.format=="string"||s.value.enabled&&typeof s.value.format=="string"?u.value=Y():u.value=e.format(r.value)},be=A=>{if(e.utc){const ie=new Date(A);return e.utc==="preserve"?new Date(ie.getTime()+ie.getTimezoneOffset()*6e4):ie}return e.modelType?MU.includes(e.modelType)?f(new Date(A)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(yp(A,l(),new Date,{locale:d.value})):f(yp(A,e.modelType,new Date,{locale:d.value})):f(new Date(A))},de=A=>A?e.utc?cU(A,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(A):e.modelType==="iso"?h(A).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(A)):p(h(A),e.modelType,!0):h(A):"",W=(A,ie=!1,D=!1)=>{if(D)return A;if(t("update:model-value",A),o.value.emitTimezone&&ie){const j=Array.isArray(A)?A.map(Ae=>us(sn(Ae),o.value.emitTimezone)):us(sn(A),o.value.emitTimezone);t("update:model-timezone-value",j)}},J=A=>Array.isArray(r.value)?a.value.enabled?r.value.map(ie=>A(ie)):[A(r.value[0]),r.value[1]?A(r.value[1]):io(i.value.partialRange)]:A(sn(r.value)),T=()=>{if(Array.isArray(r.value)){const A=es(r.value[0],e.weekStart),ie=r.value[1]?es(r.value[1],e.weekStart):[];return[A.map(D=>Te(D)),ie.map(D=>Te(D))]}return es(r.value,e.weekStart).map(A=>Te(A))},B=(A,ie)=>W(sn(J(A)),!1,ie),ce=A=>{const ie=T();return A?ie:t("update:model-value",T())},re=(A=!1)=>(te(),e.monthPicker?B(S,A):e.timePicker?B(y,A):e.yearPicker?B(Ze,A):e.weekPicker?ce(A):W(M(A),!0,A));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?i.value.enabled?i.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:ne,formatInputValue:te,emitModelValue:re}},VU=(t,e)=>{const{defaultedFilters:n,propDates:r}=$t(t),{validateMonthYearInRange:s}=ii(t),i=(c,d)=>{let f=c;return n.value.months.includes(it(f))?(f=d?dr(c,1):Xo(c,1),i(f,d)):f},o=(c,d)=>{let f=c;return n.value.years.includes(Ze(f))?(f=d?Tg(c,1):TA(c,1),o(f,d)):f},a=(c,d=!1)=>{const f=xt(Te(),{month:t.month,year:t.year});let h=c?dr(f,1):Xo(f,1);t.disableYearSelect&&(h=Dr(h,t.year));let p=it(h),y=Ze(h);n.value.months.includes(p)&&(h=i(h,c),p=it(h),y=Ze(h)),n.value.years.includes(y)&&(h=o(h,c),y=Ze(h)),s(p,y,c,t.preventMinMaxNavigation)&&l(p,y,d)},l=(c,d,f)=>{e("update-month-year",{month:c,year:d,fromNav:f})},u=ue(()=>c=>DA(xt(Te(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:a,isDisabled:u,updateMonthYear:l}};var co=(t=>(t.center="center",t.left="left",t.right="right",t))(co||{});const LU=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:s,emit:i,props:o,slots:a})=>{const l=le({}),u=le(!1),c=le({top:"0",left:"0"}),d=le(!1),f=nl(o,"teleportCenter");Ut(f,()=>{c.value=JSON.parse(JSON.stringify({})),g()});const h=L=>{if(o.teleport){const E=L.getBoundingClientRect();return{left:E.left+window.scrollX,top:E.top+window.scrollY}}return{top:0,left:0}},p=(L,E)=>{c.value.left=`${L+E-l.value.width}px`},y=L=>{c.value.left=`${L}px`},S=(L,E)=>{o.position===co.left&&y(L),o.position===co.right&&p(L,E),o.position===co.center&&(c.value.left=`${L+E/2-l.value.width/2}px`)},R=L=>{const{width:E,height:Y}=L.getBoundingClientRect(),{top:te,left:be}=o.altPosition?o.altPosition(L):h(L);return{top:+te,left:+be,width:E,height:Y}},k=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},C=()=>{const L=nn(n),{top:E,left:Y,transform:te}=o.altPosition(L);c.value={top:`${E}px`,left:`${Y}px`,transform:te??""}},g=(L=!0)=>{var E;if(!s.value.enabled){if(f.value)return k();if(o.altPosition!==null)return C();if(L){const Y=o.teleport?(E=e.value)==null?void 0:E.$el:t.value;Y&&(l.value=Y.getBoundingClientRect()),i("recalculate-position")}return K()}},P=({inputEl:L,left:E,width:Y})=>{window.screen.width>768&&!u.value&&S(E,Y),I(L)},w=L=>{const{top:E,left:Y,height:te,width:be}=R(L);c.value.top=`${te+E+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${Y+be/2-l.value.width/2}px`),P({inputEl:L,left:Y,width:be})},b=L=>{const{top:E,left:Y,width:te}=R(L);c.value.top=`${E-+o.offset-l.value.height}px`,d.value=!0,P({inputEl:L,left:Y,width:te})},I=L=>{if(o.autoPosition){const{left:E,width:Y}=R(L),{left:te,right:be}=l.value;if(!u.value){if(Math.abs(te)!==Math.abs(be)){if(te<=0)return u.value=!0,y(E);if(be>=document.documentElement.clientWidth)return u.value=!0,p(E,Y)}return S(E,Y)}}},O=()=>{const L=nn(n);if(L){const{height:E}=l.value,{top:Y,height:te}=L.getBoundingClientRect(),be=window.innerHeight-Y-te,de=Y;return E<=be?hi.bottom:E>be&&E<=de?hi.top:be>=de?hi.bottom:hi.top}return hi.bottom},U=L=>O()===hi.bottom?w(L):b(L),K=()=>{const L=nn(n);if(L)return o.autoPosition?U(L):w(L)},M=function(L){if(L){const E=L.scrollHeight>L.clientHeight,Y=window.getComputedStyle(L).overflowY.indexOf("hidden")!==-1;return E&&!Y}return!0},X=function(L){return!L||L===document.body||L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:M(L)?L:X(L.parentNode)},ne=L=>{if(L)switch(o.position){case co.left:return{left:0,transform:"translateX(0)"};case co.right:return{left:`${L.width}px`,transform:"translateX(-100%)"};default:return{left:`${L.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:g,getScrollableParent:X,shadowRender:(L,E)=>{var Y,te,be;const de=document.createElement("div"),W=(Y=nn(n))==null?void 0:Y.getBoundingClientRect();de.setAttribute("id","dp--temp-container");const J=(te=r.value)!=null&&te.clientWidth?r.value:document.body;J.append(de);const T=ne(W),B=Pr(L,{...E,shadow:!0,style:{opacity:0,position:"absolute",...T}},Object.fromEntries(Object.keys(a).filter(ce=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(ce)).map(ce=>[ce,a[ce]])));Rv(B,de),l.value=(be=B.el)==null?void 0:be.getBoundingClientRect(),Rv(null,de),J.removeChild(de)}}},bs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],$U=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],FU={all:()=>bs,monthYear:()=>bs.filter(t=>t.use.includes("month-year")),input:()=>$U,timePicker:()=>bs.filter(t=>t.use.includes("time")),action:()=>bs.filter(t=>t.use.includes("action")),calendar:()=>bs.filter(t=>t.use.includes("calendar")),menu:()=>bs.filter(t=>t.use.includes("menu")),shared:()=>bs.filter(t=>t.use.includes("shared")),yearMode:()=>bs.filter(t=>t.use.includes("year-mode"))},jn=(t,e,n)=>{const r=[];return FU[e]().forEach(s=>{t[s.name]&&r.push(s.name)}),n!=null&&n.length&&n.forEach(s=>{s.slot&&r.push(s.slot)}),r},cu=t=>{const e=ue(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ue(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},du=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=$t(t),s=Te(us(Te(),r.value.timezone)),i=le([{month:it(s),year:Ze(s)}]),o=en({hours:n.value.enabled?[fr(s),fr(s)]:fr(s),minutes:n.value.enabled?[jr(s),jr(s)]:jr(s),seconds:n.value.enabled?[0,0]:0}),a=ue({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",c)}}),l=ue(()=>c=>i.value[c]?i.value[c].month:0),u=ue(()=>c=>i.value[c]?i.value[c].year:0);return{calendars:i,time:o,modelValue:a,month:l,year:u}},UU=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:s,defaultedTz:i,propDates:o,defaultedRange:a}=$t(e),{isDisabled:l}=ii(e),u=le(null),c=le(us(new Date,i.value.timezone)),d=T=>{!T.current&&e.hideOffsetDates||(u.value=T.value)},f=()=>{u.value=null},h=T=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&u.value?T?qt(u.value,t.value[0]):Ft(u.value,t.value[0]):!0,p=(T,B)=>{const ce=()=>t.value?B?t.value[0]||null:t.value[1]:null,re=t.value&&Array.isArray(t.value)?ce():null;return rt(Te(T.value),re)},y=T=>{const B=Array.isArray(t.value)?t.value[0]:null;return T?!Ft(u.value??null,B):!0},S=(T,B=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!T.current?!1:rt(Te(T.value),t.value[B?0:1]):a.value.enabled?p(T,B)&&y(B)||rt(T.value,Array.isArray(t.value)?t.value[0]:null)&&h(B):!1,R=(T,B)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const ce=rt(T.value,u.value);return B?qt(t.value[0],T.value)&&ce:Ft(t.value[0],T.value)&&ce}return!1},k=T=>!t.value||e.hideOffsetDates&&!T.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?rt(T.value,t.value[0]?t.value[0]:c.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(B=>rt(B,T.value)):rt(T.value,t.value?t.value:c.value),C=T=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!T.current)return!1;const B=or(u.value,+a.value.autoRange),ce=es(Te(u.value),e.weekStart);return e.weekPicker?rt(ce[1],Te(T.value)):rt(B,Te(T.value))}return!1}return!1},g=T=>{if(a.value.autoRange||e.weekPicker){if(u.value){const B=or(u.value,+a.value.autoRange);if(e.hideOffsetDates&&!T.current)return!1;const ce=es(Te(u.value),e.weekStart);return e.weekPicker?qt(T.value,ce[0])&&Ft(T.value,ce[1]):qt(T.value,u.value)&&Ft(T.value,B)}return!1}return!1},P=T=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!T.current)return!1;const B=es(Te(u.value),e.weekStart);return e.weekPicker?rt(B[0],T.value):rt(u.value,T.value)}return!1}return!1},w=T=>sf(t.value,u.value,T.value),b=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,I=()=>e.modelAuto?SA(e.internalModelValue):!0,O=T=>{if(e.weekPicker)return!1;const B=a.value.enabled?!S(T)&&!S(T,!1):!0;return!l(T.value)&&!k(T)&&!(!T.current&&e.hideOffsetDates)&&B},U=T=>a.value.enabled?e.modelAuto?b()&&k(T):!1:k(T),K=T=>s.value?lU(T.value,o.value.highlight):!1,M=T=>{const B=l(T.value);return B&&(typeof s.value=="function"?!s.value(T.value,B):!s.value.options.highlightDisabled)},X=T=>{var B;return typeof s.value=="function"?s.value(T.value):(B=s.value.weekdays)==null?void 0:B.includes(T.value.getDay())},ne=T=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||T.current)&&I()&&!(!T.current&&e.hideOffsetDates)&&!k(T)?w(T):!1,L=T=>{const{isRangeStart:B,isRangeEnd:ce}=be(T),re=a.value.enabled?B||ce:!1;return{dp__cell_offset:!T.current,dp__pointer:!e.disabled&&!(!T.current&&e.hideOffsetDates)&&!l(T.value),dp__cell_disabled:l(T.value),dp__cell_highlight:!M(T)&&(K(T)||X(T))&&!U(T)&&!re&&!P(T)&&!(ne(T)&&e.weekPicker)&&!ce,dp__cell_highlight_active:!M(T)&&(K(T)||X(T))&&U(T),dp__today:!e.noToday&&rt(T.value,c.value)&&T.current,"dp--past":Ft(T.value,c.value),"dp--future":qt(T.value,c.value)}},E=T=>({dp__active_date:U(T),dp__date_hover:O(T)}),Y=T=>{if(t.value&&!Array.isArray(t.value)){const B=es(t.value,e.weekStart);return{...W(T),dp__range_start:rt(B[0],T.value),dp__range_end:rt(B[1],T.value),dp__range_between_week:qt(T.value,B[0])&&Ft(T.value,B[1])}}return{...W(T)}},te=T=>{if(t.value&&Array.isArray(t.value)){const B=es(t.value[0],e.weekStart),ce=t.value[1]?es(t.value[1],e.weekStart):[];return{...W(T),dp__range_start:rt(B[0],T.value)||rt(ce[0],T.value),dp__range_end:rt(B[1],T.value)||rt(ce[1],T.value),dp__range_between_week:qt(T.value,B[0])&&Ft(T.value,B[1])||qt(T.value,ce[0])&&Ft(T.value,ce[1]),dp__range_between:qt(T.value,B[1])&&Ft(T.value,ce[0])}}return{...W(T)}},be=T=>{const B=n.value.count>0?T.current&&S(T)&&I():S(T)&&I(),ce=n.value.count>0?T.current&&S(T,!1)&&I():S(T,!1)&&I();return{isRangeStart:B,isRangeEnd:ce}},de=T=>{const{isRangeStart:B,isRangeEnd:ce}=be(T);return{dp__range_start:B,dp__range_end:ce,dp__range_between:ne(T),dp__date_hover:rt(T.value,u.value)&&!B&&!ce&&!e.weekPicker,dp__date_hover_start:R(T,!0),dp__date_hover_end:R(T,!1)}},W=T=>({...de(T),dp__cell_auto_range:g(T),dp__cell_auto_range_start:P(T),dp__cell_auto_range_end:C(T)}),J=T=>a.value.enabled?a.value.autoRange?W(T):e.modelAuto?{...E(T),...de(T)}:e.weekPicker?te(T):de(T):e.weekPicker?Y(T):E(T);return{setHoverDate:d,clearHoverDate:f,getDayClassData:T=>e.hideOffsetDates&&!T.current?{}:{...L(T),...J(T),[e.dayClass?e.dayClass(T.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},ii=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:s}=$t(t),i=M=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(Te(M)):!!jc(M,r.value.disabledDates):!1,o=M=>{const X=r.value.maxDate?qt(M,r.value.maxDate):!1,ne=r.value.minDate?Ft(M,r.value.minDate):!1,L=i(M),E=e.value.months.map(W=>+W).includes(it(M)),Y=t.disabledWeekDays.length?t.disabledWeekDays.some(W=>+W===e6(M)):!1,te=d(M),be=Ze(M),de=be<+t.yearRange[0]||be>+t.yearRange[1];return!(X||ne||L||E||de||Y||te)},a=(M,X)=>Ft(...Ms(r.value.minDate,M,X))||rt(...Ms(r.value.minDate,M,X)),l=(M,X)=>qt(...Ms(r.value.maxDate,M,X))||rt(...Ms(r.value.maxDate,M,X)),u=(M,X,ne)=>{let L=!1;return r.value.maxDate&&ne&&l(M,X)&&(L=!0),r.value.minDate&&!ne&&a(M,X)&&(L=!0),L},c=(M,X,ne,L)=>{let E=!1;return L?r.value.minDate&&r.value.maxDate?E=u(M,X,ne):(r.value.minDate&&a(M,X)||r.value.maxDate&&l(M,X))&&(E=!0):E=!0,E},d=M=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!jc(M,r.value.allowedDates):!1,f=M=>!o(M),h=M=>n.value.noDisabledRange?!uA({start:M[0],end:M[1]}).some(X=>f(X)):!0,p=M=>{if(M){const X=Ze(M);return X>=+t.yearRange[0]&&X<=t.yearRange[1]}return!0},y=(M,X)=>!!(Array.isArray(M)&&M[X]&&(n.value.maxRange||n.value.minRange)&&p(M[X])),S=(M,X,ne=0)=>{if(y(X,ne)&&p(M)){const L=aA(M,X[ne]),E=RA(X[ne],M),Y=E.length===1?0:E.filter(be=>f(be)).length,te=Math.abs(L)-(n.value.minMaxRawRange?0:Y);if(n.value.minRange&&n.value.maxRange)return te>=+n.value.minRange&&te<=+n.value.maxRange;if(n.value.minRange)return te>=+n.value.minRange;if(n.value.maxRange)return te<=+n.value.maxRange}return!0},R=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,k=M=>Array.isArray(M)?[M[0]?rh(M[0]):null,M[1]?rh(M[1]):null]:rh(M),C=(M,X,ne)=>M.find(L=>+L.hours===fr(X)&&L.minutes==="*"?!0:+L.minutes===jr(X)&&+L.hours===fr(X))&&ne,g=(M,X,ne)=>{const[L,E]=M,[Y,te]=X;return!C(L,Y,ne)&&!C(E,te,ne)&&ne},P=(M,X)=>{const ne=Array.isArray(X)?X:[X];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?g(t.disabledTimes,ne,M):!ne.some(L=>C(t.disabledTimes,L,M)):M},w=(M,X)=>{const ne=Array.isArray(X)?[Oi(X[0]),X[1]?Oi(X[1]):void 0]:Oi(X),L=!t.disabledTimes(ne);return M&&L},b=(M,X)=>t.disabledTimes?Array.isArray(t.disabledTimes)?P(X,M):w(X,M):X,I=M=>{let X=!0;if(!M||R())return!0;const ne=!r.value.minDate&&!r.value.maxDate?k(M):M;return(t.maxTime||r.value.maxDate)&&(X=m0(t.maxTime,r.value.maxDate,"max",sn(ne),X)),(t.minTime||r.value.minDate)&&(X=m0(t.minTime,r.value.minDate,"min",sn(ne),X)),b(M,X)},O=M=>{if(!t.monthPicker)return!0;let X=!0;const ne=Te(ar(M));if(r.value.minDate&&r.value.maxDate){const L=Te(ar(r.value.minDate)),E=Te(ar(r.value.maxDate));return qt(ne,L)&&Ft(ne,E)||rt(ne,L)||rt(ne,E)}if(r.value.minDate){const L=Te(ar(r.value.minDate));X=qt(ne,L)||rt(ne,L)}if(r.value.maxDate){const L=Te(ar(r.value.maxDate));X=Ft(ne,L)||rt(ne,L)}return X},U=ue(()=>M=>!t.enableTimePicker||t.ignoreTimeValidation?!0:I(M)),K=ue(()=>M=>t.monthPicker?Array.isArray(M)&&(n.value.enabled||s.value.enabled)?!M.filter(X=>!O(X)).length:O(M):!0);return{isDisabled:f,validateDate:o,validateMonthYearInRange:c,isDateRangeAllowed:h,checkMinMaxRange:S,isValidTime:I,isTimeValid:U,isMonthValid:K}},of=()=>{const t=ue(()=>(r,s)=>r==null?void 0:r.includes(s)),e=ue(()=>(r,s)=>r.count?r.solo?!0:s===0:!0),n=ue(()=>(r,s)=>r.count?r.solo?!0:s===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},BU=(t,e,n)=>{const r=le(0),s=en({[Mi.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Mi.calendar]:!1,[Mi.header]:!1}),i=ue(()=>t.monthPicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&i.value)return c();s[d]=!0,Object.keys(s).filter(h=>!s[h]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,f,...h)=>{var p,y;t.flow[r.value]===d&&n.value&&((y=(p=n.value)[f])==null||y.call(p,...h))},c=()=>{u(wr.month,"toggleMonthPicker",!0),u(wr.year,"toggleYearPicker",!0),u(wr.calendar,"toggleTimePicker",!1,!0),u(wr.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===wr.hours||d===wr.minutes||d===wr.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},af={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null}},vr={...af,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},jU={key:1,class:"dp__input_wrap"},HU=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],qU={key:2,class:"dp__clear_icon"},WU=nt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...af},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,s=t,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:f}=$t(s),{checkMinMaxRange:h}=ii(s),p=le(),y=le(null),S=le(!1),R=le(!1),k=ue(()=>({dp__pointer:!s.disabled&&!s.readonly&&!i.value.enabled,dp__disabled:s.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!s.hideInputIcon,dp__input_valid:!!s.state,dp__input_invalid:s.state===!1,dp__input_focus:S.value||s.isMenuOpen,dp__input_reg:!i.value.enabled,[s.inputClassName]:!!s.inputClassName})),C=()=>{r("set-input-date",null),s.clearable&&s.autoApply&&(r("set-empty-date"),p.value=null)},g=E=>{const Y=f();return uU(E,i.value.format??d(),Y??kA({},s.enableSeconds),s.inputValue,R.value,s.formatLocale)},P=E=>{const{rangeSeparator:Y}=i.value,[te,be]=E.split(`${Y}`);if(te){const de=g(te.trim()),W=be?g(be.trim()):null,J=de&&W?[de,W]:[de];h(W,J,0)&&(p.value=de?J:null)}},w=()=>{R.value=!0},b=E=>{if(u.value.enabled)P(E);else if(c.value.enabled){const Y=E.split(";");p.value=Y.map(te=>g(te.trim())).filter(te=>te)}else p.value=g(E)},I=E=>{var Y;const te=typeof E=="string"?E:(Y=E.target)==null?void 0:Y.value;te!==""?(i.value.openMenu&&!s.isMenuOpen&&r("open"),b(te),r("set-input-date",p.value)):C(),R.value=!1,r("update:input-value",te)},O=E=>{i.value.enabled?(b(E.target.value),i.value.enterSubmit&&_p(p.value)&&s.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):i.value.enterSubmit&&s.inputValue===""&&(p.value=null,r("clear"))):M(E)},U=E=>{i.value.enabled&&i.value.tabSubmit&&b(E.target.value),i.value.tabSubmit&&_p(p.value)&&s.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):i.value.tabSubmit&&s.inputValue===""&&(p.value=null,r("clear",!0))},K=()=>{S.value=!0,r("focus"),St().then(()=>{var E;i.value.enabled&&i.value.selectOnFocus&&((E=y.value)==null||E.select())})},M=E=>{E.preventDefault(),js(E,l.value,!0),i.value.enabled&&i.value.openMenu&&!a.value.input&&!s.isMenuOpen?r("open"):i.value.enabled||r("toggle")},X=()=>{r("real-blur"),S.value=!1,(!s.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),s.autoApply&&i.value.enabled&&p.value&&!s.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},ne=E=>{js(E,l.value,!0),r("clear")},L=E=>{if(!i.value.enabled){if(E.code==="Tab")return;E.preventDefault()}};return e({focusInput:()=>{var E;(E=y.value)==null||E.focus({preventScroll:!0})},setParsedDate:E=>{p.value=E}}),(E,Y)=>{var te;return V(),z("div",{onClick:M},[E.$slots.trigger&&!E.$slots["dp-input"]&&!m(a).enabled?De(E.$slots,"trigger",{key:0}):oe("",!0),!E.$slots.trigger&&(!m(a).enabled||m(a).input)?(V(),z("div",jU,[E.$slots["dp-input"]&&!E.$slots.trigger&&(!m(a).enabled||m(a).enabled&&m(a).input)?De(E.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:I,onEnter:O,onTab:U,onClear:ne,onBlur:X,onKeypress:L,onPaste:w,openMenu:()=>E.$emit("open"),closeMenu:()=>E.$emit("close"),toggleMenu:()=>E.$emit("toggle")}):oe("",!0),E.$slots["dp-input"]?oe("",!0):(V(),z("input",{key:1,id:E.uid?`dp-input-${E.uid}`:void 0,ref_key:"inputRef",ref:y,name:E.name,class:Ve(k.value),inputmode:m(i).enabled?"text":"none",placeholder:E.placeholder,disabled:E.disabled,readonly:E.readonly,required:E.required,value:t.inputValue,autocomplete:E.autocomplete,"aria-label":(te=m(o))==null?void 0:te.input,"aria-disabled":E.disabled||void 0,"aria-invalid":E.state===!1?!0:void 0,onInput:I,onKeydown:[Xe(O,["enter"]),Xe(U,["tab"]),L],onBlur:X,onFocus:K,onKeypress:L,onPaste:w},null,42,HU)),x("div",{onClick:Y[2]||(Y[2]=be=>r("toggle"))},[E.$slots["input-icon"]&&!E.hideInputIcon?(V(),z("span",{key:0,class:"dp__input_icon",onClick:Y[0]||(Y[0]=be=>r("toggle"))},[De(E.$slots,"input-icon")])):oe("",!0),!E.$slots["input-icon"]&&!E.hideInputIcon&&!E.$slots["dp-input"]?(V(),Ue(m(da),{key:1,class:"dp__input_icon dp__input_icons",onClick:Y[1]||(Y[1]=be=>r("toggle"))})):oe("",!0)]),E.$slots["clear-icon"]&&t.inputValue&&E.clearable&&!E.disabled&&!E.readonly?(V(),z("span",qU,[De(E.$slots,"clear-icon",{clear:ne})])):oe("",!0),E.clearable&&!E.$slots["clear-icon"]&&t.inputValue&&!E.disabled&&!E.readonly?(V(),Ue(m(EA),{key:3,class:"dp__clear_icon dp__input_icons",onClick:Y[3]||(Y[3]=vt(be=>ne(be),["prevent"]))})):oe("",!0)])):oe("",!0)])}}}),zU=["title"],GU=["disabled"],YU=nt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...vr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:s,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=$t(r),{isTimeValid:f,isMonthValid:h}=ii(r),{buildMatrix:p}=si(),y=le(null),S=le(null),R=le(!1),k=le({}),C=le(null),g=le(null);Ot(()=>{r.arrowNavigation&&p([nn(y),nn(S)],"actionRow"),P(),window.addEventListener("resize",P)}),Wi(()=>{window.removeEventListener("resize",P)});const P=()=>{R.value=!1,setTimeout(()=>{var L,E;const Y=(L=C.value)==null?void 0:L.getBoundingClientRect(),te=(E=g.value)==null?void 0:E.getBoundingClientRect();Y&&te&&(k.value.maxWidth=`${te.width-Y.width-20}px`),R.value=!0},0)},w=ue(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=ue(()=>!f.value(r.internalModelValue)||!h.value(r.internalModelValue)||!w.value),I=()=>{const L=i.value;return r.timePicker||r.monthPicker,L(sn(r.internalModelValue))},O=()=>{const L=r.internalModelValue;return o.value.count>0?`${U(L[0])} - ${U(L[1])}`:[U(L[0]),U(L[1])]},U=L=>OA(L,i.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),K=ue(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?O():c.value.enabled?r.internalModelValue.map(L=>`${U(L)}`):r.modelAuto?`${U(r.internalModelValue[0])}`:`${U(r.internalModelValue[0])} -`:U(r.internalModelValue):I()),M=()=>c.value.enabled?"; ":" - ",X=ue(()=>Array.isArray(K.value)?K.value.join(M()):K.value),ne=()=>{f.value(r.internalModelValue)&&h.value(r.internalModelValue)&&w.value?n("select-date"):n("invalid-select")};return(L,E)=>(V(),z("div",{ref_key:"actionRowRef",ref:g,class:"dp__action_row"},[L.$slots["action-row"]?De(L.$slots,"action-row",Xt(Wt({key:0},{internalModelValue:L.internalModelValue,disabled:b.value,selectDate:()=>L.$emit("select-date"),closePicker:()=>L.$emit("close-picker")}))):(V(),z(Oe,{key:1},[m(s).showPreview?(V(),z("div",{key:0,class:"dp__selection_preview",title:X.value,style:xn(k.value)},[L.$slots["action-preview"]&&R.value?De(L.$slots,"action-preview",{key:0,value:L.internalModelValue}):oe("",!0),!L.$slots["action-preview"]&&R.value?(V(),z(Oe,{key:1},[Tt(Le(X.value),1)],64)):oe("",!0)],12,zU)):oe("",!0),x("div",{ref_key:"actionBtnContainer",ref:C,class:"dp__action_buttons","data-dp-element":"action-row"},[L.$slots["action-buttons"]?De(L.$slots,"action-buttons",{key:0,value:L.internalModelValue}):oe("",!0),L.$slots["action-buttons"]?oe("",!0):(V(),z(Oe,{key:1},[!m(l).enabled&&m(s).showCancel?(V(),z("button",{key:0,ref_key:"cancelButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_cancel",onClick:E[0]||(E[0]=Y=>L.$emit("close-picker")),onKeydown:[E[1]||(E[1]=Xe(Y=>L.$emit("close-picker"),["enter"])),E[2]||(E[2]=Xe(Y=>L.$emit("close-picker"),["space"]))]},Le(L.cancelText),545)):oe("",!0),m(s).showNow?(V(),z("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:E[3]||(E[3]=Y=>L.$emit("select-now")),onKeydown:[E[4]||(E[4]=Xe(Y=>L.$emit("select-now"),["enter"])),E[5]||(E[5]=Xe(Y=>L.$emit("select-now"),["space"]))]},Le(L.nowButtonLabel),33)):oe("",!0),m(s).showSelect?(V(),z("button",{key:2,ref_key:"selectButtonRef",ref:S,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[Xe(ne,["enter"]),Xe(ne,["space"])],onClick:ne},Le(L.selectText),41,GU)):oe("",!0)],64))],512)],64))],512))}}),KU=["onKeydown"],QU={class:"dp__selection_grid_header"},XU=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],JU=["aria-label"],fu=nt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:s,setMonthPicker:i}=si(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=$t(a),{hideNavigationButtons:d}=of(),f=le(!1),h=le(null),p=le(null),y=le([]),S=le(),R=le(null),k=le(0),C=le(null);ib(()=>{h.value=null}),Ot(()=>{St().then(()=>K()),a.noOverlayFocus||P(),g(!0)}),Wi(()=>g(!1));const g=de=>{var W;a.arrowNavigation&&((W=a.headerRefs)!=null&&W.length?i(de):r(de))},P=()=>{var de;const W=nn(p);W&&(u.value.enabled||(h.value?(de=h.value)==null||de.focus({preventScroll:!0}):W.focus({preventScroll:!0})),f.value=W.clientHeight<W.scrollHeight)},w=ue(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),b=ue(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=ue(()=>({dp__overlay_col:!0})),O=ue(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),U=ue(()=>{var de,W;return{dp__overlay_container:!0,dp__container_flex:((de=a.items)==null?void 0:de.length)<=6,dp__container_block:((W=a.items)==null?void 0:W.length)>6}});Ut(()=>a.items,()=>K(!1),{deep:!0});const K=(de=!0)=>{St().then(()=>{const W=nn(h),J=nn(p),T=nn(R),B=nn(C),ce=T?T.getBoundingClientRect().height:0;J&&(J.getBoundingClientRect().height?k.value=J.getBoundingClientRect().height-ce:k.value=c.value.modeHeight-ce),W&&B&&de&&(B.scrollTop=W.offsetTop-B.offsetTop-(k.value/2-W.getBoundingClientRect().height)-ce)})},M=de=>{de.disabled||o("selected",de.value)},X=()=>{o("toggle"),o("reset-flow")},ne=()=>{a.escClose&&X()},L=(de,W,J,T)=>{de&&((W.active||W.value===a.focusValue)&&(h.value=de),a.arrowNavigation&&(Array.isArray(y.value[J])?y.value[J][T]=de:y.value[J]=[de],E()))},E=()=>{var de,W;const J=(de=a.headerRefs)!=null&&de.length?[a.headerRefs].concat(y.value):y.value.concat([a.skipButtonRef?[]:[R.value]]);s(sn(J),(W=a.headerRefs)!=null&&W.length?"monthPicker":"selectionGrid")},Y=de=>{a.arrowNavigation||js(de,c.value,!0)},te=de=>{S.value=de,o("hover-value",de)},be=()=>{if(X(),!a.isLast){const de=aU(a.menuWrapRef??null,"action-row");if(de){const W=xA(de);W==null||W.focus()}}};return e({focusGrid:P}),(de,W)=>{var J;return V(),z("div",{ref_key:"gridWrapRef",ref:p,class:Ve(w.value),style:xn(b.value),role:"dialog",tabindex:"0",onKeydown:[Xe(vt(ne,["prevent"]),["esc"]),W[0]||(W[0]=Xe(vt(T=>Y(T),["prevent"]),["left"])),W[1]||(W[1]=Xe(vt(T=>Y(T),["prevent"]),["up"])),W[2]||(W[2]=Xe(vt(T=>Y(T),["prevent"]),["down"])),W[3]||(W[3]=Xe(vt(T=>Y(T),["prevent"]),["right"]))]},[x("div",{ref_key:"containerRef",ref:C,class:Ve(U.value),role:"grid",style:xn({height:`${k.value}px`})},[x("div",QU,[De(de.$slots,"header")]),de.$slots.overlay?De(de.$slots,"overlay",{key:0}):(V(!0),z(Oe,{key:1},ct(de.items,(T,B)=>(V(),z("div",{key:B,class:Ve(["dp__overlay_row",{dp__flex_row:de.items.length>=3}]),role:"row"},[(V(!0),z(Oe,null,ct(T,(ce,re)=>(V(),z("div",{key:ce.value,ref_for:!0,ref:A=>L(A,ce,B,re),role:"gridcell",class:Ve(I.value),"aria-selected":ce.active||void 0,"aria-disabled":ce.disabled||void 0,tabindex:"0",onClick:A=>M(ce),onKeydown:[Xe(vt(A=>M(ce),["prevent"]),["enter"]),Xe(vt(A=>M(ce),["prevent"]),["space"])],onMouseover:A=>te(ce.value)},[x("div",{class:Ve(ce.className)},[de.$slots.item?De(de.$slots,"item",{key:0,item:ce}):oe("",!0),de.$slots.item?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(ce.text),1)],64))],2)],42,XU))),128))],2))),128))],6),de.$slots["button-icon"]?ut((V(),z("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(J=m(l))==null?void 0:J.toggleOverlay,class:Ve(O.value),tabindex:"0",onClick:X,onKeydown:[Xe(X,["enter"]),Xe(be,["tab"])]},[De(de.$slots,"button-icon")],42,JU)),[[$a,!m(d)(de.hideNavigation,de.type)]]):oe("",!0)],46,KU)}}}),lf=nt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ue(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ue(()=>({dp__instance_calendar:e.multiCalendars>0}));return(s,i)=>(V(),z("div",{class:Ve({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0,"dp--flex-display-collapsed":s.collapse})},[(V(!0),z(Oe,null,ct(n.value,(o,a)=>(V(),z("div",{key:o,class:Ve(r.value)},[De(s.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),ZU=["aria-label","aria-disabled"],Za=nt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=le(null);return Ot(()=>n("set-ref",r)),(s,i)=>(V(),z("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":s.ariaLabel,"aria-disabled":s.disabled||void 0,onClick:i[0]||(i[0]=o=>s.$emit("activate")),onKeydown:[i[1]||(i[1]=Xe(vt(o=>s.$emit("activate"),["prevent"]),["enter"])),i[2]||(i[2]=Xe(vt(o=>s.$emit("activate"),["prevent"]),["space"]))]},[x("span",{class:Ve(["dp__inner_nav",{dp__inner_nav_disabled:s.disabled}])},[De(s.$slots,"default")],2)],40,ZU))}}),eB={class:"dp--year-mode-picker"},tB=["aria-label"],LA=nt({__name:"YearModePicker",props:{...vr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:s,showLeftIcon:i}=of(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=$t(r),{showTransition:c,transitionName:d}=cu(u),f=(y=!1,S)=>{n("toggle-year-picker",{flow:y,show:S})},h=y=>{n("year-select",y)},p=(y=!1)=>{n("handle-year",y)};return(y,S)=>{var R,k,C;return V(),z("div",eB,[m(i)(m(a),t.instance)?(V(),Ue(Za,{key:0,ref:"mpPrevIconRef","aria-label":(R=m(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:S[0]||(S[0]=g=>p(!1))},{default:Fe(()=>[y.$slots["arrow-left"]?De(y.$slots,"arrow-left",{key:0}):oe("",!0),y.$slots["arrow-left"]?oe("",!0):(V(),Ue(m(Rg),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),x("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(k=m(l))==null?void 0:k.openYearsOverlay,onClick:S[1]||(S[1]=()=>f(!1)),onKeydown:S[2]||(S[2]=Xe(()=>f(!1),["enter"]))},[y.$slots.year?De(y.$slots,"year",{key:0,year:t.year}):oe("",!0),y.$slots.year?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(t.year),1)],64))],40,tB),m(s)(m(a),t.instance)?(V(),Ue(Za,{key:1,ref:"mpNextIconRef","aria-label":(C=m(l))==null?void 0:C.nextYear,disabled:t.isDisabled(!0),onActivate:S[3]||(S[3]=g=>p(!0))},{default:Fe(()=>[y.$slots["arrow-right"]?De(y.$slots,"arrow-right",{key:0}):oe("",!0),y.$slots["arrow-right"]?oe("",!0):(V(),Ue(m(kg),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),qe(Qs,{name:m(d)(t.showYearPicker),css:m(c)},{default:Fe(()=>[t.showYearPicker?(V(),Ue(fu,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!m(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,type:"year",onToggle:f,onSelected:S[4]||(S[4]=g=>h(g))},Dn({"button-icon":Fe(()=>[y.$slots["calendar-icon"]?De(y.$slots,"calendar-icon",{key:0}):oe("",!0),y.$slots["calendar-icon"]?oe("",!0):(V(),Ue(m(da),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:g})=>[De(y.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):oe("",!0)]),_:3},8,["name","css"])])}}}),Fg=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>rt(t,r))){const r=e.value.filter(s=>!rt(s,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Ug=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Ft(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},uf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},$A=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>us(Te(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=us(Te(t.value),t.timezone))},FA=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(qt(t,e.value[0])||rt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Ft(t,e.value[1])||rt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],UA=({multiCalendars:t,highlight:e,propDates:n,calendars:r,modelValue:s,props:i,filters:o,year:a,month:l,emit:u})=>{const c=ue(()=>Ng(i.yearRange,i.locale,i.reverseYears)),d=le([!1]),f=ue(()=>(w,b)=>{const I=xt(ar(new Date),{month:l.value(w),year:a.value(w)});return DA(I,n.value.maxDate,n.value.minDate,i.preventMinMaxNavigation,b)}),h=()=>{for(let w=0;w<t.value.count;w++)if(w===0)r.value[w]=r.value[0];else{const b=xt(Te(),r.value[w-1]);r.value[w]={month:it(b),year:Ze(Tg(b,1))}}},p=w=>{if(!w)return h();const b=xt(Te(),r.value[w]);return r.value[0].year=Ze(TA(b,t.value.count-1)),h()},y=w=>i.focusStartDate?w[0]:w[1]?w[1]:w[0],S=()=>{if(s.value){const w=Array.isArray(s.value)?y(s.value):s.value;r.value[0]={month:it(w),year:Ze(w)}}};Ot(()=>{S(),t.value.count&&h()});const R=(w,b)=>{r.value[b].year=w,t.value.count&&!t.value.solo&&p(b)},k=ue(()=>w=>Jo(c.value,b=>{var I;const O=a.value(w)===b.value,U=Nl(b.value,Zo(n.value.minDate),Zo(n.value.maxDate))||((I=o.value.years)==null?void 0:I.includes(a.value(w))),K=$g(e.value,b.value);return{active:O,disabled:U,highlighted:K}})),C=(w,b)=>{R(w,b),P(b)},g=(w,b=!1)=>{if(!f.value(w,b)){const I=b?a.value(w)+1:a.value(w)-1;R(I,w)}},P=(w,b=!1,I)=>{b||u("reset-flow"),I!==void 0?d.value[w]=I:d.value[w]=!d.value[w],d.value||u("overlay-closed")};return{isDisabled:f,groupedYears:k,showYearPicker:d,selectYear:R,toggleYearPicker:P,handleYearSelect:C,handleYear:g}},nB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,defaultedRange:o,defaultedHighlight:a,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=$t(t),{modelValue:f,year:h,month:p,calendars:y}=du(t,e),S=ue(()=>AA(t.formatLocale,t.locale,t.monthNameFormat)),R=le(null),{checkMinMaxRange:k}=ii(t),{selectYear:C,groupedYears:g,showYearPicker:P,toggleYearPicker:w,handleYearSelect:b,handleYear:I,isDisabled:O}=UA({modelValue:f,multiCalendars:n,highlight:a,calendars:y,year:h,propDates:l,month:p,filters:c,props:t,emit:e});Ot(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&C(Ze(Te(t.startDate)),0)});const U=T=>T?{month:it(T),year:Ze(T)}:{month:null,year:null},K=()=>f.value?Array.isArray(f.value)?f.value.map(T=>U(T)):U(f.value):U(),M=(T,B)=>{const ce=y.value[T],re=K();return Array.isArray(re)?re.some(A=>A.year===(ce==null?void 0:ce.year)&&A.month===B):(ce==null?void 0:ce.year)===re.year&&B===re.month},X=(T,B,ce)=>{var re,A;const ie=K();return Array.isArray(ie)?h.value(B)===((re=ie[ce])==null?void 0:re.year)&&T===((A=ie[ce])==null?void 0:A.month):!1},ne=(T,B)=>{if(o.value.enabled){const ce=K();if(Array.isArray(f.value)&&Array.isArray(ce)){const re=X(T,B,0)||X(T,B,1),A=is(ar(Te()),T,h.value(B));return sf(f.value,R.value,A)&&!re}return!1}return!1},L=ue(()=>T=>Jo(S.value,B=>{var ce;const re=M(T,B.value),A=Nl(B.value,CA(h.value(T),l.value.minDate),PA(h.value(T),l.value.maxDate))||mU(l.value.disabledDates,h.value(T)).includes(B.value)||((ce=c.value.months)==null?void 0:ce.includes(B.value)),ie=ne(B.value,T),D=MA(a.value,B.value,h.value(T));return{active:re,disabled:A,isBetween:ie,highlighted:D}})),E=(T,B)=>is(ar(Te()),T,h.value(B)),Y=(T,B)=>{const ce=f.value?f.value:ar(new Date);f.value=is(ce,T,h.value(B)),e("auto-apply"),e("update-flow-step")},te=(T,B)=>{const ce=E(T,B);o.value.fixedEnd||o.value.fixedStart?f.value=FA(ce,f,e,o):f.value?k(ce,f.value)&&(f.value=Ug(f,E(T,B),e)):f.value=[E(T,B)],St().then(()=>{uf(f.value,e,t.autoApply,t.modelAuto)})},be=(T,B)=>{Fg(E(T,B),f,d.value.limit),e("auto-apply",!0)},de=(T,B)=>(y.value[B].month=T,J(B,y.value[B].year,T),d.value.enabled?be(T,B):o.value.enabled?te(T,B):Y(T,B)),W=(T,B)=>{C(T,B),J(B,T,null)},J=(T,B,ce)=>{let re=ce;if(!re&&re!==0){const A=K();re=Array.isArray(A)?A[T].month:A.month}e("update-month-year",{instance:T,year:B,month:re})};return{groupedMonths:L,groupedYears:g,year:h,isDisabled:O,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,showYearPicker:P,modelValue:f,presetDate:(T,B)=>{$A({value:T,modelValue:f,range:o.value.enabled,timezone:B?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(T,B)=>{R.value=E(T,B)},selectMonth:de,selectYear:W,toggleYearPicker:w,handleYearSelect:b,handleYear:I,getModelMonthYear:K}},rB=nt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...vr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:e,emit:n}){const r=n,s=zi(),i=jn(s,"yearMode"),o=t;Ot(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:y,setHoverDate:S,selectMonth:R,selectYear:k,toggleYearPicker:C,handleYearSelect:g,handleYear:P,getModelMonthYear:w}=nB(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:w,selectMonth:R,selectYear:k,handleYear:P}),presetDate:y,toggleYearPicker:b=>C(0,b)}),(b,I)=>(V(),Ue(lf,{"multi-calendars":m(d).count,collapse:b.collapse,stretch:""},{default:Fe(({instance:O})=>[b.$slots["top-extra"]?De(b.$slots,"top-extra",{key:0,value:b.internalModelValue}):oe("",!0),b.$slots["month-year"]?De(b.$slots,"month-year",Xt(Wt({key:1},{year:m(u),months:m(a)(O),years:m(l)(O),selectMonth:m(R),selectYear:m(k),instance:O}))):(V(),Ue(fu,{key:2,items:m(a)(O),"arrow-navigation":b.arrowNavigation,"is-last":b.autoApply&&!m(f).keepActionRow,"esc-close":b.escClose,height:m(f).modeHeight,config:b.config,"no-overlay-focus":!!(b.noOverlayFocus||b.textInput),"use-relative":"",type:"month",onSelected:U=>m(R)(U,O),onHoverValue:U=>m(S)(U,O)},{header:Fe(()=>[qe(LA,Wt(b.$props,{items:m(l)(O),instance:O,"show-year-picker":m(h)[O],year:m(u)(O),"is-disabled":U=>m(c)(O,U),onHandleYear:U=>m(P)(O,U),onYearSelect:U=>m(g)(U,O),onToggleYearPicker:U=>m(C)(O,U==null?void 0:U.flow,U==null?void 0:U.show)}),Dn({_:2},[ct(m(i),(U,K)=>({name:U,fn:Fe(M=>[De(b.$slots,U,Xt(gn(M)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),sB=(t,e)=>{const{modelValue:n}=du(t,e),r=le(null),{defaultedHighlight:s,defaultedMultiDates:i,defaultedFilters:o,defaultedRange:a,propDates:l}=$t(t),u=le();Ot(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(u.value=Ze(Te(t.startDate)))});const c=p=>Array.isArray(n.value)?n.value.some(y=>Ze(y)===p):n.value?Ze(n.value)===p:!1,d=p=>a.value.enabled&&Array.isArray(n.value)?sf(n.value,r.value,h(p)):!1,f=ue(()=>Jo(Ng(t.yearRange,t.locale,t.reverseYears),p=>{const y=c(p.value),S=Nl(p.value,Zo(l.value.minDate),Zo(l.value.maxDate))||o.value.years.includes(p.value),R=d(p.value)&&!y,k=$g(s.value,p.value);return{active:y,disabled:S,isBetween:R,highlighted:k}})),h=p=>Dr(ar(new Date),p);return{groupedYears:f,modelValue:n,focusYear:u,setHoverValue:p=>{r.value=Dr(ar(new Date),p)},selectYear:p=>{var y;if(e("update-month-year",{instance:0,year:p}),i.value.enabled)return n.value?Array.isArray(n.value)&&(((y=n.value)==null?void 0:y.map(S=>Ze(S))).includes(p)?n.value=n.value.filter(S=>Ze(S)!==p):n.value.push(Dr(Wn(Te()),p))):n.value=[Dr(Wn(Te()),p)],e("auto-apply",!0);a.value.enabled?(n.value=Ug(n,h(p),e),St().then(()=>{uf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},iB=nt({compatConfig:{MODE:3},__name:"YearPicker",props:{...vr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,s=t,{groupedYears:i,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=sB(s,r),{defaultedConfig:c}=$t(s);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(V(),z("div",null,[d.$slots["top-extra"]?De(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):oe("",!0),d.$slots["month-year"]?De(d.$slots,"month-year",Xt(Wt({key:1},{years:m(i),selectYear:m(l)}))):(V(),Ue(fu,{key:2,items:m(i),"is-last":d.autoApply&&!m(c).keepActionRow,height:m(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":m(a),type:"year","use-relative":"",onSelected:m(l),onHoverValue:m(u)},Dn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:h})=>[De(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),oB={key:0,class:"dp__time_input"},aB=["aria-label","onKeydown","onClick"],lB=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),uB=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),cB=["aria-label","disabled","onKeydown","onClick"],dB=["aria-label","onKeydown","onClick"],fB=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),hB=x("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),pB={key:0},mB=["aria-label","onKeydown"],gB=nt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...vr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,{setTimePickerElements:i,setTimePickerBackRef:o}=si(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=$t(s),{transitionName:f,showTransition:h}=cu(l),p=en({hours:!1,minutes:!1,seconds:!1}),y=le("AM"),S=le(null),R=le([]);Ot(()=>{r("mounted")});const k=D=>xt(new Date,{hours:D.hours,minutes:D.minutes,seconds:s.enableSeconds?D.seconds:0,milliseconds:0}),C=ue(()=>D=>L(D,s[D])||P(D,s[D])),g=ue(()=>({hours:s.hours,minutes:s.minutes,seconds:s.seconds})),P=(D,j)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!s.validateTime(D,j):!1,w=(D,j)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const Ae=j?+s[`${D}Increment`]:-+s[`${D}Increment`],_e=s[D]+Ae;return!s.validateTime(D,_e)}return!1},b=ue(()=>D=>!be(+s[D]+ +s[`${D}Increment`],D)||w(D,!0)),I=ue(()=>D=>!be(+s[D]-+s[`${D}Increment`],D)||w(D,!1)),O=(D,j)=>rA(xt(Te(),D),j),U=(D,j)=>Z6(xt(Te(),D),j),K=ue(()=>({dp__time_col:!0,dp__time_col_block:!s.timePickerInline,dp__time_col_reg_block:!s.enableSeconds&&s.is24&&!s.timePickerInline,dp__time_col_reg_inline:!s.enableSeconds&&s.is24&&s.timePickerInline,dp__time_col_reg_with_button:!s.enableSeconds&&!s.is24,dp__time_col_sec:s.enableSeconds&&s.is24,dp__time_col_sec_with_button:s.enableSeconds&&!s.is24})),M=ue(()=>{const D=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return s.enableSeconds?D.concat([{type:"",separator:!0},{type:"seconds"}]):D}),X=ue(()=>M.value.filter(D=>!D.separator)),ne=ue(()=>D=>{if(D==="hours"){const j=B(+s.hours);return{text:j<10?`0${j}`:`${j}`,value:j}}return{text:s[D]<10?`0${s[D]}`:`${s[D]}`,value:s[D]}}),L=(D,j)=>{var Ae;if(!s.disabledTimesConfig)return!1;const _e=s.disabledTimesConfig(s.order,D==="hours"?j:void 0);return _e[D]?!!((Ae=_e[D])!=null&&Ae.includes(j)):!0},E=D=>{const j=s.is24?24:12,Ae=D==="hours"?j:60,_e=+s[`${D}GridIncrement`],v=D==="hours"&&!s.is24?_e:0,_=[];for(let F=v;F<Ae;F+=_e)_.push({value:F,text:F<10?`0${F}`:`${F}`});return D==="hours"&&!s.is24&&_.push({value:0,text:"12"}),Jo(_,F=>({active:!1,disabled:u.value.times[D].includes(F.value)||!be(F.value,D)||L(D,F.value)||P(D,F.value)}))},Y=D=>D>=0?D:59,te=D=>D>=0?D:23,be=(D,j)=>{const Ae=s.minTime?k(eh(s.minTime)):null,_e=s.maxTime?k(eh(s.maxTime)):null,v=k(eh(g.value,j,j==="minutes"||j==="seconds"?Y(D):te(D)));return Ae&&_e?(Ml(v,_e)||mo(v,_e))&&(Ol(v,Ae)||mo(v,Ae)):Ae?Ol(v,Ae)||mo(v,Ae):_e?Ml(v,_e)||mo(v,_e):!0},de=D=>s[`no${D[0].toUpperCase()+D.slice(1)}Overlay`],W=D=>{de(D)||(p[D]=!p[D],p[D]||r("overlay-closed"))},J=D=>D==="hours"?fr:D==="minutes"?jr:Qo,T=(D,j=!0)=>{const Ae=j?O:U,_e=j?+s[`${D}Increment`]:-+s[`${D}Increment`];be(+s[D]+_e,D)&&r(`update:${D}`,J(D)(Ae({[D]:+s[D]},{[D]:+s[`${D}Increment`]})))},B=D=>s.is24?D:(D>=12?y.value="PM":y.value="AM",nU(D)),ce=()=>{y.value==="PM"?(y.value="AM",r("update:hours",s.hours-12)):(y.value="PM",r("update:hours",s.hours+12)),r("am-pm-change",y.value)},re=D=>{p[D]=!0},A=(D,j,Ae)=>{if(D&&s.arrowNavigation){Array.isArray(R.value[j])?R.value[j][Ae]=D:R.value[j]=[D];const _e=R.value.reduce((v,_)=>_.map((F,G)=>[...v[G]||[],_[G]]),[]);o(s.closeTimePickerBtn),S.value&&(_e[1]=_e[1].concat(S.value)),i(_e,s.order)}},ie=(D,j)=>(W(D),D==="hours"&&!s.is24?r(`update:${D}`,y.value==="PM"?j+12:j):r(`update:${D}`,j));return e({openChildCmp:re}),(D,j)=>{var Ae;return D.disabled?oe("",!0):(V(),z("div",oB,[(V(!0),z(Oe,null,ct(M.value,(_e,v)=>{var _,F,G;return V(),z("div",{key:v,class:Ve(K.value)},[_e.separator?(V(),z(Oe,{key:0},[Tt(" : ")],64)):(V(),z(Oe,{key:1},[x("button",{ref_for:!0,ref:Z=>A(Z,v,0),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!D.timePickerInline,dp__inc_dec_button_inline:D.timePickerInline,dp__tp_inline_btn_top:D.timePickerInline,dp__inc_dec_button_disabled:b.value(_e.type)}),"aria-label":(_=m(a))==null?void 0:_.incrementValue(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>T(_e.type),["prevent"]),["enter"]),Xe(vt(Z=>T(_e.type),["prevent"]),["space"])],onClick:Z=>T(_e.type)},[s.timePickerInline?(V(),z(Oe,{key:1},[lB,uB],64)):(V(),z(Oe,{key:0},[D.$slots["arrow-up"]?De(D.$slots,"arrow-up",{key:0}):oe("",!0),D.$slots["arrow-up"]?oe("",!0):(V(),Ue(m(Og),{key:1}))],64))],42,aB),x("button",{ref_for:!0,ref:Z=>A(Z,v,1),type:"button","aria-label":(F=m(a))==null?void 0:F.openTpOverlay(_e.type),class:Ve({dp__time_display:!0,dp__time_display_block:!D.timePickerInline,dp__time_display_inline:D.timePickerInline,"dp--time-invalid":C.value(_e.type),"dp--time-overlay-btn":!C.value(_e.type)}),disabled:de(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>W(_e.type),["prevent"]),["enter"]),Xe(vt(Z=>W(_e.type),["prevent"]),["space"])],onClick:Z=>W(_e.type)},[D.$slots[_e.type]?De(D.$slots,_e.type,{key:0,text:ne.value(_e.type).text,value:ne.value(_e.type).value}):oe("",!0),D.$slots[_e.type]?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(ne.value(_e.type).text),1)],64))],42,cB),x("button",{ref_for:!0,ref:Z=>A(Z,v,2),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!D.timePickerInline,dp__inc_dec_button_inline:D.timePickerInline,dp__tp_inline_btn_bottom:D.timePickerInline,dp__inc_dec_button_disabled:I.value(_e.type)}),"aria-label":(G=m(a))==null?void 0:G.decrementValue(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>T(_e.type,!1),["prevent"]),["enter"]),Xe(vt(Z=>T(_e.type,!1),["prevent"]),["space"])],onClick:Z=>T(_e.type,!1)},[s.timePickerInline?(V(),z(Oe,{key:1},[fB,hB],64)):(V(),z(Oe,{key:0},[D.$slots["arrow-down"]?De(D.$slots,"arrow-down",{key:0}):oe("",!0),D.$slots["arrow-down"]?oe("",!0):(V(),Ue(m(Mg),{key:1}))],64))],42,dB)],64))],2)}),128)),D.is24?oe("",!0):(V(),z("div",pB,[D.$slots["am-pm-button"]?De(D.$slots,"am-pm-button",{key:0,toggle:ce,value:y.value}):oe("",!0),D.$slots["am-pm-button"]?oe("",!0):(V(),z("button",{key:1,ref_key:"amPmButton",ref:S,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Ae=m(a))==null?void 0:Ae.amPmButton,tabindex:"0",onClick:ce,onKeydown:[Xe(vt(ce,["prevent"]),["enter"]),Xe(vt(ce,["prevent"]),["space"])]},Le(y.value),41,mB))])),(V(!0),z(Oe,null,ct(X.value,(_e,v)=>(V(),Ue(Qs,{key:v,name:m(f)(p[_e.type]),css:m(h)},{default:Fe(()=>[p[_e.type]?(V(),Ue(fu,{key:0,items:E(_e.type),"is-last":D.autoApply&&!m(c).keepActionRow,"esc-close":D.escClose,type:_e.type,"text-input":D.textInput,config:D.config,"arrow-navigation":D.arrowNavigation,"aria-labels":D.ariaLabels,onSelected:_=>ie(_e.type,_),onToggle:_=>W(_e.type),onResetFlow:j[0]||(j[0]=_=>D.$emit("reset-flow"))},Dn({"button-icon":Fe(()=>[D.$slots["clock-icon"]?De(D.$slots,"clock-icon",{key:0}):oe("",!0),D.$slots["clock-icon"]?oe("",!0):(V(),Ue(Zc(D.timePickerInline?m(da):m(Dg)),{key:1}))]),_:2},[D.$slots[`${_e.type}-overlay-value`]?{name:"item",fn:Fe(({item:_})=>[De(D.$slots,`${_e.type}-overlay-value`,{text:_.text,value:_.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),vB={class:"dp--tp-wrap"},yB=["aria-label","tabindex"],_B=["tabindex"],bB=["aria-label"],BA=nt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...vr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,{buildMatrix:i,setTimePicker:o}=si(),a=zi(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:f}=$t(s),{transitionName:h,showTransition:p}=cu(l),{hideNavigationButtons:y}=of(),S=le(null),R=le(null),k=le([]),C=le(null);Ot(()=>{r("mount"),!s.timePicker&&s.arrowNavigation?i([nn(S.value)],"time"):o(!0,s.timePicker)});const g=ue(()=>f.value.enabled&&s.modelAuto?SA(s.internalModelValue):!0),P=le(!1),w=E=>({hours:Array.isArray(s.hours)?s.hours[E]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[E]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[E]:s.seconds}),b=ue(()=>{const E=[];if(f.value.enabled)for(let Y=0;Y<2;Y++)E.push(w(Y));else E.push(w(0));return E}),I=(E,Y=!1,te="")=>{Y||r("reset-flow"),P.value=E,r(E?"overlay-opened":"overlay-closed"),s.arrowNavigation&&o(E),St(()=>{te!==""&&k.value[0]&&k.value[0].openChildCmp(te)})},O=ue(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!d.value.keepActionRow})),U=jn(a,"timePicker"),K=(E,Y,te)=>f.value.enabled?Y===0?[E,b.value[1][te]]:[b.value[0][te],E]:E,M=E=>{r("update:hours",E)},X=E=>{r("update:minutes",E)},ne=E=>{r("update:seconds",E)},L=()=>{if(C.value&&!c.value.enabled&&!s.noOverlayFocus){const E=xA(C.value);E&&E.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),(E,Y)=>{var te;return V(),z("div",vB,[!E.timePicker&&!E.timePickerInline?ut((V(),z("button",{key:0,ref_key:"openTimePickerBtn",ref:S,type:"button",class:Ve(O.value),"aria-label":(te=m(u))==null?void 0:te.openTimePicker,tabindex:E.noOverlayFocus?void 0:0,onKeydown:[Y[0]||(Y[0]=Xe(be=>I(!0),["enter"])),Y[1]||(Y[1]=Xe(be=>I(!0),["space"]))],onClick:Y[2]||(Y[2]=be=>I(!0))},[E.$slots["clock-icon"]?De(E.$slots,"clock-icon",{key:0}):oe("",!0),E.$slots["clock-icon"]?oe("",!0):(V(),Ue(m(Dg),{key:1}))],42,yB)),[[$a,!m(y)(E.hideNavigation,"time")]]):oe("",!0),qe(Qs,{name:m(h)(P.value),css:m(p)&&!E.timePickerInline},{default:Fe(()=>{var be;return[P.value||E.timePicker||E.timePickerInline?(V(),z("div",{key:0,ref_key:"overlayRef",ref:C,class:Ve({dp__overlay:!E.timePickerInline,"dp--overlay-absolute":!s.timePicker&&!E.timePickerInline,"dp--overlay-relative":s.timePicker}),style:xn(E.timePicker?{height:`${m(d).modeHeight}px`}:void 0),tabindex:E.timePickerInline?void 0:0},[x("div",{class:Ve(E.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[E.$slots["time-picker-overlay"]?De(E.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:X,setSeconds:ne}):oe("",!0),E.$slots["time-picker-overlay"]?oe("",!0):(V(),z("div",{key:1,class:Ve(E.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(V(!0),z(Oe,null,ct(b.value,(de,W)=>ut((V(),Ue(gB,Wt({key:W},{...E.$props,order:W,hours:de.hours,minutes:de.minutes,seconds:de.seconds,closeTimePickerBtn:R.value,disabledTimesConfig:t.disabledTimesConfig,disabled:W===0?E.fixedStart:E.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:k,"validate-time":(J,T)=>t.validateTime(J,K(T,W,J)),"onUpdate:hours":J=>M(K(J,W,"hours")),"onUpdate:minutes":J=>X(K(J,W,"minutes")),"onUpdate:seconds":J=>ne(K(J,W,"seconds")),onMounted:L,onOverlayClosed:L,onAmPmChange:Y[3]||(Y[3]=J=>E.$emit("am-pm-change",J))}),Dn({_:2},[ct(m(U),(J,T)=>({name:J,fn:Fe(B=>[De(E.$slots,J,Xt(gn(B)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[$a,W===0?!0:g.value]])),128))],2)),!E.timePicker&&!E.timePickerInline?ut((V(),z("button",{key:2,ref_key:"closeTimePickerBtn",ref:R,type:"button",class:Ve(O.value),"aria-label":(be=m(u))==null?void 0:be.closeTimePicker,tabindex:"0",onKeydown:[Y[4]||(Y[4]=Xe(de=>I(!1),["enter"])),Y[5]||(Y[5]=Xe(de=>I(!1),["space"]))],onClick:Y[6]||(Y[6]=de=>I(!1))},[E.$slots["calendar-icon"]?De(E.$slots,"calendar-icon",{key:0}):oe("",!0),E.$slots["calendar-icon"]?oe("",!0):(V(),Ue(m(da),{key:1}))],42,bB)),[[$a,!m(y)(E.hideNavigation,"time")]]):oe("",!0)],2)],14,_B)):oe("",!0)]}),_:3},8,["name","css"])])}}}),jA=(t,e,n,r)=>{const{defaultedRange:s}=$t(t),i=(C,g)=>Array.isArray(e[C])?e[C][g]:e[C],o=C=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[C]:e.seconds:0,a=(C,g)=>C?g!==void 0?Hs(C,i("hours",g),i("minutes",g),o(g)):Hs(C,e.hours,e.minutes,o()):Pg(Te(),o(g)),l=(C,g)=>{e[C]=g},u=ue(()=>t.modelAuto&&s.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:s.value.enabled),c=(C,g)=>{const P=Object.fromEntries(Object.keys(e).map(w=>w===C?[w,g]:[w,e[w]].slice()));if(u.value&&!s.value.disableTimeRangeValidation){const w=I=>n.value?Hs(n.value[I],P.hours[I],P.minutes[I],P.seconds[I]):null,b=I=>Cg(n.value[I],0);return!(rt(w(0),w(1))&&(Ol(w(0),b(1))||Ml(w(1),b(0))))}return!0},d=(C,g)=>{c(C,g)&&(l(C,g),r&&r())},f=C=>{d("hours",C)},h=C=>{d("minutes",C)},p=C=>{d("seconds",C)},y=(C,g,P,w)=>{g&&f(C),!g&&!P&&h(C),P&&p(C),n.value&&w(n.value)},S=C=>{if(C){const g=Array.isArray(C),P=g?[+C[0].hours,+C[1].hours]:+C.hours,w=g?[+C[0].minutes,+C[1].minutes]:+C.minutes,b=g?[+C[0].seconds,+C[1].seconds]:+C.seconds;l("hours",P),l("minutes",w),t.enableSeconds&&l("seconds",b)}},R=(C,g)=>{const P={hours:Array.isArray(e.hours)?e.hours[C]:e.hours,disabledArr:[]};return(g||g===0)&&(P.hours=g),Array.isArray(t.disabledTimes)&&(P.disabledArr=s.value.enabled&&Array.isArray(t.disabledTimes[C])?t.disabledTimes[C]:t.disabledTimes),P},k=ue(()=>(C,g)=>{var P;if(Array.isArray(t.disabledTimes)){const{disabledArr:w,hours:b}=R(C,g),I=w.filter(O=>+O.hours===b);return((P=I[0])==null?void 0:P.minutes)==="*"?{hours:[b],minutes:void 0,seconds:void 0}:{hours:[],minutes:(I==null?void 0:I.map(O=>+O.minutes))??[],seconds:(I==null?void 0:I.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:y,getSecondsValue:o,assignStartTime:S,validateTime:c,disabledTimesConfig:k}},wB=(t,e)=>{const{modelValue:n,time:r}=du(t,e),{defaultedStartTime:s,defaultedRange:i}=$t(t),{updateTimeValues:o,getSetDateTime:a,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=jA(t,r,n),f=C=>{const{hours:g,minutes:P,seconds:w}=C;return{hours:+g,minutes:+P,seconds:w?+w:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const g=f(t.startTime[0]),P=f(t.startTime[1]);return[xt(Te(),g),xt(Te(),P)]}const C=f(t.startTime);return xt(Te(),C)}return i.value.enabled?[null,null]:null},p=()=>{if(i.value.enabled){const[C,g]=h();n.value=[a(C,0),a(g,1)]}else n.value=a(h())},y=C=>Array.isArray(C)?[Oi(Te(C[0])),Oi(Te(C[1]))]:[Oi(C??Te())],S=(C,g,P)=>{l("hours",C),l("minutes",g),l("seconds",t.enableSeconds?P:0)},R=()=>{const[C,g]=y(n.value);return i.value.enabled?S([C.hours,g.hours],[C.minutes,g.minutes],[C.seconds,g.seconds]):S(C.hours,C.minutes,C.seconds)};Ot(()=>{if(!t.shadow)return u(s.value),n.value?R():p()});const k=()=>{Array.isArray(n.value)?n.value=n.value.map((C,g)=>C&&a(C,g)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(C,g=!0,P=!1)=>{o(C,g,P,k)},validateTime:d}},TB=nt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...vr},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=zi(),o=jn(i,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=wB(s,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,h)=>(V(),Ue(lf,{"multi-calendars":0,stretch:""},{default:Fe(()=>[qe(BA,Wt(f.$props,{hours:m(a).hours,minutes:m(a).minutes,seconds:m(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":m(u),"validate-time":m(d),"onUpdate:hours":h[0]||(h[0]=p=>m(c)(p)),"onUpdate:minutes":h[1]||(h[1]=p=>m(c)(p,!1)),"onUpdate:seconds":h[2]||(h[2]=p=>m(c)(p,!1,!0)),onAmPmChange:h[3]||(h[3]=p=>f.$emit("am-pm-change",p))}),Dn({_:2},[ct(m(o),(p,y)=>({name:p,fn:Fe(S=>[De(f.$slots,p,Xt(gn(S)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),EB={class:"dp--header-wrap"},AB={key:0,class:"dp__month_year_wrap"},SB={key:0},xB={class:"dp__month_year_wrap"},IB=["aria-label","onClick","onKeydown"],CB=nt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...vr},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,s=t,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=$t(s),{transitionName:f,showTransition:h}=cu(i),{buildMatrix:p}=si(),{handleMonthYearChange:y,isDisabled:S,updateMonthYear:R}=VU(s,r),{showLeftIcon:k,showRightIcon:C}=of(),g=le(!1),P=le(!1),w=le([null,null,null,null]);Ot(()=>{r("mount")});const b=W=>({get:()=>s[W],set:J=>{const T=W===sr.month?sr.year:sr.month;r("update-month-year",{[W]:J,[T]:s[T]}),W===sr.month?L(!0):E(!0)}}),I=ue(b(sr.month)),O=ue(b(sr.year)),U=ue(()=>W=>({month:s.month,year:s.year,items:W===sr.month?s.months:s.years,instance:s.instance,updateMonthYear:R,toggle:W===sr.month?L:E})),K=ue(()=>s.months.find(J=>J.value===s.month)||{text:"",value:0}),M=ue(()=>Jo(s.months,W=>{const J=s.month===W.value,T=Nl(W.value,CA(s.year,d.value.minDate),PA(s.year,d.value.maxDate))||l.value.months.includes(W.value),B=MA(c.value,W.value,s.year);return{active:J,disabled:T,highlighted:B}})),X=ue(()=>Jo(s.years,W=>{const J=s.year===W.value,T=Nl(W.value,Zo(d.value.minDate),Zo(d.value.maxDate))||l.value.years.includes(W.value),B=$g(c.value,W.value);return{active:J,disabled:T,highlighted:B}})),ne=(W,J)=>{J!==void 0?W.value=J:W.value=!W.value,W.value||r("overlay-closed")},L=(W=!1,J)=>{Y(W),ne(g,J)},E=(W=!1,J)=>{Y(W),ne(P,J)},Y=W=>{W||r("reset-flow")},te=(W,J)=>{s.arrowNavigation&&(w.value[J]=nn(W),p(w.value,"monthYear"))},be=ue(()=>{var W,J;return[{type:sr.month,index:1,toggle:L,modelValue:I.value,updateModelValue:T=>I.value=T,text:K.value.text,showSelectionGrid:g.value,items:M.value,ariaLabel:(W=o.value)==null?void 0:W.openMonthsOverlay},{type:sr.year,index:2,toggle:E,modelValue:O.value,updateModelValue:T=>O.value=T,text:IA(s.year,s.locale),showSelectionGrid:P.value,items:X.value,ariaLabel:(J=o.value)==null?void 0:J.openYearsOverlay}]}),de=ue(()=>s.disableYearSelect?[be.value[0]]:s.yearFirst?[...be.value].reverse():be.value);return e({toggleMonthPicker:L,toggleYearPicker:E,handleMonthYearChange:y}),(W,J)=>{var T,B,ce;return V(),z("div",EB,[W.$slots["month-year"]?(V(),z("div",AB,[De(W.$slots,"month-year",Xt(gn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:m(R),handleMonthYearChange:m(y),instance:t.instance})))])):(V(),z(Oe,{key:1},[W.$slots["top-extra"]?(V(),z("div",SB,[De(W.$slots,"top-extra",{value:W.internalModelValue})])):oe("",!0),x("div",xB,[m(k)(m(a),t.instance)&&!W.vertical?(V(),Ue(Za,{key:0,"aria-label":(T=m(o))==null?void 0:T.prevMonth,disabled:m(S)(!1),onActivate:J[0]||(J[0]=re=>m(y)(!1,!0)),onSetRef:J[1]||(J[1]=re=>te(re,0))},{default:Fe(()=>[W.$slots["arrow-left"]?De(W.$slots,"arrow-left",{key:0}):oe("",!0),W.$slots["arrow-left"]?oe("",!0):(V(),Ue(m(Rg),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),x("div",{class:Ve(["dp__month_year_wrap",{dp__year_disable_select:W.disableYearSelect}])},[(V(!0),z(Oe,null,ct(de.value,(re,A)=>(V(),z(Oe,{key:re.type},[x("button",{ref_for:!0,ref:ie=>te(ie,A+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":re.ariaLabel,onClick:re.toggle,onKeydown:[Xe(vt(re.toggle,["prevent"]),["enter"]),Xe(vt(re.toggle,["prevent"]),["space"])]},[W.$slots[re.type]?De(W.$slots,re.type,{key:0,text:re.text,value:s[re.type]}):oe("",!0),W.$slots[re.type]?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(re.text),1)],64))],40,IB),qe(Qs,{name:m(f)(re.showSelectionGrid),css:m(h)},{default:Fe(()=>[re.showSelectionGrid?(V(),Ue(fu,{key:0,items:re.items,"arrow-navigation":W.arrowNavigation,"hide-navigation":W.hideNavigation,"is-last":W.autoApply&&!m(u).keepActionRow,"skip-button-ref":!1,config:W.config,type:re.type,"header-refs":[],"esc-close":W.escClose,"menu-wrap-ref":W.menuWrapRef,"text-input":W.textInput,"aria-labels":W.ariaLabels,onSelected:re.updateModelValue,onToggle:re.toggle},Dn({"button-icon":Fe(()=>[W.$slots["calendar-icon"]?De(W.$slots,"calendar-icon",{key:0}):oe("",!0),W.$slots["calendar-icon"]?oe("",!0):(V(),Ue(m(da),{key:1}))]),_:2},[W.$slots[`${re.type}-overlay-value`]?{name:"item",fn:Fe(({item:ie})=>[De(W.$slots,`${re.type}-overlay-value`,{text:ie.text,value:ie.value})]),key:"0"}:void 0,W.$slots[`${re.type}-overlay`]?{name:"overlay",fn:Fe(()=>[De(W.$slots,`${re.type}-overlay`,Xt(gn(U.value(re.type))))]),key:"1"}:void 0,W.$slots[`${re.type}-overlay-header`]?{name:"header",fn:Fe(()=>[De(W.$slots,`${re.type}-overlay-header`,{toggle:re.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):oe("",!0)]),_:2},1032,["name","css"])],64))),128))],2),m(k)(m(a),t.instance)&&W.vertical?(V(),Ue(Za,{key:1,"aria-label":(B=m(o))==null?void 0:B.prevMonth,disabled:m(S)(!1),onActivate:J[2]||(J[2]=re=>m(y)(!1,!0))},{default:Fe(()=>[W.$slots["arrow-up"]?De(W.$slots,"arrow-up",{key:0}):oe("",!0),W.$slots["arrow-up"]?oe("",!0):(V(),Ue(m(Og),{key:1}))]),_:3},8,["aria-label","disabled"])):oe("",!0),m(C)(m(a),t.instance)?(V(),Ue(Za,{key:2,ref:"rightIcon",disabled:m(S)(!0),"aria-label":(ce=m(o))==null?void 0:ce.nextMonth,onActivate:J[3]||(J[3]=re=>m(y)(!0,!0)),onSetRef:J[4]||(J[4]=re=>te(re,W.disableYearSelect?2:3))},{default:Fe(()=>[W.$slots[W.vertical?"arrow-down":"arrow-right"]?De(W.$slots,W.vertical?"arrow-down":"arrow-right",{key:0}):oe("",!0),W.$slots[W.vertical?"arrow-down":"arrow-right"]?oe("",!0):(V(),Ue(Zc(W.vertical?m(Mg):m(kg)),{key:1}))]),_:3},8,["disabled","aria-label"])):oe("",!0)])],64))])}}}),PB=["aria-label"],RB={class:"dp__calendar_header",role:"row"},kB={key:0,class:"dp__calendar_header_item",role:"gridcell"},DB=["aria-label"],OB=x("div",{class:"dp__calendar_header_separator"},null,-1),MB=["aria-label"],NB={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},VB={class:"dp__cell_inner"},LB=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],$B=nt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...vr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,s=t,{buildMultiLevelMatrix:i}=si(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=$t(s),f=le(null),h=le({bottom:"",left:"",transform:""}),p=le([]),y=le(null),S=le(!0),R=le(""),k=le({startX:0,endX:0,startY:0,endY:0}),C=le([]),g=le({left:"50%"}),P=le(!1),w=ue(()=>s.calendar?s.calendar(s.mappedDates):s.mappedDates),b=ue(()=>s.dayNames?Array.isArray(s.dayNames)?s.dayNames:s.dayNames(s.locale,+s.weekStart):tU(s.formatLocale,s.locale,+s.weekStart));Ot(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||y.value&&(y.value.addEventListener("touchstart",be,{passive:!1}),y.value.addEventListener("touchend",de,{passive:!1}),y.value.addEventListener("touchmove",W,{passive:!1})),s.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",B,{passive:!1})});const I=j=>j?s.vertical?"vNext":"next":s.vertical?"vPrevious":"previous",O=(j,Ae)=>{if(s.transitions){const _e=Wn(is(Te(),s.month,s.year));R.value=qt(Wn(is(Te(),j,Ae)),_e)?o.value[I(!0)]:o.value[I(!1)],S.value=!1,St(()=>{S.value=!0})}},U=ue(()=>({[s.calendarClassName]:!!s.calendarClassName})),K=ue(()=>j=>{const Ae=rU(j);return{dp__marker_dot:Ae.type==="dot",dp__marker_line:Ae.type==="line"}}),M=ue(()=>j=>rt(j,f.value)),X=ue(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&s.instance!==0})),ne=ue(()=>j=>s.hideOffsetDates?j.current:!0),L=j=>Br(j,"yyyy-MM-dd"),E=async(j,Ae,_e)=>{const v=nn(p.value[Ae][_e]);if(v){const{width:_,height:F}=v.getBoundingClientRect();f.value=j.value;let G={left:`${_/2}px`},Z=-50;if(await St(),C.value[0]){const{left:Q,width:Ee}=C.value[0].getBoundingClientRect();Q<0&&(G={left:"0"},Z=0,g.value.left=`${_/2}px`),window.innerWidth<Q+Ee&&(G={right:"0"},Z=0,g.value.left=`${Ee-_/2}px`)}h.value={bottom:`${F}px`,...G,transform:`translateX(${Z}%)`},r("tooltip-open",j.marker)}},Y=async(j,Ae,_e)=>{var v,_;if(P.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",j);r("set-hover-date",j),(_=(v=j.marker)==null?void 0:v.tooltip)!=null&&_.length&&await E(j,Ae,_e)},te=j=>{f.value&&(f.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",j.marker))},be=j=>{k.value.startX=j.changedTouches[0].screenX,k.value.startY=j.changedTouches[0].screenY},de=j=>{k.value.endX=j.changedTouches[0].screenX,k.value.endY=j.changedTouches[0].screenY,J()},W=j=>{s.vertical&&!s.inline&&j.preventDefault()},J=()=>{const j=s.vertical?"Y":"X";Math.abs(k.value[`start${j}`]-k.value[`end${j}`])>10&&r("handle-swipe",k.value[`start${j}`]>k.value[`end${j}`]?"right":"left")},T=(j,Ae,_e)=>{j&&(Array.isArray(p.value[Ae])?p.value[Ae][_e]=j:p.value[Ae]=[j]),s.arrowNavigation&&i(p.value,"calendar")},B=j=>{s.monthChangeOnScroll&&(j.preventDefault(),r("handle-scroll",j))},ce=j=>c.value.type==="local"?Sg(j.value,{weekStartsOn:+s.weekStart}):c.value.type==="iso"?Eg(j.value):typeof c.value.type=="function"?c.value.type(j.value):"",re=j=>{const Ae=j[0];return c.value.hideOnOffsetDates?j.some(_e=>_e.current)?ce(Ae):"":ce(Ae)},A=(j,Ae)=>{d.value.enabled||(js(j,a.value),r("select-date",Ae))},ie=j=>{js(j,a.value)},D=j=>{d.value.enabled&&d.value.dragSelect?(P.value=!0,r("select-date",j)):d.value.enabled&&r("select-date",j)};return e({triggerTransition:O}),(j,Ae)=>{var _e;return V(),z("div",{class:Ve(X.value)},[x("div",{ref_key:"calendarWrapRef",ref:y,role:"grid",class:Ve(U.value),"aria-label":(_e=m(l))==null?void 0:_e.calendarWrap},[x("div",RB,[j.weekNumbers?(V(),z("div",kB,Le(j.weekNumName),1)):oe("",!0),(V(!0),z(Oe,null,ct(b.value,(v,_)=>{var F,G;return V(),z("div",{key:_,class:"dp__calendar_header_item",role:"gridcell","aria-label":(G=(F=m(l))==null?void 0:F.weekDay)==null?void 0:G.call(F,_)},[j.$slots["calendar-header"]?De(j.$slots,"calendar-header",{key:0,day:v,index:_}):oe("",!0),j.$slots["calendar-header"]?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(v),1)],64))],8,DB)}),128))]),OB,qe(Qs,{name:R.value,css:!!j.transitions},{default:Fe(()=>{var v;return[S.value?(V(),z("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((v=m(l))==null?void 0:v.calendarDays)||void 0,onMouseleave:Ae[1]||(Ae[1]=_=>P.value=!1)},[(V(!0),z(Oe,null,ct(w.value,(_,F)=>(V(),z("div",{key:F,class:"dp__calendar_row",role:"row"},[j.weekNumbers?(V(),z("div",NB,[x("div",VB,Le(re(_.days)),1)])):oe("",!0),(V(!0),z(Oe,null,ct(_.days,(G,Z)=>{var Q,Ee,he;return V(),z("div",{id:L(G.value),ref_for:!0,ref:me=>T(me,F,Z),key:Z+F,role:"gridcell",class:"dp__calendar_item","aria-selected":(G.classData.dp__active_date||G.classData.dp__range_start||G.classData.dp__range_start)??void 0,"aria-disabled":G.classData.dp__cell_disabled||void 0,"aria-label":(Ee=(Q=m(l))==null?void 0:Q.day)==null?void 0:Ee.call(Q,G),tabindex:"0",onClick:vt(me=>A(me,G),["prevent"]),onKeydown:[Xe(me=>j.$emit("select-date",G),["enter"]),Xe(me=>j.$emit("handle-space",G),["space"])],onMouseenter:me=>Y(G,F,Z),onMouseleave:me=>te(G),onMousedown:me=>D(G),onMouseup:Ae[0]||(Ae[0]=me=>P.value=!1)},[x("div",{class:Ve(["dp__cell_inner",G.classData])},[j.$slots.day&&ne.value(G)?De(j.$slots,"day",{key:0,day:+G.text,date:G.value}):oe("",!0),j.$slots.day?oe("",!0):(V(),z(Oe,{key:1},[Tt(Le(G.text),1)],64)),G.marker&&ne.value(G)?(V(),z(Oe,{key:2},[j.$slots.marker?De(j.$slots,"marker",{key:0,marker:G.marker,day:+G.text,date:G.value}):(V(),z("div",{key:1,class:Ve(K.value(G.marker)),style:xn(G.marker.color?{backgroundColor:G.marker.color}:{})},null,6))],64)):oe("",!0),M.value(G.value)?(V(),z("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:C,class:"dp__marker_tooltip",style:xn(h.value)},[(he=G.marker)!=null&&he.tooltip?(V(),z("div",{key:0,class:"dp__tooltip_content",onClick:ie},[(V(!0),z(Oe,null,ct(G.marker.tooltip,(me,pe)=>(V(),z("div",{key:pe,class:"dp__tooltip_text"},[j.$slots["marker-tooltip"]?De(j.$slots,"marker-tooltip",{key:0,tooltip:me,day:G.value}):oe("",!0),j.$slots["marker-tooltip"]?oe("",!0):(V(),z(Oe,{key:1},[x("div",{class:"dp__tooltip_mark",style:xn(me.color?{backgroundColor:me.color}:{})},null,4),x("div",null,Le(me.text),1)],64))]))),128)),x("div",{class:"dp__arrow_bottom_tp",style:xn(g.value)},null,4)])):oe("",!0)],4)):oe("",!0)],2)],40,LB)}),128))]))),128))],40,MB)):oe("",!0)]}),_:3},8,["name","css"])],10,PB)],2)}}}),y0=t=>Array.isArray(t),FB=(t,e,n,r)=>{const s=le([]),i=le(new Date),{modelValue:o,calendars:a,time:l}=du(t,e),{defaultedMultiCalendars:u,defaultedStartTime:c,defaultedRange:d,defaultedTz:f,propDates:h,defaultedMultiDates:p}=$t(t),{validateMonthYearInRange:y,isDisabled:S,isDateRangeAllowed:R,checkMinMaxRange:k}=ii(t),{updateTimeValues:C,getSetDateTime:g,setTime:P,assignStartTime:w,validateTime:b,disabledTimesConfig:I}=jA(t,l,o,r),O=ue(()=>$=>a.value[$]?a.value[$].month:0),U=ue(()=>$=>a.value[$]?a.value[$].year:0),K=($,se,N)=>{var ae,ge;a.value[$]||(a.value[$]={month:0,year:0}),a.value[$].month=h0(se)?(ae=a.value[$])==null?void 0:ae.month:se,a.value[$].year=h0(N)?(ge=a.value[$])==null?void 0:ge.year:N},M=()=>{t.autoApply&&e("select-date")};Ut(o,($,se)=>{JSON.stringify($)!==JSON.stringify(se)&&L()},{deep:!0}),Ot(()=>{t.shadow||(o.value||(re(),c.value&&w(c.value)),L(!0),t.focusStartDate&&t.startDate&&re())});const X=ue(()=>{var $;return($=t.flow)!=null&&$.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ne=()=>{t.autoApply&&X.value&&e("auto-apply")},L=($=!1)=>{if(o.value)return Array.isArray(o.value)?(s.value=o.value,J($)):te(o.value,$);if(u.value.count&&$&&!t.startDate)return Y(Te(),$)},E=()=>Array.isArray(o.value)&&d.value.enabled?it(o.value[0])===it(o.value[1]??o.value[0]):!1,Y=($,se=!1)=>{if((!u.value.count||!u.value.static||se)&&K(0,it($),Ze($)),u.value.count&&(!u.value.solo||!o.value||E()))for(let N=1;N<u.value.count;N++){const ae=xt(Te(),{month:O.value(N-1),year:U.value(N-1)}),ge=rA(ae,{months:1});a.value[N]={month:it(ge),year:Ze(ge)}}},te=($,se)=>{Y($),P("hours",fr($)),P("minutes",jr($)),P("seconds",Qo($)),u.value.count&&se&&ce()},be=$=>{if(u.value.count){if(u.value.solo)return 0;const se=it($[0]),N=it($[1]);return Math.abs(N-se)<u.value.count?0:1}return 1},de=($,se)=>{$[1]&&d.value.showLastInRange?Y($[be($)],se):Y($[0],se);const N=(ae,ge)=>[ae($[0]),$[1]?ae($[1]):l[ge][1]];P("hours",N(fr,"hours")),P("minutes",N(jr,"minutes")),P("seconds",N(Qo,"seconds"))},W=($,se)=>{if((d.value.enabled||t.weekPicker)&&!p.value.enabled)return de($,se);if(p.value.enabled&&se){const N=$[$.length-1];return te(N,se)}},J=$=>{const se=o.value;W(se,$),u.value.count&&u.value.solo&&ce()},T=($,se)=>{const N=xt(Te(),{month:O.value(se),year:U.value(se)}),ae=$<0?dr(N,1):Xo(N,1);y(it(ae),Ze(ae),$<0,t.preventMinMaxNavigation)&&(K(se,it(ae),Ze(ae)),e("update-month-year",{instance:se,month:it(ae),year:Ze(ae)}),u.value.count&&!u.value.solo&&B(se),n())},B=$=>{for(let se=$-1;se>=0;se--){const N=Xo(xt(Te(),{month:O.value(se+1),year:U.value(se+1)}),1);K(se,it(N),Ze(N))}for(let se=$+1;se<=u.value.count-1;se++){const N=dr(xt(Te(),{month:O.value(se-1),year:U.value(se-1)}),1);K(se,it(N),Ze(N))}},ce=()=>{if(Array.isArray(o.value)&&o.value.length===2){const $=Te(Te(o.value[1]?o.value[1]:dr(o.value[0],1))),[se,N]=[it(o.value[0]),Ze(o.value[0])],[ae,ge]=[it(o.value[1]),Ze(o.value[1])];(se!==ae||se===ae&&N!==ge)&&u.value.solo&&K(1,it($),Ze($))}else o.value&&!Array.isArray(o.value)&&(K(0,it(o.value),Ze(o.value)),Y(Te()))},re=()=>{t.startDate&&(K(0,it(Te(t.startDate)),Ze(Te(t.startDate))),u.value.count&&B(0))},A=($,se)=>{if(t.monthChangeOnScroll){const N=new Date().getTime()-i.value.getTime(),ae=Math.abs($.deltaY);let ge=500;ae>1&&(ge=100),ae>100&&(ge=0),N>ge&&(i.value=new Date,T(t.monthChangeOnScroll!=="inverse"?-$.deltaY:$.deltaY,se))}},ie=($,se,N=!1)=>{t.monthChangeOnArrows&&t.vertical===N&&D($,se)},D=($,se)=>{T($==="right"?-1:1,se)},j=$=>{if(h.value.markers)return jc($.value,h.value.markers)},Ae=($,se)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[$==0,!0];case"fair":return[$==0||se>$,!0];case"append":return[!1,!1];default:return[!1,!1]}},_e=($,se,N,ae)=>{if(t.sixWeeks&&$.length<6){const ge=6-$.length,ee=(se.getDay()+7-ae)%7,we=6-(N.getDay()+7-ae)%7,[Se,tt]=Ae(ee,we);for(let dt=1;dt<=ge;dt++)if(tt?!!(dt%2)==Se:Se){const Ct=$[0].days[0],dn=v(or(Ct.value,-7),it(se));$.unshift({days:dn})}else{const Ct=$[$.length-1],dn=Ct.days[Ct.days.length-1],Qr=v(or(dn.value,1),it(se));$.push({days:Qr})}}return $},v=($,se)=>{const N=Te($),ae=[];for(let ge=0;ge<7;ge++){const ee=or(N,ge),we=it(ee)!==se;ae.push({text:t.hideOffsetDates&&we?"":ee.getDate(),value:ee,current:!we,classData:{}})}return ae},_=($,se)=>{const N=[],ae=new Date(se,$),ge=new Date(se,$+1,0),ee=t.weekStart,we=Yr(ae,{weekStartsOn:ee}),Se=tt=>{const dt=v(tt,$);if(N.push({days:dt}),!N[N.length-1].days.some(Ct=>rt(Wn(Ct.value),Wn(ge)))){const Ct=or(tt,7);Se(Ct)}};return Se(we),_e(N,ae,ge,ee)},F=$=>{const se=Hs(Te($.value),l.hours,l.minutes,pe());e("date-update",se),p.value.enabled?Fg(se,o,p.value.limit):o.value=se,r(),St().then(()=>{ne()})},G=$=>d.value.noDisabledRange?RA(s.value[0],$).some(se=>S(se)):!1,Z=()=>{s.value=o.value?o.value.slice():[],s.value.length===2&&!(d.value.fixedStart||d.value.fixedEnd)&&(s.value=[])},Q=($,se)=>{const N=[Te($.value),or(Te($.value),+d.value.autoRange)];R(N)?(se&&Ee($.value),s.value=N):e("invalid-date",$.value)},Ee=$=>{const se=it(Te($)),N=Ze(Te($));if(K(0,se,N),u.value.count>0)for(let ae=1;ae<u.value.count;ae++){const ge=dU(xt(Te($),{year:O.value(ae-1),month:U.value(ae-1)}));K(ae,ge.month,ge.year)}},he=$=>{if(G($.value)||!k($.value,o.value,d.value.fixedStart?0:1))return e("invalid-date",$.value);s.value=FA(Te($.value),o,e,d)},me=($,se)=>{if(Z(),d.value.autoRange)return Q($,se);if(d.value.fixedStart||d.value.fixedEnd)return he($);s.value[0]?k(Te($.value),o.value)&&!G($.value)?Ft(Te($.value),Te(s.value[0]))?(s.value.unshift(Te($.value)),e("range-end",s.value[0])):(s.value[1]=Te($.value),e("range-end",s.value[1])):(t.autoApply&&e("auto-apply-invalid",$.value),e("invalid-date",$.value)):(s.value[0]=Te($.value),e("range-start",s.value[0]))},pe=($=!0)=>t.enableSeconds?Array.isArray(l.seconds)?$?l.seconds[0]:l.seconds[1]:l.seconds:0,xe=$=>{s.value[$]=Hs(s.value[$],l.hours[$],l.minutes[$],pe($!==1))},Ne=()=>{var $,se;s.value[0]&&s.value[1]&&+(($=s.value)==null?void 0:$[0])>+((se=s.value)==null?void 0:se[1])&&(s.value.reverse(),e("range-start",s.value[0]),e("range-end",s.value[1]))},Pe=()=>{s.value.length&&(s.value[0]&&!s.value[1]?xe(0):(xe(0),xe(1),r()),Ne(),o.value=s.value.slice(),uf(s.value,e,t.autoApply,t.modelAuto))},Me=($,se=!1)=>{if(S($.value)||!$.current&&t.hideOffsetDates)return e("invalid-date",$.value);if(!d.value.enabled)return F($);y0(l.hours)&&y0(l.minutes)&&!p.value.enabled&&(me($,se),Pe())},We=($,se)=>{var N;K($,se.month,se.year),u.value.count&&!u.value.solo&&B($),e("update-month-year",{instance:$,month:se.month,year:se.year}),n(u.value.solo?$:void 0);const ae=(N=t.flow)!=null&&N.length?t.flow[t.flowStep]:void 0;!se.fromNav&&(ae===wr.month||ae===wr.year)&&r()},et=($,se)=>{$A({value:$,modelValue:o,range:d.value.enabled,timezone:se?void 0:f.value.timezone}),M(),t.multiCalendars&&St().then(()=>L(!0))},H=()=>{d.value.enabled?o.value&&Array.isArray(o.value)&&o.value[0]?o.value=Ft(Te(),o.value[0])?[Te(),o.value[0]]:[o.value[0],Te()]:o.value=[Te()]:o.value=Te(),M()},q=()=>{if(Array.isArray(o.value))if(p.value.enabled){const $=fe();o.value[o.value.length-1]=g($)}else o.value=o.value.map(($,se)=>$&&g($,se));else o.value=g(o.value);e("time-update")},fe=()=>Array.isArray(o.value)&&o.value.length?o.value[o.value.length-1]:null;return{calendars:a,modelValue:o,month:O,year:U,time:l,disabledTimesConfig:I,validateTime:b,getCalendarDays:_,getMarker:j,handleScroll:A,handleSwipe:D,handleArrow:ie,selectDate:Me,updateMonthYear:We,presetDate:et,selectCurrentDate:H,updateTime:($,se=!0,N=!1)=>{C($,se,N,q)}}},UB={key:0},BB=nt({__name:"DatePicker",props:{...vr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,{calendars:i,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:f,getMarker:h,handleArrow:p,handleScroll:y,handleSwipe:S,selectDate:R,updateMonthYear:k,presetDate:C,selectCurrentDate:g,updateTime:P}=FB(s,r,be,de),w=zi(),{setHoverDate:b,getDayClassData:I,clearHoverDate:O}=UU(l,s),{defaultedMultiCalendars:U}=$t(s),K=le([]),M=le([]),X=le(null),ne=jn(w,"calendar"),L=jn(w,"monthYear"),E=jn(w,"timePicker"),Y=J=>{s.shadow||r("mount",J)};Ut(i,()=>{s.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const te=ue(()=>J=>f(o.value(J),a.value(J)).map(T=>({...T,days:T.days.map(B=>(B.marker=h(B),B.classData=I(B),B))})));function be(J){var T;J||J===0?(T=M.value[J])==null||T.triggerTransition(o.value(J),a.value(J)):M.value.forEach((B,ce)=>B.triggerTransition(o.value(ce),a.value(ce)))}function de(){r("update-flow-step")}const W=(J,T=!1)=>{R(J,T),s.spaceConfirm&&r("select-date")};return e({clearHoverDate:O,presetDate:C,selectCurrentDate:g,toggleMonthPicker:(J,T,B=0)=>{var ce;(ce=K.value[B])==null||ce.toggleMonthPicker(J,T)},toggleYearPicker:(J,T,B=0)=>{var ce;(ce=K.value[B])==null||ce.toggleYearPicker(J,T)},toggleTimePicker:(J,T,B)=>{var ce;(ce=X.value)==null||ce.toggleTimePicker(J,T,B)},handleArrow:p,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:P,updateMonthYear:k,selectDate:R,presetDate:C})}),(J,T)=>(V(),z(Oe,null,[qe(lf,{"multi-calendars":m(U).count,collapse:J.collapse},{default:Fe(({instance:B,index:ce})=>[J.disableMonthYearSelect?oe("",!0):(V(),Ue(CB,Wt({key:0,ref:re=>{re&&(K.value[ce]=re)},months:m(AA)(J.formatLocale,J.locale,J.monthNameFormat),years:m(Ng)(J.yearRange,J.locale,J.reverseYears),month:m(o)(B),year:m(a)(B),instance:B},J.$props,{onMount:T[0]||(T[0]=re=>Y(m(Mi).header)),onResetFlow:T[1]||(T[1]=re=>J.$emit("reset-flow")),onUpdateMonthYear:re=>m(k)(B,re),onOverlayClosed:T[2]||(T[2]=re=>J.$emit("focus-menu"))}),Dn({_:2},[ct(m(L),(re,A)=>({name:re,fn:Fe(ie=>[De(J.$slots,re,Xt(gn(ie)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),qe($B,Wt({ref:re=>{re&&(M.value[ce]=re)},"mapped-dates":te.value(B),month:m(o)(B),year:m(a)(B),instance:B},J.$props,{onSelectDate:re=>m(R)(re,B!==1),onHandleSpace:re=>W(re,B!==1),onSetHoverDate:T[3]||(T[3]=re=>m(b)(re)),onHandleScroll:re=>m(y)(re,B),onHandleSwipe:re=>m(S)(re,B),onMount:T[4]||(T[4]=re=>Y(m(Mi).calendar)),onResetFlow:T[5]||(T[5]=re=>J.$emit("reset-flow")),onTooltipOpen:T[6]||(T[6]=re=>J.$emit("tooltip-open",re)),onTooltipClose:T[7]||(T[7]=re=>J.$emit("tooltip-close",re))}),Dn({_:2},[ct(m(ne),(re,A)=>({name:re,fn:Fe(ie=>[De(J.$slots,re,Xt(gn({...ie})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),J.enableTimePicker?(V(),z("div",UB,[J.$slots["time-picker"]?De(J.$slots,"time-picker",Xt(Wt({key:0},{time:m(u),updateTime:m(P)}))):(V(),Ue(BA,Wt({key:1,ref_key:"timePickerRef",ref:X},J.$props,{hours:m(u).hours,minutes:m(u).minutes,seconds:m(u).seconds,"internal-model-value":J.internalModelValue,"disabled-times-config":m(c),"validate-time":m(d),onMount:T[8]||(T[8]=B=>Y(m(Mi).timePicker)),"onUpdate:hours":T[9]||(T[9]=B=>m(P)(B)),"onUpdate:minutes":T[10]||(T[10]=B=>m(P)(B,!1)),"onUpdate:seconds":T[11]||(T[11]=B=>m(P)(B,!1,!0)),onResetFlow:T[12]||(T[12]=B=>J.$emit("reset-flow")),onOverlayClosed:T[13]||(T[13]=B=>J.$emit("time-picker-close")),onOverlayOpened:T[14]||(T[14]=B=>J.$emit("time-picker-open",B)),onAmPmChange:T[15]||(T[15]=B=>J.$emit("am-pm-change",B))}),Dn({_:2},[ct(m(E),(B,ce)=>({name:B,fn:Fe(re=>[De(J.$slots,B,Xt(gn(re)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):oe("",!0)],64))}}),jB=(t,e)=>{const n=le(),{defaultedMultiCalendars:r,defaultedConfig:s,defaultedHighlight:i,defaultedRange:o,propDates:a,defaultedFilters:l,defaultedMultiDates:u}=$t(t),{modelValue:c,year:d,month:f,calendars:h}=du(t,e),{isDisabled:p}=ii(t),{selectYear:y,groupedYears:S,showYearPicker:R,isDisabled:k,toggleYearPicker:C,handleYearSelect:g,handleYear:P}=UA({modelValue:c,multiCalendars:r,highlight:i,calendars:h,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),w=(L,E)=>[L,E].map(Y=>Br(Y,"MMMM",{locale:t.formatLocale})).join("-"),b=ue(()=>L=>c.value?Array.isArray(c.value)?c.value.some(E=>c0(L,E)):c0(c.value,L):!1),I=L=>{if(o.value.enabled){if(Array.isArray(c.value)){const E=rt(L,c.value[0])||rt(L,c.value[1]);return sf(c.value,n.value,L)&&!E}return!1}return!1},O=(L,E)=>L.quarter===s0(E)&&L.year===Ze(E),U=L=>typeof i.value=="function"?i.value({quarter:s0(L),year:Ze(L)}):!!i.value.quarters.find(E=>O(E,L)),K=ue(()=>L=>{const E=xt(new Date,{year:d.value(L)});return o5({start:cA(E),end:a5(E)}).map(Y=>{const te=Si(Y),be=i0(Y),de=p(Y),W=I(te),J=U(te);return{text:w(te,be),value:te,active:b.value(te),highlighted:J,disabled:de,isBetween:W}})}),M=L=>{Fg(L,c,u.value.limit),e("auto-apply",!0)},X=L=>{c.value=Ug(c,L,e),uf(c.value,e,t.autoApply,t.modelAuto)},ne=L=>{c.value=L,e("auto-apply")};return{defaultedConfig:s,defaultedMultiCalendars:r,groupedYears:S,year:d,isDisabled:k,quarters:K,showYearPicker:R,modelValue:c,setHoverDate:L=>{n.value=L},selectYear:y,selectQuarter:(L,E,Y)=>{if(!Y)return h.value[E].month=it(i0(L)),u.value.enabled?M(L):o.value.enabled?X(L):ne(L)},toggleYearPicker:C,handleYearSelect:g,handleYear:P}},HB={class:"dp--quarter-items"},qB=["disabled","onClick","onMouseover"],WB=nt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...vr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=zi(),o=jn(i,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:y,selectQuarter:S,toggleYearPicker:R,handleYearSelect:k,handleYear:C}=jB(s,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:S,handleYearSelect:k,handleYear:C})}),(g,P)=>(V(),Ue(lf,{"multi-calendars":m(a).count,collapse:g.collapse,stretch:""},{default:Fe(({instance:w})=>[x("div",{class:"dp-quarter-picker-wrap",style:xn({minHeight:`${m(l).modeHeight}px`})},[g.$slots["top-extra"]?De(g.$slots,"top-extra",{key:0,value:g.internalModelValue}):oe("",!0),x("div",null,[qe(LA,Wt(g.$props,{items:m(u)(w),instance:w,"show-year-picker":m(p)[w],year:m(c)(w),"is-disabled":b=>m(d)(w,b),onHandleYear:b=>m(C)(w,b),onYearSelect:b=>m(k)(b,w),onToggleYearPicker:b=>m(R)(w,b==null?void 0:b.flow,b==null?void 0:b.show)}),Dn({_:2},[ct(m(o),(b,I)=>({name:b,fn:Fe(O=>[De(g.$slots,b,Xt(gn(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),x("div",HB,[(V(!0),z(Oe,null,ct(m(f)(w),(b,I)=>(V(),z("div",{key:I},[x("button",{type:"button",class:Ve(["dp--qr-btn",{"dp--qr-btn-active":b.active,"dp--qr-btn-between":b.isBetween,"dp--qr-btn-disabled":b.disabled,"dp--highlighted":b.highlighted}]),disabled:b.disabled,onClick:O=>m(S)(b.value,w,b.disabled),onMouseover:O=>m(y)(b.value)},[g.$slots.quarter?De(g.$slots,"quarter",{key:0,value:b.value,text:b.text}):(V(),z(Oe,{key:1},[Tt(Le(b.text),1)],64))],42,qB)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),zB=["id","aria-label"],GB={key:0,class:"dp--menu-load-container"},YB=x("span",{class:"dp--menu-loader"},null,-1),KB=[YB],QB={key:0,class:"dp__sidebar_left"},XB=["onClick","onKeydown"],JB={key:2,class:"dp__sidebar_right"},ZB={key:3,class:"dp__action_extra"},_0=nt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...af,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=le(null),o=ue(()=>{const{openOnTop:v,..._}=s;return{..._,flowStep:I.value,collapse:s.collapse,noOverlayFocus:s.noOverlayFocus,menuWrapRef:i.value}}),{setMenuFocused:a,setShiftKey:l,control:u}=NA(),c=zi(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:h}=$t(s),p=le(null),y=le(0),S=le(null),R=le(!1),k=le(null);Ot(()=>{if(!s.shadow){R.value=!0,C(),window.addEventListener("resize",C);const v=nn(i);if(v&&!d.value.enabled&&!f.value.enabled&&(a(!0),ne()),v){const _=F=>{h.value.allowPreventDefault&&F.preventDefault(),js(F,h.value,!0)};v.addEventListener("pointerdown",_),v.addEventListener("mousedown",_)}}}),Wi(()=>{window.removeEventListener("resize",C)});const C=()=>{const v=nn(S);v&&(y.value=v.getBoundingClientRect().width)},{arrowRight:g,arrowLeft:P,arrowDown:w,arrowUp:b}=si(),{flowStep:I,updateFlowStep:O,childMount:U,resetFlow:K}=BU(s,r,k),M=ue(()=>s.monthPicker?rB:s.yearPicker?iB:s.timePicker?TB:s.quarterPicker?WB:BB),X=ue(()=>{var v;if(h.value.arrowLeft)return h.value.arrowLeft;const _=(v=i.value)==null?void 0:v.getBoundingClientRect(),F=s.getInputRect();return F.width<y.value&&F.left<=((_==null?void 0:_.left)??0)?`${F.width/2}px`:"50%"}),ne=()=>{const v=nn(i);v&&v.focus({preventScroll:!0})},L=ue(()=>{var v;return((v=k.value)==null?void 0:v.getSidebarProps())||{}}),E=()=>{s.openOnTop&&r("recalculate-position")},Y=jn(c,"action"),te=ue(()=>s.monthPicker||s.yearPicker?jn(c,"monthYear"):s.timePicker?jn(c,"timePicker"):jn(c,"shared")),be=ue(()=>s.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),de=ue(()=>({dp__menu_disabled:s.disabled,dp__menu_readonly:s.readonly,"dp-menu-loading":s.loading})),W=ue(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[s.menuClassName]:!!s.menuClassName})),J=v=>{js(v,h.value,!0)},T=()=>{s.escClose&&r("close-picker")},B=v=>{if(s.arrowNavigation){if(v==="up")return b();if(v==="down")return w();if(v==="left")return P();if(v==="right")return g()}else v==="left"||v==="up"?D("handleArrow","left",0,v==="up"):D("handleArrow","right",0,v==="down")},ce=v=>{l(v.shiftKey),!s.disableMonthYearSelect&&v.code==="Tab"&&v.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(v.preventDefault(),js(v,h.value,!0),r("close-picker"))},re=()=>{ne(),r("time-picker-close")},A=v=>{var _,F,G;(_=k.value)==null||_.toggleTimePicker(!1,!1),(F=k.value)==null||F.toggleMonthPicker(!1,!1,v),(G=k.value)==null||G.toggleYearPicker(!1,!1,v)},ie=(v,_=0)=>{var F,G,Z;return v==="month"?(F=k.value)==null?void 0:F.toggleMonthPicker(!1,!0,_):v==="year"?(G=k.value)==null?void 0:G.toggleYearPicker(!1,!0,_):v==="time"?(Z=k.value)==null?void 0:Z.toggleTimePicker(!0,!1):A(_)},D=(v,..._)=>{var F,G;(F=k.value)!=null&&F[v]&&((G=k.value)==null||G[v](..._))},j=()=>{D("selectCurrentDate")},Ae=(v,_)=>{D("presetDate",v,_)},_e=()=>{D("clearHoverDate")};return e({updateMonthYear:(v,_)=>{D("updateMonthYear",v,_)},switchView:ie}),(v,_)=>{var F,G,Z;return V(),z("div",{id:v.uid?`dp-menu-${v.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:"0",role:"dialog","aria-label":(F=v.ariaLabels)==null?void 0:F.menu,class:Ve(W.value),style:xn({"--dp-arrow-left":X.value}),onMouseleave:_e,onClick:J,onKeydown:[Xe(T,["esc"]),_[18]||(_[18]=Xe(vt(Q=>B("left"),["prevent"]),["left"])),_[19]||(_[19]=Xe(vt(Q=>B("up"),["prevent"]),["up"])),_[20]||(_[20]=Xe(vt(Q=>B("down"),["prevent"]),["down"])),_[21]||(_[21]=Xe(vt(Q=>B("right"),["prevent"]),["right"])),ce]},[(v.disabled||v.readonly)&&m(f).enabled||v.loading?(V(),z("div",{key:0,class:Ve(de.value)},[v.loading?(V(),z("div",GB,KB)):oe("",!0)],2)):oe("",!0),!m(f).enabled&&!v.teleportCenter?(V(),z("div",{key:1,class:Ve(be.value)},null,2)):oe("",!0),x("div",{ref_key:"innerMenuRef",ref:S,class:Ve({dp__menu_content_wrapper:((G=v.presetDates)==null?void 0:G.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Z=v.presetDates)==null?void 0:Z.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"])}),style:xn({"--dp-menu-width":`${y.value}px`})},[v.$slots["left-sidebar"]?(V(),z("div",QB,[De(v.$slots,"left-sidebar",Xt(gn(L.value)))])):oe("",!0),v.presetDates.length?(V(),z("div",{key:1,class:Ve({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(V(!0),z(Oe,null,ct(v.presetDates,(Q,Ee)=>(V(),z(Oe,{key:Ee},[Q.slot?De(v.$slots,Q.slot,{key:0,presetDate:Ae,label:Q.label,value:Q.value}):(V(),z("button",{key:1,type:"button",style:xn(Q.style||{}),class:Ve(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:vt(he=>Ae(Q.value,Q.noTz),["prevent"]),onKeydown:[Xe(vt(he=>Ae(Q.value,Q.noTz),["prevent"]),["enter"]),Xe(vt(he=>Ae(Q.value,Q.noTz),["prevent"]),["space"])]},Le(Q.label),47,XB))],64))),128))],2)):oe("",!0),x("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(V(),Ue(Zc(M.value),Wt({ref_key:"dynCmpRef",ref:k},o.value,{"flow-step":m(I),onMount:m(U),onUpdateFlowStep:m(O),onResetFlow:m(K),onFocusMenu:ne,onSelectDate:_[0]||(_[0]=Q=>v.$emit("select-date")),onDateUpdate:_[1]||(_[1]=Q=>v.$emit("date-update",Q)),onTooltipOpen:_[2]||(_[2]=Q=>v.$emit("tooltip-open",Q)),onTooltipClose:_[3]||(_[3]=Q=>v.$emit("tooltip-close",Q)),onAutoApply:_[4]||(_[4]=Q=>v.$emit("auto-apply",Q)),onRangeStart:_[5]||(_[5]=Q=>v.$emit("range-start",Q)),onRangeEnd:_[6]||(_[6]=Q=>v.$emit("range-end",Q)),onInvalidFixedRange:_[7]||(_[7]=Q=>v.$emit("invalid-fixed-range",Q)),onTimeUpdate:_[8]||(_[8]=Q=>v.$emit("time-update")),onAmPmChange:_[9]||(_[9]=Q=>v.$emit("am-pm-change",Q)),onTimePickerOpen:_[10]||(_[10]=Q=>v.$emit("time-picker-open",Q)),onTimePickerClose:re,onRecalculatePosition:E,onUpdateMonthYear:_[11]||(_[11]=Q=>v.$emit("update-month-year",Q)),onAutoApplyInvalid:_[12]||(_[12]=Q=>v.$emit("auto-apply-invalid",Q)),onInvalidDate:_[13]||(_[13]=Q=>v.$emit("invalid-date",Q)),"onUpdate:internalModelValue":_[14]||(_[14]=Q=>v.$emit("update:internal-model-value",Q))}),Dn({_:2},[ct(te.value,(Q,Ee)=>({name:Q,fn:Fe(he=>[De(v.$slots,Q,Xt(gn({...he})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),v.$slots["right-sidebar"]?(V(),z("div",JB,[De(v.$slots,"right-sidebar",Xt(gn(L.value)))])):oe("",!0),v.$slots["action-extra"]?(V(),z("div",ZB,[v.$slots["action-extra"]?De(v.$slots,"action-extra",{key:0,selectCurrentDate:j}):oe("",!0)])):oe("",!0)],6),!v.autoApply||m(h).keepActionRow?(V(),Ue(YU,Wt({key:2,"menu-mount":R.value},o.value,{"calendar-width":y.value,onClosePicker:_[15]||(_[15]=Q=>v.$emit("close-picker")),onSelectDate:_[16]||(_[16]=Q=>v.$emit("select-date")),onInvalidSelect:_[17]||(_[17]=Q=>v.$emit("invalid-select")),onSelectNow:j}),Dn({_:2},[ct(m(Y),(Q,Ee)=>({name:Q,fn:Fe(he=>[De(v.$slots,Q,Xt(gn({...he})))])}))]),1040,["menu-mount","calendar-width"])):oe("",!0)],46,zB)}}}),e9=typeof window<"u"?window:void 0,uh=()=>{},t9=t=>Sp()?(C0(t),!0):!1,n9=(t,e,n,r)=>{if(!t)return uh;let s=uh;const i=Ut(()=>m(t),a=>{s(),a&&(a.addEventListener(e,n,r),s=()=>{a.removeEventListener(e,n,r),s=uh})},{immediate:!0,flush:"post"}),o=()=>{i(),s()};return t9(o),o},r9=(t,e,n,r={})=>{const{window:s=e9,event:i="pointerdown"}=r;return s?n9(s,i,o=>{const a=nn(t),l=nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},s9=nt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...af},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=zi(),o=le(!1),a=nl(s,"modelValue"),l=nl(s,"timezone"),u=le(null),c=le(null),d=le(null),f=le(!1),h=le(null),p=le(!1),y=le(!1),S=le(!1),{setMenuFocused:R,setShiftKey:k}=NA(),{clearArrowNav:C}=si(),{validateDate:g,isValidTime:P}=ii(s),{defaultedTransitions:w,defaultedTextInput:b,defaultedInline:I,defaultedConfig:O,defaultedRange:U,defaultedMultiDates:K}=$t(s),{menuTransition:M,showTransition:X}=cu(w);Ot(()=>{B(s.modelValue),St().then(()=>{if(!I.value.enabled){const ee=de(h.value);ee==null||ee.addEventListener("scroll",_),window==null||window.addEventListener("resize",F)}}),I.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",G),window==null||window.addEventListener("keydown",Z)}),Wi(()=>{if(!I.value.enabled){const ee=de(h.value);ee==null||ee.removeEventListener("scroll",_),window==null||window.removeEventListener("resize",F)}window==null||window.removeEventListener("keyup",G),window==null||window.removeEventListener("keydown",Z)});const ne=jn(i,"all",s.presetDates),L=jn(i,"input");Ut([a,l],()=>{B(a.value)},{deep:!0});const{openOnTop:E,menuStyle:Y,xCorrect:te,setMenuPosition:be,getScrollableParent:de,shadowRender:W}=LU({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:I,emit:r,props:s,slots:i}),{inputValue:J,internalModelValue:T,parseExternalModelValue:B,emitModelValue:ce,formatInputValue:re,checkBeforeEmit:A}=NU(r,s,f),ie=ue(()=>({dp__main:!0,dp__theme_dark:s.dark,dp__theme_light:!s.dark,dp__flex_display:I.value.enabled,"dp--flex-display-collapsed":S.value,dp__flex_display_with_input:I.value.input})),D=ue(()=>s.dark?"dp__theme_dark":"dp__theme_light"),j=ue(()=>s.teleport?{to:typeof s.teleport=="boolean"?"body":s.teleport,disabled:!s.teleport||I.value.enabled}:{}),Ae=ue(()=>({class:"dp__outer_menu_wrap"})),_e=ue(()=>I.value.enabled&&(s.timePicker||s.monthPicker||s.yearPicker||s.quarterPicker)),v=()=>{var ee,we;return(we=(ee=d.value)==null?void 0:ee.$el)==null?void 0:we.getBoundingClientRect()},_=()=>{o.value&&(O.value.closeOnScroll?Me():be())},F=()=>{var ee;o.value&&be();const we=(ee=c.value)==null?void 0:ee.$el.getBoundingClientRect().width;S.value=document.body.offsetWidth<=we},G=ee=>{ee.key==="Tab"&&!I.value.enabled&&!s.teleport&&O.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Me()),y.value=ee.shiftKey},Z=ee=>{y.value=ee.shiftKey},Q=()=>{!s.disabled&&!s.readonly&&(W(_0,s),be(!1),o.value=!0,o.value&&r("open"),o.value||Pe(),B(s.modelValue))},Ee=()=>{var ee;J.value="",Pe(),(ee=d.value)==null||ee.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),O.value.closeOnClearValue&&Me()},he=()=>{const ee=T.value;return!ee||!Array.isArray(ee)&&g(ee)?!0:Array.isArray(ee)?K.value.enabled||ee.length===2&&g(ee[0])&&g(ee[1])?!0:U.value.partialRange&&!s.timePicker?g(ee[0]):!1:!1},me=()=>{A()&&he()?(ce(),Me()):r("invalid-select",T.value)},pe=ee=>{xe(),ce(),O.value.closeOnAutoApply&&!ee&&Me()},xe=()=>{d.value&&b.value.enabled&&d.value.setParsedDate(T.value)},Ne=(ee=!1)=>{s.autoApply&&P(T.value)&&he()&&(U.value.enabled&&Array.isArray(T.value)?(U.value.partialRange||T.value.length===2)&&pe(ee):pe(ee))},Pe=()=>{b.value.enabled||(T.value=null)},Me=()=>{I.value.enabled||(o.value&&(o.value=!1,te.value=!1,R(!1),k(!1),C(),r("closed"),J.value&&B(a.value)),Pe(),r("blur"))},We=(ee,we,Se=!1)=>{if(!ee){T.value=null;return}const tt=Array.isArray(ee)?!ee.some(Ct=>!g(Ct)):g(ee),dt=P(ee);tt&&dt&&(T.value=ee,we&&(p.value=Se,me(),r("text-submit")))},et=()=>{s.autoApply&&P(T.value)&&ce(),xe()},H=()=>o.value?Me():Q(),q=ee=>{T.value=ee},fe=()=>{b.value.enabled&&(f.value=!0,re()),r("focus")},$=()=>{if(b.value.enabled&&(f.value=!1,B(s.modelValue),p.value)){const ee=oU(h.value,y.value);ee==null||ee.focus()}r("blur")},se=ee=>{c.value&&c.value.updateMonthYear(0,{month:f0(ee.month),year:f0(ee.year)})},N=ee=>{B(ee??s.modelValue)},ae=(ee,we)=>{var Se;(Se=c.value)==null||Se.switchView(ee,we)},ge=ee=>O.value.onClickOutside?O.value.onClickOutside(ee):Me();return r9(u,d,()=>ge(he)),e({closeMenu:Me,selectDate:me,clearValue:Ee,openMenu:Q,onScroll:_,formatInputValue:re,updateInternalModelValue:q,setMonthYear:se,parseModel:N,switchView:ae,toggleMenu:H}),(ee,we)=>(V(),z("div",{ref_key:"pickerWrapperRef",ref:h,class:Ve(ie.value),"data-datepicker-instance":""},[qe(WU,Wt({ref_key:"inputRef",ref:d,"input-value":m(J),"onUpdate:inputValue":we[0]||(we[0]=Se=>ht(J)?J.value=Se:null),"is-menu-open":o.value},ee.$props,{onClear:Ee,onOpen:Q,onSetInputDate:We,onSetEmptyDate:m(ce),onSelectDate:me,onToggle:H,onClose:Me,onFocus:fe,onBlur:$,onRealBlur:we[1]||(we[1]=Se=>f.value=!1)}),Dn({_:2},[ct(m(L),(Se,tt)=>({name:Se,fn:Fe(dt=>[De(ee.$slots,Se,Xt(gn(dt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(V(),Ue(Zc(ee.teleport?Ix:"div"),Xt(gn(j.value)),{default:Fe(()=>[qe(Qs,{name:m(M)(m(E)),css:m(X)&&!m(I).enabled},{default:Fe(()=>[o.value?(V(),z("div",Wt({key:0,ref_key:"dpWrapMenuRef",ref:u},Ae.value,{class:{"dp--menu-wrapper":!m(I).enabled},style:m(I).enabled?void 0:m(Y)}),[qe(_0,Wt({ref_key:"dpMenuRef",ref:c},ee.$props,{"internal-model-value":m(T),"onUpdate:internalModelValue":we[2]||(we[2]=Se=>ht(T)?T.value=Se:null),class:{[D.value]:!0,"dp--menu-wrapper":ee.teleport},"open-on-top":m(E),"no-overlay-focus":_e.value,collapse:S.value,"get-input-rect":v,onClosePicker:Me,onSelectDate:me,onAutoApply:Ne,onTimeUpdate:et,onFlowStep:we[3]||(we[3]=Se=>ee.$emit("flow-step",Se)),onUpdateMonthYear:we[4]||(we[4]=Se=>ee.$emit("update-month-year",Se)),onInvalidSelect:we[5]||(we[5]=Se=>ee.$emit("invalid-select",m(T))),onAutoApplyInvalid:we[6]||(we[6]=Se=>ee.$emit("invalid-select",Se)),onInvalidFixedRange:we[7]||(we[7]=Se=>ee.$emit("invalid-fixed-range",Se)),onRecalculatePosition:m(be),onTooltipOpen:we[8]||(we[8]=Se=>ee.$emit("tooltip-open",Se)),onTooltipClose:we[9]||(we[9]=Se=>ee.$emit("tooltip-close",Se)),onTimePickerOpen:we[10]||(we[10]=Se=>ee.$emit("time-picker-open",Se)),onTimePickerClose:we[11]||(we[11]=Se=>ee.$emit("time-picker-close",Se)),onAmPmChange:we[12]||(we[12]=Se=>ee.$emit("am-pm-change",Se)),onRangeStart:we[13]||(we[13]=Se=>ee.$emit("range-start",Se)),onRangeEnd:we[14]||(we[14]=Se=>ee.$emit("range-end",Se)),onDateUpdate:we[15]||(we[15]=Se=>ee.$emit("date-update",Se)),onInvalidDate:we[16]||(we[16]=Se=>ee.$emit("invalid-date",Se))}),Dn({_:2},[ct(m(ne),(Se,tt)=>({name:Se,fn:Fe(dt=>[De(ee.$slots,Se,Xt(gn({...dt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):oe("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Or=(()=>{const t=s9;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),i9=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));Object.entries(i9).forEach(([t,e])=>{t!=="default"&&(Or[t]=e)});const o9={class:"md:container md:mx-auto pt-12 mb-11"},a9={class:"cursor-default flex flex-col justify-center items-center"},l9=x("p",{class:"px-10 py-1 text-gray-700 text-xl font-semibold mb-10"},"Guardar los cambios?",-1),u9={class:"w-full flex flex-row justify-evenly items-center"},c9=x("h1",{class:"text-left pl-5 text-2xl text-blue-700 font-bold mb-4"},"CONFIGURACIN",-1),d9=x("p",{class:"text-left pl-5 text-gray-700 font-normal mb-12"},"Administra tus datos personales y de tus autos.",-1),f9={class:"mb-4 rounded-xs w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 rounded-xs px-4 py-5 drop-shadow-md"},h9=x("h2",{class:"text-lg text-left font-bold mb-6 text-blue-700"},"Informacin de contacto",-1),p9={class:"flex sm:flex-row flex-col justify-between w-full items-baseline"},m9={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},g9=x("label",{for:"first-name",class:"font-bold text-xs mb-1"},"Nombres*",-1),v9={key:0,class:"text-xs text-red-700 font-medium pl-2"},y9={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},_9=x("label",{for:"last-name",class:"font-bold text-xs mb-1"},"Apellidos*",-1),b9={key:0,class:"text-xs text-red-700 font-medium pl-2"},w9={class:"flex flex-col w-full"},T9=x("label",{for:"phone",class:"font-bold text-xs mb-1"},"Telfono*",-1),E9={key:0,class:"text-xs text-red-700 font-medium pl-2"},A9={class:"mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},S9={class:"flex flex-row justify-between items-center w-full mb-6"},x9=x("h2",{class:"text-lg text-left font-bold text-blue-700"},"Informacin de tus automviles",-1),I9=x("i",{class:"fas fa-plus"},null,-1),C9={class:"flex flex-col justify-between items-center w-full bg-rose-50 px-2 py-2"},P9={class:"w-full flex flex-row justify-between items-center mb-4"},R9={class:"text-xl text-left text-blue-700 font-black"},k9=["onClick"],D9=x("i",{class:"fas fa-trash"},null,-1),O9={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},M9={class:"flex flex-col mb-2 w-full sm:mr-2"},N9=x("label",{for:"brand",class:"font-bold text-xs mb-1"},"Marca",-1),V9=["onUpdate:modelValue"],L9=["value"],$9={key:0,class:"text-xs text-red-700 font-medium pl-2"},F9={class:"flex flex-col mb-2 w-full sm:mr-2"},U9=x("label",{for:"model",class:"font-bold text-xs mb-1"},"Modelo",-1),B9=["onUpdate:modelValue"],j9=["value"],H9={key:0,class:"text-xs text-red-700 font-medium pl-2"},q9={class:"flex flex-col mb-2 w-full sm:mr-2"},W9=x("label",{for:"model",class:"font-bold text-xs mb-1"},"Placa",-1),z9=["onInput","onUpdate:modelValue"],G9={key:0,class:"text-xs text-red-700 font-medium pl-2"},Y9={class:"flex flex-col sm:mb-2 w-full"},K9=x("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de uso",-1),Q9=["onUpdate:modelValue"],X9=x("option",{class:"text-xs",value:"privateUse"},"Particular",-1),J9=x("option",{class:"text-xs",value:"serviceUse"},"De servicios",-1),Z9=[X9,J9],ej={key:0,class:"text-xs text-red-700 font-medium pl-2"},tj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},nj={class:"flex flex-col mb-2 w-full mr-1"},rj=x("label",{for:"year",class:"font-bold text-xs mb-1"},"Ao de fabricacin",-1),sj={key:0,class:"text-xs text-red-700 font-medium pl-2"},ij={class:"flex flex-col mb-2 w-full mr-1 ml-1"},oj=x("label",{for:"mileage",class:"font-bold text-xs mb-1"},"Kilometraje Actual",-1),aj=["onUpdate:modelValue"],lj={key:0,class:"text-xs text-red-700 font-medium pl-2"},uj={class:"flex flex-col mb-2 w-full ml-1"},cj=x("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de Combustible",-1),dj=["onUpdate:modelValue"],fj=x("option",{class:"text-xs",value:"gasolina"},"Gasolina",-1),hj=x("option",{class:"text-xs",value:"gnv"},"GNV",-1),pj=x("option",{class:"text-xs",value:"glp"},"GLP",-1),mj=x("option",{class:"text-xs",value:"diesel"},"Disel",-1),gj=x("option",{class:"text-xs",value:"hibrido"},"Hbrido",-1),vj=[fj,hj,pj,mj,gj],yj={key:0,class:"text-xs text-red-700 font-medium pl-2"},_j=x("p",{class:"font-black text-xs text-end w-full text-rose-900 border-b-2 border-rose-900 m-4 mb-6"},"FECHAS IMPORTANTES",-1),bj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline"},wj={class:"flex flex-col mb-2 w-full mr-1"},Tj=x("label",{for:"soat-expiry",class:"font-bold text-xs mb-1"},"SOAT vigente",-1),Ej={key:0,class:"text-xs text-red-700 font-medium pl-2"},Aj={key:0,class:"flex flex-col mb-2 w-full mr-1 ml-1"},Sj=x("label",{for:"annual-inspection",class:"font-bold text-xs mb-1"},"Certificacin GNV/GLP vigente",-1),xj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Ij={class:"flex flex-col mb-2 w-full ml-1"},Cj=x("label",{for:"technical-inspection",class:"font-bold text-xs mb-1"},"Revisin Tcnica vigente",-1),Pj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Rj={key:0,class:"h-0.5 w-full my-8 bg-sky-50"},kj=["disabled"],Dj=nt({__name:"Profile",setup(t){const e=ua(),n=Kr(),r=nA(),s=ea(),i=le(!1);Ot(()=>{e.isAuthenticated||s.push({name:"Home"})});async function o(){n.handleSubmit(()=>{i.value=!0})()}async function a(){n.handleSubmit(async c=>(e.setIsLoading(!0),await n.updateUser({firstName:c.firstName,lastName:c.lastName,phone:c.phone,cars:c.cars}).then(()=>{e.setIsLoading(!1),r.setShowAlert(!0)})),()=>{e.setIsLoading(!1)})()}const l=en([{brand:"Toyota",models:["Corolla","Camry","Rav4","Yaris","Highlander","Tacoma","Sienna","4Runner","Prius","Tundra","Land Cruiser","Avalon","Sequoia"]},{brand:"Honda",models:["Civic","Accord","CR-V","Pilot","Odyssey","HR-V","Fit","Ridgeline","Passport","Insight","Clarity"]},{brand:"Ford",models:["F-150","Escape","Explorer","Focus","Mustang","Edge","Fusion","Ranger","Expedition","EcoSport","Taurus","Flex","Transit"]},{brand:"Chevrolet",models:["Silverado","Equinox","Malibu","Cruze","Traverse","Tahoe","Suburban","Colorado","Impala","Blazer","Express","Trax","Sonic","Volt"]},{brand:"Nissan",models:["Altima","Rogue","Sentra","Frontier","Pathfinder","Versa","Murano","Titan","Maxima","Armada","Leaf","Kicks","NV","370Z"]},{brand:"Hyundai",models:["Elantra","Sonata","Tucson","Santa Fe","Kona","Veloster","Accent","Palisade","Venue","Nexo","Ioniq"]},{brand:"Volkswagen",models:["Jetta","Passat","Tiguan","Atlas","Golf","Arteon","Touareg","ID.4","ID.3","Golf GTI","T-Cross","Polo","Amarok","Teramont"]},{brand:"BMW",models:["3 Series","5 Series","X3","X5","7 Series","X1","X7","X6","4 Series","Z4","8 Series","i3","i8","M2"]},{brand:"Mercedes-Benz",models:["C-Class","E-Class","GLC","GLE","S-Class","A-Class","GLA","GLB","CLA","G-Class","SLC","GLS","SL","EQC"]},{brand:"Audi",models:["A4","Q5","A6","Q7","A3","Q3","A5","A7","Q8","e-tron","TT","A8","RS 3","S3"]},{brand:"Subaru",models:["Impreza","Forester","Outback","Legacy","Crosstrek","WRX","Ascent"]},{brand:"Kia",models:["Optima","Sorento","Sportage","Forte","Soul","Telluride","Rio"]},{brand:"Lexus",models:["RX","ES","NX","IS","GX","LS","UX"]},{brand:"Mazda",models:["Mazda3","Mazda6","CX-5","CX-9","MX-5 Miata","CX-3","CX-30"]},{brand:"Jeep",models:["Wrangler","Grand Cherokee","Cherokee","Renegade","Compass","Gladiator","Wagoneer"]},{brand:"Ram",models:["1500","2500","3500","Promaster","Promaster City","Chassis Cab"]},{brand:"GMC",models:["Sierra","Acadia","Terrain","Yukon","Canyon","Savana","Envoy"]},{brand:"Tesla",models:["Model S","Model 3","Model X","Model Y","Roadster"]},{brand:"Volvo",models:["S60","XC60","XC90","S90","XC40","V60","V90"]},{brand:"Cadillac",models:["Escalade","CTS","XT5","XT4","CT6","XT6","ATS"]},{brand:"Dodge",models:["Challenger","Charger","Durango","Journey","Grand Caravan","Dart","Ram 1500","Ram 2500","Ram 3500","Viper"]},{brand:"Buick",models:["Encore","Enclave","Regal","Lacrosse","Verano","Cascada","Envision","Century","Rendezvous","Park Avenue"]},{brand:"Acura",models:["TLX","MDX","RDX","ILX","RLX","NSX","RSX","CL","TSX","Integra"]},{brand:"Infiniti",models:["Q50","QX60","QX80","Q60","QX50","Q70","QX30","QX70","G35","FX35"]},{brand:"Lincoln",models:["MKZ","Navigator","Nautilus","Aviator","Continental","Corsair","MKX","Town Car","MKS","Mark LT"]},{brand:"Land Rover",models:["Range Rover","Discovery","Evoque","Defender","Velar","Sport","Freelander","Discovery Sport","LR4","LR2"]},{brand:"Jaguar",models:["XE","F-Pace","I-Pace","XF","XJ","E-Pace","S-Type","X-Type","XK","XKR"]},{brand:"Porsche",models:["911","Cayenne","Panamera","Macan","Boxster","Cayman","Taycan","918 Spyder","944","928"]},{brand:"Fiat",models:["500","500X","500L","124 Spider","Punto","Doblo","Tipo","Panda","Qubo","Uno"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","Mirage","Pajero","Lancer","ASX","Montero","Strada","Galant","Attrage"]},{brand:"Fiat",models:["500","Panda","Tipo","Punto","500X"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","L200","ASX","Pajero Sport"]},{brand:"Chrysler",models:["300","Pacifica","Voyager","Aspen","PT Cruiser"]},{brand:"Mini",models:["Cooper","Countryman","Clubman","Convertible","Paceman"]},{brand:"Alfa Romeo",models:["Giulia","Stelvio","4C","Giulietta","MiTo"]},{brand:"Genesis",models:["G70","G80","G90"]},{brand:"Smart",models:["Fortwo","Forfour","Roadster"]},{brand:"Aston Martin",models:["DB11","Vantage","DBS Superleggera","Rapide","DBX"]},{brand:"Ferrari",models:["488","812 Superfast","Portofino","Roma","SF90 Stradale"]},{brand:"Maserati",models:["Ghibli","Quattroporte","Levante","GranTurismo","GranCabrio"]},{brand:"Bugatti",models:["Chiron","Veyron","Divo"]},{brand:"McLaren",models:["720S","570S","P1"]},{brand:"Rolls-Royce",models:["Phantom","Cullinan","Ghost"]},{brand:"Bentley",models:["Continental GT","Bentayga","Flying Spur"]},{brand:"Lotus",models:["Evora","Elise","Exige"]},{brand:"Maybach",models:["S-Class","GLS"]},{brand:"Pagani",models:["Huayra","Zonda"]},{brand:"Abarth",models:["595","124 Spider"]},{brand:"Lancia",models:["Ypsilon","Delta"]},{brand:"Citron",models:["C3","C4","C5"]},{brand:"Citron",models:["C3","C4","C5","Berlingo"]},{brand:"Peugeot",models:["208","308","3008","5008"]},{brand:"Renault",models:["Clio","Mgane","Captur","Kadjar"]},{brand:"DS Automobiles",models:["DS3","DS4","DS5"]},{brand:"Dacia",models:["Sandero","Duster","Logan"]},{brand:"SEAT",models:["Ibiza","Len","Arona","Ateca","Tarraco"]},{brand:"Skoda",models:["Octavia","Superb","Karoq","Kodiaq"]},{brand:"Volkswagen Commercial Vehicles",models:["Transporter","Caddy","Crafter"]},{brand:"Mitsubishi Motors",models:["Outlander","ASX","Eclipse Cross"]},{brand:"Suzuki",models:["Swift","Vitara","Jimny"]},{brand:"Hino",models:["Dutro","Ranger","Poncho","Liesse"]},{brand:"Scania",models:["R-Series","S-Series","G-Series","P-Series"]},{brand:"MAN",models:["TGX","TGS","TGM","TGL"]},{brand:"Iveco",models:["Stralis","Eurocargo","Daily","Trakker"]},{brand:"Freightliner",models:["Cascadia","M2 106","Columbia","114SD"]},{brand:"Western Star",models:["4900","5700","4700","6900"]},{brand:"Peterbilt",models:["579","389","567","579 UltraLoft"]},{brand:"Kenworth",models:["T680","W990","T880","T800"]},{brand:"Mack Trucks",models:["Anthem","Granite","Pinnacle","LR"]},{brand:"International Trucks",models:["LT Series","RH Series","MV Series","HV Series"]},{brand:"Volvo Trucks",models:["VNL Series","VNR Series","VHD Series","VAH Series"]},{brand:"DAF Trucks",models:["XF","CF","LF"]},{brand:"FAW",models:["J7","Jiefang J6P","Jiefang JH6","Jiefang JH6"]},{brand:"JAC",models:["Sunray","N-Series","M5","T6"]},{brand:"Dongfeng Motor",models:["EQ2050","Dongfeng Warrior","Joyear","DFSK"]},{brand:"Changan Automobile",models:["CS","Raeton","Alsvin","Eado"]},{brand:"BYD",models:["Tang","Song","Yuan","Qin"]},{brand:"BAIC Group",models:["Senova","X","Weiwang","D50"]},{brand:"GAC Group",models:["Trumpchi","Aion","Gonow","Hino"]},{brand:"Great Wall Motors",models:["Haval","Wey","Ora","Great Wall"]},{brand:"Geely Auto",models:["Emgrand","Vision","Boyue","Coolray","Preface","Xingyue","Borui","Binrui","Jiaji","Star"]},{brand:"Zotye Auto",models:["T600","T700","SR9","SR7","E200","Z300","Z100","Z500","Z360","Z560"]},{brand:"Chery",models:["Tiggo 7","Tiggo 8","Tiggo 3X","Arrizo 5","Arrizo 6","Arrizo 7","Fulwin","QQ","eQ1","eQ5"]},{brand:"SAIC Motor",models:["MG ZS","MG Hector","MG RX5","MG 5","MG 6","Roewe RX3","Roewe RX5","Roewe RX8","Roewe i5","Roewe i6"]},{brand:"Changhe Auto",models:["Q25","Q35","Freedom M50","Q7","Q25L","Q7L","A6","A8","A5","Q6"]},{brand:"Lifan Group",models:["X70","X80","X60","Myway","650","520","820","530","720","330"]},{brand:"Wuling Motors",models:["Hong Guang","Rong Guang","Sunshine","Zhiguang","Future","Hongtu","Cortez","Confero","Formo","Almaz"]},{brand:"Haval",models:["H6","H9","H2","F7","F5","F7x","H4","H1","H5","Jolion"]},{brand:"Venucia",models:["T90","D60","Xing","R30","R50","T70","M30","E30","e30","D50"]},{brand:"NIO",models:["ES8","ES6","EC6","EP9","ET7","ET5","ET6","EP7","E10","EF9"]},{brand:"NIO",models:["ES8","ES6","EC6"]},{brand:"Xpeng Motors",models:["G3","P7"]},{brand:"WM Motor",models:["W5","W6"]},{brand:"Arcfox",models:["-T","-S"]},{brand:"Roewe",models:["i5","RX5","RX3"]},{brand:"Borgward",models:["BX7","BX5","BX6"]},{brand:"Foton",models:["Tunland","View","Sauvana"]},{brand:"King Long",models:["XMQ6900","XMQ6127","XMQ6119"]},{brand:"Sunlong",models:["SLK6112","SLK6793","SLK6752"]},{brand:"Yutong",models:["ZK6122","ZK6119","ZK6125"]}]);function u(c){const d=l.find(({brand:f})=>f==c);return d?d.models:[]}return(c,d)=>(V(),Ue(rf,null,{default:Fe(()=>[x("div",o9,[i.value?(V(),Ue(ca,{key:0,onCloseModal:d[1]||(d[1]=f=>i.value=!1),width:"sm:w-1/3 w-full",height:"h-1/3",showCloseIcon:!0},{default:Fe(()=>[x("div",a9,[l9,x("span",u9,[x("button",{type:"button",class:"mr-5 hover:opacity-80 hover:border-blue-700 border-gray-200 border-2 cursor-pointer rounded-lg text-blue-700 py-2 px-6 font-black text-xs",onClick:d[0]||(d[0]=f=>i.value=!1)},"CANCELAR"),x("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black text-xs",onClick:a},"GUARDAR")])])]),_:1})):oe("",!0),c9,d9,x("form",f9,[h9,x("span",p9,[x("div",m9,[g9,ut(x("input",{id:"first-name","onUpdate:modelValue":d[2]||(d[2]=f=>m(n).firstName=f),type:"text",placeholder:"Ingresa tu nombre",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":m(n).meta.touched&&m(n).errors.firstName}]),style:{outline:"none"}},null,2),[[hn,m(n).firstName]]),m(n).meta.touched&&m(n).errors.firstName?(V(),z("p",v9,Le(m(n).errors.firstName),1)):oe("",!0)]),x("div",y9,[_9,ut(x("input",{id:"last-name","onUpdate:modelValue":d[3]||(d[3]=f=>m(n).lastName=f),type:"text",placeholder:"Ingresa tus apellidos",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":m(n).meta.touched&&m(n).errors.lastName}]),style:{outline:"none"}},null,2),[[hn,m(n).lastName]]),m(n).meta.touched&&m(n).errors.lastName?(V(),z("p",b9,Le(m(n).errors.lastName),1)):oe("",!0)]),x("div",w9,[T9,ut(x("input",{id:"phone","onUpdate:modelValue":d[4]||(d[4]=f=>m(n).phone=f),type:"tel",placeholder:"Ingresa tu nmero de telfono",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":m(n).meta.touched&&m(n).errors.phone}]),style:{outline:"none"}},null,2),[[hn,m(n).phone]]),m(n).meta.touched&&m(n).errors.phone?(V(),z("p",E9,Le(m(n).errors.phone),1)):oe("",!0)])])]),x("form",A9,[x("span",S9,[x9,x("button",{type:"button",onClick:d[5]||(d[5]=(...f)=>m(n).addCar&&m(n).addCar(...f)),class:"pointer-default hover:opacity-90 border-2 hover:border-blue-700 hover:bg-blue-100 hover:text-blue-700 text-blue-100 bg-blue-700 font-bold rounded-md px-4 py-1"},[Tt("Agregar automvil "),I9])]),qe(lI,{name:"fade",tag:"ul",class:"w-full"},{default:Fe(()=>[(V(!0),z(Oe,null,ct(m(n).cars,(f,h)=>(V(),z("li",{key:f.key,class:"flex flex-col justify-between items-center w-full"},[x("span",C9,[x("span",P9,[x("p",R9,"AUTO N "+Le(h+1),1),x("button",{type:"button",onClick:p=>m(n).deleteCar(h),class:"ml-4 px-2 rounded-md text-md font-black hover:opacity-90 hover:bg-blue-700 hover:text-blue-100 text-blue-700 bg-blue-100"},[Tt("Quitar automvil "),D9],8,k9)]),x("span",O9,[x("div",M9,[N9,ut(x("select",{id:"brand","onUpdate:modelValue":p=>f.value.brand=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":m(n).meta.touched&&m(n).errors[`cars.${h}.brand`]}]),style:{outline:"none"}},[(V(!0),z(Oe,null,ct(l,({brand:p},y)=>(V(),z("option",{class:"text-xs",value:p,key:y},Le(p),9,L9))),128))],10,V9),[[ur,f.value.brand]]),m(n).meta.touched&&m(n).errors[`cars.${h}.brand`]?(V(),z("p",$9,Le(m(n).errors[`cars.${h}.brand`]),1)):oe("",!0)]),x("div",F9,[U9,ut(x("select",{id:"model","onUpdate:modelValue":p=>f.value.model=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":m(n).meta.touched&&m(n).errors[`cars.${h}.model`]}]),style:{outline:"none"}},[(V(!0),z(Oe,null,ct(u(f.value.brand),(p,y)=>(V(),z("option",{class:"text-xs",value:p,key:y},Le(p),9,j9))),128))],10,B9),[[ur,f.value.model]]),m(n).meta.touched&&m(n).errors[`cars.${h}.model`]?(V(),z("p",H9,Le(m(n).errors[`cars.${h}.model`]),1)):oe("",!0)]),x("div",q9,[W9,ut(x("input",{id:"model",onInput:p=>f.value.plate=String(f.value.plate).toUpperCase(),"onUpdate:modelValue":p=>f.value.plate=p,type:"text",class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400 border-2":m(n).meta.touched&&m(n).errors[`cars.${h}.plate`]}]),style:{outline:"none"}},null,42,z9),[[hn,f.value.plate]]),m(n).meta.touched&&m(n).errors[`cars.${h}.plate`]?(V(),z("p",G9,Le(m(n).errors[`cars.${h}.plate`]),1)):oe("",!0)]),x("div",Y9,[K9,ut(x("select",{id:"fuel-type","onUpdate:modelValue":p=>f.value.useType=p,class:Ve(["pl-2 bg-white w-full rounded-md py-1 border-2 h-9",{"border-red-400":m(n).meta.touched&&m(n).errors[`cars.${h}.useType`]}]),style:{outline:"none"}},Z9,10,Q9),[[ur,f.value.useType]]),m(n).meta.touched&&m(n).errors[`cars.${h}.useType`]?(V(),z("p",ej,Le(m(n).errors[`cars.${h}.useType`]),1)):oe("",!0)])]),x("span",tj,[x("div",nj,[rj,qe(m(Or),{"year-picker":"","auto-apply":"","max-date":new Date,id:"year",modelValue:f.value.year,"onUpdate:modelValue":p=>f.value.year=p,"input-class-name":"pl-2 bg-white rounded-md h-9 dp-custom-input",style:{outline:"none"},state:!(m(n).meta.touched&&m(n).errors[`cars.${h}.year`])},null,8,["max-date","modelValue","onUpdate:modelValue","state"]),m(n).meta.touched&&m(n).errors[`cars.${h}.year`]?(V(),z("p",sj,Le(m(n).errors[`cars[${h}].year`]),1)):oe("",!0)]),x("div",ij,[oj,ut(x("input",{id:"mileage","onUpdate:modelValue":p=>f.value.mileage=p,type:"number",class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":m(n).meta.touched&&m(n).errors[`cars.${h}.mileage`]}]),style:{outline:"none"}},null,10,aj),[[hn,f.value.mileage]]),m(n).meta.touched&&m(n).errors[`cars.${h}.mileage`]?(V(),z("p",lj,Le(m(n).errors[`cars.${h}.mileage`]),1)):oe("",!0)]),x("div",uj,[cj,ut(x("select",{id:"fuel-type","onUpdate:modelValue":p=>f.value.fuelType=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":m(n).meta.touched&&m(n).errors[`cars.${h}.fuelType`]}]),style:{outline:"none"}},vj,10,dj),[[ur,f.value.fuelType]]),m(n).meta.touched&&m(n).errors[`cars.${h}.fuelType`]?(V(),z("p",yj,Le(m(n).errors[`cars[${h}].fuelType`]),1)):oe("",!0)])]),_j,x("span",bj,[x("div",wj,[Tj,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",format:"dd/MM/yyyy","max-date":new Date,modelValue:f.value.soatDate,"onUpdate:modelValue":p=>f.value.soatDate=p,"input-class-name":"pl-2 bg-white rounded-lg dp-custom-input",style:{outline:"none"},state:!(m(n).meta.touched&&m(n).errors[`cars.${h}.soatDate`])},null,8,["max-date","modelValue","onUpdate:modelValue","state"]),m(n).meta.touched&&m(n).errors[`cars.${h}.soatDate`]?(V(),z("p",Ej,Le(m(n).errors[`cars.${h}.soatDate`]),1)):oe("",!0)]),["gnv","glp"].includes(f.value.fuelType)?(V(),z("div",Aj,[Sj,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",format:"dd/MM/yyyy","max-date":new Date,modelValue:f.value.ngvLpgCertificationDate,"onUpdate:modelValue":p=>f.value.ngvLpgCertificationDate=p,"input-class-name":"pl-2 bg-white rounded-md dp-custom-input",style:{outline:"none"},state:!(m(n).meta.touched&&m(n).errors[`cars.${h}.ngvLpgCertificationDate`])},null,8,["max-date","modelValue","onUpdate:modelValue","state"]),m(n).meta.touched&&m(n).errors[`cars.${h}.ngvLpgCertificationDate`]?(V(),z("p",xj,Le(m(n).errors[`cars.${h}.ngvLpgCertificationDate`]),1)):oe("",!0)])):oe("",!0),x("div",Ij,[Cj,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",format:"dd/MM/yyyy","max-date":new Date,modelValue:f.value.technicalRevisionDate,"onUpdate:modelValue":p=>f.value.technicalRevisionDate=p,"input-class-name":"pl-2 bg-white rounded-md dp-custom-input",style:{outline:"none"},state:!(m(n).meta.touched&&m(n).errors[`cars.${h}.technicalRevisionDate`])},null,8,["max-date","modelValue","onUpdate:modelValue","state"]),m(n).meta.touched&&m(n).errors[`cars.${h}.technicalRevisionDate`]?(V(),z("p",Pj,Le(m(n).errors[`cars.${h}.technicalRevisionDate`]),1)):oe("",!0)])])]),h!=m(n).cars.length-1&&m(n).cars.length>0?(V(),z("div",Rj)):oe("",!0)]))),128))]),_:1})]),x("button",{disabled:m(n).isSubmitting,type:"button",onClick:o,class:"w-11/12 flex flex-row justify-center items-center mx-5 mb-3 p-1 rounded-md bg-blue-700 hover:opacity-80 text-blue-50 font-bold"},Le(m(n).isSubmitting?"ENVIANDO...":"GUARDAR"),9,kj)])]),_:1}))}}),Oj=x("h1",{class:"text-left pl-5 text-2xl text-blue-700 font-bold my-4"},"PANEL ADMINISTRATIVO",-1),Mj={class:"flex flex-row justify-center items-center mb-5"},Nj={key:0,class:"mb-4 rounded-xs w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 rounded-xs px-4 py-5 drop-shadow-md"},Vj=x("h2",{class:"text-lg text-left font-bold mb-6 text-blue-700"},"Informacin de contacto",-1),Lj={class:"text-lg font-black mb-6"},$j={class:"flex sm:flex-row flex-col justify-between w-full items-baseline"},Fj={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},Uj=x("label",{for:"first-name",class:"font-bold text-xs mb-1"},"Nombres*",-1),Bj={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},jj=x("label",{for:"last-name",class:"font-bold text-xs mb-1"},"Apellidos*",-1),Hj={class:"flex flex-col w-full"},qj=x("label",{for:"phone",class:"font-bold text-xs mb-1"},"Telfono*",-1),Wj={key:1,class:"mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},zj={class:"flex flex-col justify-between items-center w-full bg-rose-50 px-2 py-2"},Gj={class:"w-full flex flex-row justify-between items-center mb-4"},Yj={class:"text-xl text-left text-blue-700 font-black"},Kj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},Qj={class:"flex flex-col mb-2 w-full sm:mr-2"},Xj=x("label",{for:"brand",class:"font-bold text-xs mb-1"},"Marca",-1),Jj=["onUpdate:modelValue"],Zj=["value"],e7={class:"flex flex-col mb-2 w-full sm:mr-2"},t7=x("label",{for:"model",class:"font-bold text-xs mb-1"},"Modelo",-1),n7=["onUpdate:modelValue"],r7=["value"],s7={class:"flex flex-col mb-2 w-full sm:mr-2"},i7=x("label",{for:"model",class:"font-bold text-xs mb-1"},"Placa",-1),o7=["onUpdate:modelValue"],a7={class:"flex flex-col sm:mb-2 w-full"},l7=x("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de uso",-1),u7=["onUpdate:modelValue"],c7=x("option",{class:"text-xs",value:"privateUse"},"Particular",-1),d7=x("option",{class:"text-xs",value:"serviceUse"},"De servicios",-1),f7=x("option",{class:"text-xs",value:"serviceUse:peopleTransportation"},"De servicios: transportes de personas",-1),h7=[c7,d7,f7],p7={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},m7={class:"flex flex-col mb-2 w-full mr-1"},g7=x("label",{for:"year",class:"font-bold text-xs mb-1"},"Ao",-1),v7={class:"flex flex-col mb-2 w-full mr-1 ml-1"},y7=x("label",{for:"mileage",class:"font-bold text-xs mb-1"},"Kilometraje Actual",-1),_7=["onUpdate:modelValue"],b7={class:"flex flex-col mb-2 w-full ml-1"},w7=x("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de Combustible",-1),T7=["onUpdate:modelValue"],E7=x("option",{class:"text-xs",value:"gasolina"},"Gasolina",-1),A7=x("option",{class:"text-xs",value:"gnv"},"GNV",-1),S7=x("option",{class:"text-xs",value:"glp"},"GLP",-1),x7=x("option",{class:"text-xs",value:"diesel"},"Disel",-1),I7=x("option",{class:"text-xs",value:"hibrido"},"Hbrido",-1),C7=[E7,A7,S7,x7,I7],P7={class:"w-full flex sm:flex-row flex-col justify-between items-baseline"},R7={class:"flex flex-col mb-2 w-full mr-1"},k7=x("label",{for:"soat-expiry",class:"font-bold text-xs mb-1"},"Fecha vencimiento SOAT",-1),D7={key:0,class:"flex flex-col mb-2 w-full mr-1 ml-1"},O7=x("label",{for:"annual-inspection",class:"font-bold text-xs mb-1"},"Fecha certificacin GNV/GLP",-1),M7={class:"flex flex-col mb-2 w-full ml-1"},N7=x("label",{for:"technical-inspection",class:"font-bold text-xs mb-1"},"Fecha revisin vehicular",-1),V7={key:0,class:"h-0.5 w-full my-8 bg-sky-50"},L7={key:3,class:"text-center font-black mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},$7=nt({__name:"AdminPanel",setup(t){const e=en([{brand:"Toyota",models:["Corolla","Camry","Rav4","Yaris","Highlander","Tacoma","Sienna","4Runner","Prius","Tundra","Land Cruiser","Avalon","Sequoia"]},{brand:"Honda",models:["Civic","Accord","CR-V","Pilot","Odyssey","HR-V","Fit","Ridgeline","Passport","Insight","Clarity"]},{brand:"Ford",models:["F-150","Escape","Explorer","Focus","Mustang","Edge","Fusion","Ranger","Expedition","EcoSport","Taurus","Flex","Transit"]},{brand:"Chevrolet",models:["Silverado","Equinox","Malibu","Cruze","Traverse","Tahoe","Suburban","Colorado","Impala","Blazer","Express","Trax","Sonic","Volt"]},{brand:"Nissan",models:["Altima","Rogue","Sentra","Frontier","Pathfinder","Versa","Murano","Titan","Maxima","Armada","Leaf","Kicks","NV","370Z"]},{brand:"Hyundai",models:["Elantra","Sonata","Tucson","Santa Fe","Kona","Veloster","Accent","Palisade","Venue","Nexo","Ioniq"]},{brand:"Volkswagen",models:["Jetta","Passat","Tiguan","Atlas","Golf","Arteon","Touareg","ID.4","ID.3","Golf GTI","T-Cross","Polo","Amarok","Teramont"]},{brand:"BMW",models:["3 Series","5 Series","X3","X5","7 Series","X1","X7","X6","4 Series","Z4","8 Series","i3","i8","M2"]},{brand:"Mercedes-Benz",models:["C-Class","E-Class","GLC","GLE","S-Class","A-Class","GLA","GLB","CLA","G-Class","SLC","GLS","SL","EQC"]},{brand:"Audi",models:["A4","Q5","A6","Q7","A3","Q3","A5","A7","Q8","e-tron","TT","A8","RS 3","S3"]},{brand:"Subaru",models:["Impreza","Forester","Outback","Legacy","Crosstrek","WRX","Ascent"]},{brand:"Kia",models:["Optima","Sorento","Sportage","Forte","Soul","Telluride","Rio"]},{brand:"Lexus",models:["RX","ES","NX","IS","GX","LS","UX"]},{brand:"Mazda",models:["Mazda3","Mazda6","CX-5","CX-9","MX-5 Miata","CX-3","CX-30"]},{brand:"Jeep",models:["Wrangler","Grand Cherokee","Cherokee","Renegade","Compass","Gladiator","Wagoneer"]},{brand:"Ram",models:["1500","2500","3500","Promaster","Promaster City","Chassis Cab"]},{brand:"GMC",models:["Sierra","Acadia","Terrain","Yukon","Canyon","Savana","Envoy"]},{brand:"Tesla",models:["Model S","Model 3","Model X","Model Y","Roadster"]},{brand:"Volvo",models:["S60","XC60","XC90","S90","XC40","V60","V90"]},{brand:"Cadillac",models:["Escalade","CTS","XT5","XT4","CT6","XT6","ATS"]},{brand:"Dodge",models:["Challenger","Charger","Durango","Journey","Grand Caravan","Dart","Ram 1500","Ram 2500","Ram 3500","Viper"]},{brand:"Buick",models:["Encore","Enclave","Regal","Lacrosse","Verano","Cascada","Envision","Century","Rendezvous","Park Avenue"]},{brand:"Acura",models:["TLX","MDX","RDX","ILX","RLX","NSX","RSX","CL","TSX","Integra"]},{brand:"Infiniti",models:["Q50","QX60","QX80","Q60","QX50","Q70","QX30","QX70","G35","FX35"]},{brand:"Lincoln",models:["MKZ","Navigator","Nautilus","Aviator","Continental","Corsair","MKX","Town Car","MKS","Mark LT"]},{brand:"Land Rover",models:["Range Rover","Discovery","Evoque","Defender","Velar","Sport","Freelander","Discovery Sport","LR4","LR2"]},{brand:"Jaguar",models:["XE","F-Pace","I-Pace","XF","XJ","E-Pace","S-Type","X-Type","XK","XKR"]},{brand:"Porsche",models:["911","Cayenne","Panamera","Macan","Boxster","Cayman","Taycan","918 Spyder","944","928"]},{brand:"Fiat",models:["500","500X","500L","124 Spider","Punto","Doblo","Tipo","Panda","Qubo","Uno"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","Mirage","Pajero","Lancer","ASX","Montero","Strada","Galant","Attrage"]},{brand:"Fiat",models:["500","Panda","Tipo","Punto","500X"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","L200","ASX","Pajero Sport"]},{brand:"Chrysler",models:["300","Pacifica","Voyager","Aspen","PT Cruiser"]},{brand:"Mini",models:["Cooper","Countryman","Clubman","Convertible","Paceman"]},{brand:"Alfa Romeo",models:["Giulia","Stelvio","4C","Giulietta","MiTo"]},{brand:"Genesis",models:["G70","G80","G90"]},{brand:"Smart",models:["Fortwo","Forfour","Roadster"]},{brand:"Aston Martin",models:["DB11","Vantage","DBS Superleggera","Rapide","DBX"]},{brand:"Ferrari",models:["488","812 Superfast","Portofino","Roma","SF90 Stradale"]},{brand:"Maserati",models:["Ghibli","Quattroporte","Levante","GranTurismo","GranCabrio"]},{brand:"Bugatti",models:["Chiron","Veyron","Divo"]},{brand:"McLaren",models:["720S","570S","P1"]},{brand:"Rolls-Royce",models:["Phantom","Cullinan","Ghost"]},{brand:"Bentley",models:["Continental GT","Bentayga","Flying Spur"]},{brand:"Lotus",models:["Evora","Elise","Exige"]},{brand:"Maybach",models:["S-Class","GLS"]},{brand:"Pagani",models:["Huayra","Zonda"]},{brand:"Abarth",models:["595","124 Spider"]},{brand:"Lancia",models:["Ypsilon","Delta"]},{brand:"Citron",models:["C3","C4","C5"]},{brand:"Citron",models:["C3","C4","C5","Berlingo"]},{brand:"Peugeot",models:["208","308","3008","5008"]},{brand:"Renault",models:["Clio","Mgane","Captur","Kadjar"]},{brand:"DS Automobiles",models:["DS3","DS4","DS5"]},{brand:"Dacia",models:["Sandero","Duster","Logan"]},{brand:"SEAT",models:["Ibiza","Len","Arona","Ateca","Tarraco"]},{brand:"Skoda",models:["Octavia","Superb","Karoq","Kodiaq"]},{brand:"Volkswagen Commercial Vehicles",models:["Transporter","Caddy","Crafter"]},{brand:"Mitsubishi Motors",models:["Outlander","ASX","Eclipse Cross"]},{brand:"Suzuki",models:["Swift","Vitara","Jimny"]},{brand:"Hino",models:["Dutro","Ranger","Poncho","Liesse"]},{brand:"Scania",models:["R-Series","S-Series","G-Series","P-Series"]},{brand:"MAN",models:["TGX","TGS","TGM","TGL"]},{brand:"Iveco",models:["Stralis","Eurocargo","Daily","Trakker"]},{brand:"Freightliner",models:["Cascadia","M2 106","Columbia","114SD"]},{brand:"Western Star",models:["4900","5700","4700","6900"]},{brand:"Peterbilt",models:["579","389","567","579 UltraLoft"]},{brand:"Kenworth",models:["T680","W990","T880","T800"]},{brand:"Mack Trucks",models:["Anthem","Granite","Pinnacle","LR"]},{brand:"International Trucks",models:["LT Series","RH Series","MV Series","HV Series"]},{brand:"Volvo Trucks",models:["VNL Series","VNR Series","VHD Series","VAH Series"]},{brand:"DAF Trucks",models:["XF","CF","LF"]},{brand:"FAW",models:["J7","Jiefang J6P","Jiefang JH6","Jiefang JH6"]},{brand:"JAC",models:["Sunray","N-Series","M5","T6"]},{brand:"Dongfeng Motor",models:["EQ2050","Dongfeng Warrior","Joyear","DFSK"]},{brand:"Changan Automobile",models:["CS","Raeton","Alsvin","Eado"]},{brand:"BYD",models:["Tang","Song","Yuan","Qin"]},{brand:"BAIC Group",models:["Senova","X","Weiwang","D50"]},{brand:"GAC Group",models:["Trumpchi","Aion","Gonow","Hino"]},{brand:"Great Wall Motors",models:["Haval","Wey","Ora","Great Wall"]},{brand:"Geely Auto",models:["Emgrand","Vision","Boyue","Coolray","Preface","Xingyue","Borui","Binrui","Jiaji","Star"]},{brand:"Zotye Auto",models:["T600","T700","SR9","SR7","E200","Z300","Z100","Z500","Z360","Z560"]},{brand:"Chery",models:["Tiggo 7","Tiggo 8","Tiggo 3X","Arrizo 5","Arrizo 6","Arrizo 7","Fulwin","QQ","eQ1","eQ5"]},{brand:"SAIC Motor",models:["MG ZS","MG Hector","MG RX5","MG 5","MG 6","Roewe RX3","Roewe RX5","Roewe RX8","Roewe i5","Roewe i6"]},{brand:"Changhe Auto",models:["Q25","Q35","Freedom M50","Q7","Q25L","Q7L","A6","A8","A5","Q6"]},{brand:"Lifan Group",models:["X70","X80","X60","Myway","650","520","820","530","720","330"]},{brand:"Wuling Motors",models:["Hong Guang","Rong Guang","Sunshine","Zhiguang","Future","Hongtu","Cortez","Confero","Formo","Almaz"]},{brand:"Haval",models:["H6","H9","H2","F7","F5","F7x","H4","H1","H5","Jolion"]},{brand:"Venucia",models:["T90","D60","Xing","R30","R50","T70","M30","E30","e30","D50"]},{brand:"NIO",models:["ES8","ES6","EC6","EP9","ET7","ET5","ET6","EP7","E10","EF9"]},{brand:"NIO",models:["ES8","ES6","EC6"]},{brand:"Xpeng Motors",models:["G3","P7"]},{brand:"WM Motor",models:["W5","W6"]},{brand:"Arcfox",models:["-T","-S"]},{brand:"Roewe",models:["i5","RX5","RX3"]},{brand:"Borgward",models:["BX7","BX5","BX6"]},{brand:"Foton",models:["Tunland","View","Sauvana"]},{brand:"King Long",models:["XMQ6900","XMQ6127","XMQ6119"]},{brand:"Sunlong",models:["SLK6112","SLK6793","SLK6752"]},{brand:"Yutong",models:["ZK6122","ZK6119","ZK6125"]}]),n=le(!1),r=le("");let s=en({id:"",uid:"",email:"",firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatDate:"",ngvLpgCertificationDate:"",technicalRevisionDate:"",useType:"private",plate:""}]});function i(u){const c=e.find(({brand:d})=>d==u);return c?c.models:[]}async function o(){if(r.value){const u=cp(Xa,"users"),c=AE(u,SE("email","==",r.value)),d=await IE(c);d.docs.map(f=>{Object.assign(s,{...f.data(),id:f.id})}),d.docs.length==0&&Object.assign(s,{id:"",uid:"",email:"",firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatDate:"",ngvLpgCertificationDate:"",technicalRevisionDate:"",useType:"private",plate:""}]})}}async function a(){try{n.value=!0;const u={firstName:s.firstName,lastName:s.lastName,phone:s.phone,cars:s.cars},c=og(Xa,"users",s.id);await CE(c,u),n.value=!1}catch(u){throw n.value=!1,u}finally{alert("LOS DATOS SE ACTUALIZARON CON XITO")}}async function l(){confirm("DESEAS CONTINUAR?")&&await a()}return(u,c)=>(V(),Ue(rf,null,{default:Fe(()=>[Oj,x("span",Mj,[ut(x("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),placeholder:"Ingresa un correo",class:"w-1/3 pl-2 bg-white rounded-md py-1 border-2 h-9"},null,512),[[hn,r.value]]),x("button",{class:"pointer-default hover:opacity-90 border-2 hover:border-blue-700 hover:bg-blue-100 hover:text-blue-700 text-blue-100 bg-blue-700 font-bold rounded-md px-4 py-1",onClick:o},"OBTENER USUARIO")]),m(s).uid&&!n.value?(V(),z("form",Nj,[Vj,x("p",Lj,"UID: "+Le(m(s).uid||"-"),1),x("span",$j,[x("div",Fj,[Uj,ut(x("input",{id:"first-name","onUpdate:modelValue":c[1]||(c[1]=d=>m(s).firstName=d),type:"text",placeholder:"Ingresa tu nombre",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,m(s).firstName]])]),x("div",Bj,[jj,ut(x("input",{id:"last-name","onUpdate:modelValue":c[2]||(c[2]=d=>m(s).lastName=d),type:"text",placeholder:"Ingresa tus apellidos",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,m(s).lastName]])]),x("div",Hj,[qj,ut(x("input",{id:"phone","onUpdate:modelValue":c[3]||(c[3]=d=>m(s).phone=d),type:"tel",placeholder:"Ingresa tu nmero de telfono",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,m(s).phone]])])])])):oe("",!0),m(s).uid&&!n.value?(V(),z("form",Wj,[(V(!0),z(Oe,null,ct(m(s).cars,(d,f)=>(V(),z("li",{key:f,class:"flex flex-col justify-between items-center w-full"},[x("span",zj,[x("span",Gj,[x("p",Yj,"AUTO N "+Le(f+1),1)]),x("span",Kj,[x("div",Qj,[Xj,ut(x("select",{id:"brand","onUpdate:modelValue":h=>d.brand=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},[(V(!0),z(Oe,null,ct(e,({brand:h},p)=>(V(),z("option",{class:"text-xs",value:h,key:p},Le(h),9,Zj))),128))],8,Jj),[[ur,d.brand]])]),x("div",e7,[t7,ut(x("select",{id:"model","onUpdate:modelValue":h=>d.model=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},[(V(!0),z(Oe,null,ct(i(d.brand),(h,p)=>(V(),z("option",{class:"text-xs",value:h,key:p},Le(h),9,r7))),128))],8,n7),[[ur,d.model]])]),x("div",s7,[i7,ut(x("input",{id:"model","onUpdate:modelValue":h=>d.plate=h,type:"text",class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},null,8,o7),[[hn,d.plate]])]),x("div",a7,[l7,ut(x("select",{id:"fuel-type","onUpdate:modelValue":h=>d.useType=h,class:"pl-2 bg-white w-full rounded-md py-1 border-2 h-9",style:{outline:"none"}},h7,8,u7),[[ur,d.useType]])])]),x("span",p7,[x("div",m7,[g7,qe(m(Or),{"year-picker":"","auto-apply":"",id:"year",modelValue:d.year,"onUpdate:modelValue":h=>d.year=h,"input-class-name":"pl-2 bg-white rounded-md h-9",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])]),x("div",v7,[y7,ut(x("input",{id:"mileage","onUpdate:modelValue":h=>d.mileage=h,type:"number",class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},null,8,_7),[[hn,d.mileage]])]),x("div",b7,[w7,ut(x("select",{id:"fuel-type","onUpdate:modelValue":h=>d.fuelType=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},C7,8,T7),[[ur,d.fuelType]])])]),x("span",P7,[x("div",R7,[k7,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.soatDate,"onUpdate:modelValue":h=>d.soatDate=h,"input-class-name":"pl-2 bg-white rounded-lg",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])]),["gnv","glp"].includes(d.fuelType)?(V(),z("div",D7,[O7,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.ngvLpgCertificationDate,"onUpdate:modelValue":h=>d.ngvLpgCertificationDate=h,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])])):oe("",!0),x("div",M7,[N7,qe(m(Or),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.technicalRevisionDate,"onUpdate:modelValue":h=>d.technicalRevisionDate=h,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])])])]),f!=m(s).cars.length-1&&m(s).cars.length>0?(V(),z("div",V7)):oe("",!0)]))),128))])):oe("",!0),m(s).uid&&!n.value?(V(),z("button",{key:2,type:"button",onClick:l,class:"w-11/12 flex flex-row justify-center items-center mx-5 mb-3 p-1 rounded-md bg-blue-700 hover:opacity-80 text-blue-50 font-bold"},"GUARDAR")):oe("",!0),n.value?(V(),z("div",L7,"A C T U A L I Z A N D O ...")):oe("",!0)]),_:1}))}}),F7=bR({history:QP("/"),routes:[{path:"/",name:"Home",redirect:"/car-wash-services"},{path:"/all-services",name:"AllServices",component:L4},{path:"/car-wash-services",name:"CarWashServices",component:X4},{path:"/profile",name:"Profile",component:Dj},{path:"/admin-panel",name:"AdminPanel",component:$7}]}),cf=wh(_F);cf.use(wI());cf.use(F7);cf.use(_P,{directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"auto-end",allowHTML:!0,arrow:!0}});cf.mount("#app");
