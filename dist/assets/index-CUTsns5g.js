var ZA=Object.defineProperty;var ex=(t,e,n)=>e in t?ZA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Re=(t,e,n)=>(ex(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ap(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Rt={},wo=[],Kn=()=>{},tx=()=>!1,Wc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),xp=t=>t.startsWith("onUpdate:"),Zt=Object.assign,Ip=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},nx=Object.prototype.hasOwnProperty,ft=(t,e)=>nx.call(t,e),je=Array.isArray,To=t=>Ll(t)==="[object Map]",zc=t=>Ll(t)==="[object Set]",Wg=t=>Ll(t)==="[object Date]",Qe=t=>typeof t=="function",Nt=t=>typeof t=="string",Gs=t=>typeof t=="symbol",Tt=t=>t!==null&&typeof t=="object",S0=t=>(Tt(t)||Qe(t))&&Qe(t.then)&&Qe(t.catch),C0=Object.prototype.toString,Ll=t=>C0.call(t),rx=t=>Ll(t).slice(8,-1),P0=t=>Ll(t)==="[object Object]",Sp=t=>Nt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Oa=Ap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sx=/-(\w)/g,Wr=Gc(t=>t.replace(sx,(e,n)=>n?n.toUpperCase():"")),ix=/\B([A-Z])/g,zi=Gc(t=>t.replace(ix,"-$1").toLowerCase()),Yc=Gc(t=>t.charAt(0).toUpperCase()+t.slice(1)),hf=Gc(t=>t?`on${Yc(t)}`:""),Ys=(t,e)=>!Object.is(t,e),Hu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},sc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},tl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ox=t=>{const e=Nt(t)?Number(t):NaN;return isNaN(e)?t:e};let zg;const R0=()=>zg||(zg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function In(t){if(je(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Nt(r)?cx(r):In(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Nt(t)||Tt(t))return t}const ax=/;(?![^(]*\))/g,lx=/:([^]+)/,ux=/\/\*[^]*?\*\//g;function cx(t){const e={};return t.replace(ux,"").split(ax).forEach(n=>{if(n){const r=n.split(lx);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ve(t){let e="";if(Nt(t))e=t;else if(je(t))for(let n=0;n<t.length;n++){const r=Ve(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Xt(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Nt(e)&&(t.class=Ve(e)),n&&(t.style=In(n)),t}const dx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fx=Ap(dx);function k0(t){return!!t||t===""}function hx(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Kc(t[r],e[r]);return n}function Kc(t,e){if(t===e)return!0;let n=Wg(t),r=Wg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Gs(t),r=Gs(e),n||r)return t===e;if(n=je(t),r=je(e),n||r)return n&&r?hx(t,e):!1;if(n=Tt(t),r=Tt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Kc(t[o],e[o]))return!1}}return String(t)===String(e)}function px(t,e){return t.findIndex(n=>Kc(n,e))}const Le=t=>Nt(t)?t:t==null?"":je(t)||Tt(t)&&(t.toString===C0||!Qe(t.toString))?JSON.stringify(t,D0,2):String(t),D0=(t,e)=>e&&e.__v_isRef?D0(t,e.value):To(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[pf(r,i)+" =>"]=s,n),{})}:zc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>pf(n))}:Gs(e)?pf(e):Tt(e)&&!je(e)&&!P0(e)?String(e):e,pf=(t,e="")=>{var n;return Gs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Un;class O0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Un;try{return Un=this,e()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function M0(t){return new O0(t)}function mx(t,e=Un){e&&e.active&&e.effects.push(t)}function Cp(){return Un}function N0(t){Un&&Un.cleanups.push(t)}let Ri;class Pp{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,mx(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Gi();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(gx(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Yi()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Fs,n=Ri;try{return Fs=!0,Ri=this,this._runnings++,Gg(this),this.fn()}finally{Yg(this),this._runnings--,Ri=n,Fs=e}}stop(){var e;this.active&&(Gg(this),Yg(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function gx(t){return t.value}function Gg(t){t._trackId++,t._depsLength=0}function Yg(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)V0(t.deps[e],t);t.deps.length=t._depsLength}}function V0(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Fs=!0,fh=0;const L0=[];function Gi(){L0.push(Fs),Fs=!1}function Yi(){const t=L0.pop();Fs=t===void 0?!0:t}function Rp(){fh++}function kp(){for(fh--;!fh&&hh.length;)hh.shift()()}function $0(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&V0(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const hh=[];function F0(t,e,n){Rp();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&hh.push(r.scheduler)))}kp()}const U0=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},ic=new WeakMap,ki=Symbol(""),ph=Symbol("");function Fn(t,e,n){if(Fs&&Ri){let r=ic.get(t);r||ic.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=U0(()=>r.delete(n))),$0(Ri,s)}}function ds(t,e,n,r,s,i){const o=ic.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&je(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Gs(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":je(t)?Sp(n)&&a.push(o.get("length")):(a.push(o.get(ki)),To(t)&&a.push(o.get(ph)));break;case"delete":je(t)||(a.push(o.get(ki)),To(t)&&a.push(o.get(ph)));break;case"set":To(t)&&a.push(o.get(ki));break}Rp();for(const l of a)l&&F0(l,4);kp()}function vx(t,e){var n;return(n=ic.get(t))==null?void 0:n.get(e)}const yx=Ap("__proto__,__v_isRef,__isVue"),B0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gs)),Kg=_x();function _x(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=at(this);for(let i=0,o=this.length;i<o;i++)Fn(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(at)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Gi(),Rp();const r=at(this)[e].apply(this,n);return kp(),Yi(),r}}),t}function bx(t){const e=at(this);return Fn(e,"has",t),e.hasOwnProperty(t)}class j0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Ox:z0:i?W0:q0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=je(e);if(!s){if(o&&ft(Kg,n))return Reflect.get(Kg,n,r);if(n==="hasOwnProperty")return bx}const a=Reflect.get(e,n,r);return(Gs(n)?B0.has(n):yx(n))||(s||Fn(e,"get",n),i)?a:ht(a)?o&&Sp(n)?a:a.value:Tt(a)?s?Mp(a):en(a):a}}class H0 extends j0{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=ko(i);if(!oc(r)&&!ko(r)&&(i=at(i),r=at(r)),!je(e)&&ht(i)&&!ht(r))return l?!1:(i.value=r,!0)}const o=je(e)&&Sp(n)?Number(n)<e.length:ft(e,n),a=Reflect.set(e,n,r,s);return e===at(s)&&(o?Ys(r,i)&&ds(e,"set",n,r):ds(e,"add",n,r)),a}deleteProperty(e,n){const r=ft(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&ds(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Gs(n)||!B0.has(n))&&Fn(e,"has",n),r}ownKeys(e){return Fn(e,"iterate",je(e)?"length":ki),Reflect.ownKeys(e)}}class wx extends j0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Tx=new H0,Ex=new wx,Ax=new H0(!0),Dp=t=>t,Qc=t=>Reflect.getPrototypeOf(t);function mu(t,e,n=!1,r=!1){t=t.__v_raw;const s=at(t),i=at(e);n||(Ys(e,i)&&Fn(s,"get",e),Fn(s,"get",i));const{has:o}=Qc(s),a=r?Dp:n?Vp:nl;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function gu(t,e=!1){const n=this.__v_raw,r=at(n),s=at(t);return e||(Ys(t,s)&&Fn(r,"has",t),Fn(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function vu(t,e=!1){return t=t.__v_raw,!e&&Fn(at(t),"iterate",ki),Reflect.get(t,"size",t)}function Qg(t){t=at(t);const e=at(this);return Qc(e).has.call(e,t)||(e.add(t),ds(e,"add",t,t)),this}function Xg(t,e){e=at(e);const n=at(this),{has:r,get:s}=Qc(n);let i=r.call(n,t);i||(t=at(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Ys(e,o)&&ds(n,"set",t,e):ds(n,"add",t,e),this}function Jg(t){const e=at(this),{has:n,get:r}=Qc(e);let s=n.call(e,t);s||(t=at(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&ds(e,"delete",t,void 0),i}function Zg(){const t=at(this),e=t.size!==0,n=t.clear();return e&&ds(t,"clear",void 0,void 0),n}function yu(t,e){return function(r,s){const i=this,o=i.__v_raw,a=at(o),l=e?Dp:t?Vp:nl;return!t&&Fn(a,"iterate",ki),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function _u(t,e,n){return function(...r){const s=this.__v_raw,i=at(s),o=To(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),c=n?Dp:e?Vp:nl;return!e&&Fn(i,"iterate",l?ph:ki),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function _s(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xx(){const t={get(i){return mu(this,i)},get size(){return vu(this)},has:gu,add:Qg,set:Xg,delete:Jg,clear:Zg,forEach:yu(!1,!1)},e={get(i){return mu(this,i,!1,!0)},get size(){return vu(this)},has:gu,add:Qg,set:Xg,delete:Jg,clear:Zg,forEach:yu(!1,!0)},n={get(i){return mu(this,i,!0)},get size(){return vu(this,!0)},has(i){return gu.call(this,i,!0)},add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear"),forEach:yu(!0,!1)},r={get(i){return mu(this,i,!0,!0)},get size(){return vu(this,!0)},has(i){return gu.call(this,i,!0)},add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear"),forEach:yu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=_u(i,!1,!1),n[i]=_u(i,!0,!1),e[i]=_u(i,!1,!0),r[i]=_u(i,!0,!0)}),[t,n,e,r]}const[Ix,Sx,Cx,Px]=xx();function Op(t,e){const n=e?t?Px:Cx:t?Sx:Ix;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ft(n,s)&&s in r?n:r,s,i)}const Rx={get:Op(!1,!1)},kx={get:Op(!1,!0)},Dx={get:Op(!0,!1)},q0=new WeakMap,W0=new WeakMap,z0=new WeakMap,Ox=new WeakMap;function Mx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nx(t){return t.__v_skip||!Object.isExtensible(t)?0:Mx(rx(t))}function en(t){return ko(t)?t:Np(t,!1,Tx,Rx,q0)}function G0(t){return Np(t,!1,Ax,kx,W0)}function Mp(t){return Np(t,!0,Ex,Dx,z0)}function Np(t,e,n,r,s){if(!Tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Nx(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Nr(t){return ko(t)?Nr(t.__v_raw):!!(t&&t.__v_isReactive)}function ko(t){return!!(t&&t.__v_isReadonly)}function oc(t){return!!(t&&t.__v_isShallow)}function Y0(t){return Nr(t)||ko(t)}function at(t){const e=t&&t.__v_raw;return e?at(e):t}function Xc(t){return Object.isExtensible(t)&&sc(t,"__v_skip",!0),t}const nl=t=>Tt(t)?en(t):t,Vp=t=>Tt(t)?Mp(t):t;class K0{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Pp(()=>e(this._value),()=>qu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=at(this);return(!e._cacheable||e.effect.dirty)&&Ys(e._value,e._value=e.effect.run())&&qu(e,4),Q0(e),e.effect._dirtyLevel>=2&&qu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Vx(t,e,n=!1){let r,s;const i=Qe(t);return i?(r=t,s=Kn):(r=t.get,s=t.set),new K0(r,s,i||!s,n)}function Q0(t){var e;Fs&&Ri&&(t=at(t),$0(Ri,(e=t.dep)!=null?e:t.dep=U0(()=>t.dep=void 0,t instanceof K0?t:void 0)))}function qu(t,e=4,n){t=at(t);const r=t.dep;r&&F0(r,e)}function ht(t){return!!(t&&t.__v_isRef===!0)}function ae(t){return X0(t,!1)}function Lp(t){return X0(t,!0)}function X0(t,e){return ht(t)?t:new Lx(t,e)}class Lx{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:at(e),this._value=n?e:nl(e)}get value(){return Q0(this),this._value}set value(e){const n=this.__v_isShallow||oc(e)||ko(e);e=n?e:at(e),Ys(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:nl(e),qu(this,4))}}function g(t){return ht(t)?t.value:t}function Et(t){return Qe(t)?t():g(t)}const $x={get:(t,e,n)=>g(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ht(s)&&!ht(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function J0(t){return Nr(t)?t:new Proxy(t,$x)}function Fx(t){const e=je(t)?new Array(t.length):{};for(const n in t)e[n]=Z0(t,n);return e}class Ux{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return vx(at(this._object),this._key)}}class Bx{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function rl(t,e,n){return ht(t)?t:Qe(t)?new Bx(t):Tt(t)&&arguments.length>1?Z0(t,e,n):ae(t)}function Z0(t,e,n){const r=t[e];return ht(r)?r:new Ux(t,e,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Us(t,e,n,r){try{return r?t(...r):t()}catch(s){Jc(s,e,n)}}function Qn(t,e,n,r){if(Qe(t)){const i=Us(t,e,n,r);return i&&S0(i)&&i.catch(o=>{Jc(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Qn(t[i],e,n,r));return s}function Jc(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Us(l,null,10,[t,o,a]);return}}jx(t,n,s,r)}function jx(t,e,n,r=!0){console.error(t)}let sl=!1,mh=!1;const xn=[];let xr=0;const Eo=[];let Cs=null,yi=0;const eb=Promise.resolve();let $p=null;function At(t){const e=$p||eb;return t?e.then(this?t.bind(this):t):e}function Hx(t){let e=xr+1,n=xn.length;for(;e<n;){const r=e+n>>>1,s=xn[r],i=il(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Fp(t){(!xn.length||!xn.includes(t,sl&&t.allowRecurse?xr+1:xr))&&(t.id==null?xn.push(t):xn.splice(Hx(t.id),0,t),tb())}function tb(){!sl&&!mh&&(mh=!0,$p=eb.then(rb))}function qx(t){const e=xn.indexOf(t);e>xr&&xn.splice(e,1)}function Wx(t){je(t)?Eo.push(...t):(!Cs||!Cs.includes(t,t.allowRecurse?yi+1:yi))&&Eo.push(t),tb()}function ev(t,e,n=sl?xr+1:0){for(;n<xn.length;n++){const r=xn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;xn.splice(n,1),n--,r()}}}function nb(t){if(Eo.length){const e=[...new Set(Eo)].sort((n,r)=>il(n)-il(r));if(Eo.length=0,Cs){Cs.push(...e);return}for(Cs=e,yi=0;yi<Cs.length;yi++)Cs[yi]();Cs=null,yi=0}}const il=t=>t.id==null?1/0:t.id,zx=(t,e)=>{const n=il(t)-il(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function rb(t){mh=!1,sl=!0,xn.sort(zx);try{for(xr=0;xr<xn.length;xr++){const e=xn[xr];e&&e.active!==!1&&Us(e,null,14)}}finally{xr=0,xn.length=0,nb(),sl=!1,$p=null,(xn.length||Eo.length)&&rb()}}function Gx(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Rt;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||Rt;f&&(s=n.map(h=>Nt(h)?h.trim():h)),d&&(s=n.map(tl))}let a,l=r[a=hf(e)]||r[a=hf(Wr(e))];!l&&i&&(l=r[a=hf(zi(e))]),l&&Qn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Qn(u,t,6,s)}}function sb(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Qe(t)){const l=u=>{const c=sb(u,e,!0);c&&(a=!0,Zt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Tt(t)&&r.set(t,null),null):(je(i)?i.forEach(l=>o[l]=null):Zt(o,i),Tt(t)&&r.set(t,o),o)}function Zc(t,e){return!t||!Wc(e)?!1:(e=e.slice(2).replace(/Once$/,""),ft(t,e[0].toLowerCase()+e.slice(1))||ft(t,zi(e))||ft(t,e))}let Jt=null,ib=null;function ac(t){const e=Jt;return Jt=t,ib=t&&t.type.__scopeId||null,e}function Fe(t,e=Jt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&pv(-1);const i=ac(e);let o;try{o=t(...s)}finally{ac(i),r._d&&pv(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function mf(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:y}=t;let T,C;const k=ac(t);try{if(n.shapeFlag&4){const m=s||r,P=m;T=Er(c.call(P,m,d,i,h,f,p)),C=l}else{const m=e;T=Er(m.length>1?m(i,{attrs:l,slots:a,emit:u}):m(i,null)),C=e.props?l:Yx(l)}}catch(m){$a.length=0,Jc(m,t,1),T=qe(Jn)}let R=T;if(C&&y!==!1){const m=Object.keys(C),{shapeFlag:P}=R;m.length&&P&7&&(o&&m.some(xp)&&(C=Kx(C,o)),R=Ks(R,C))}return n.dirs&&(R=Ks(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),T=R,ac(k),T}const Yx=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wc(n))&&((e||(e={}))[n]=t[n]);return e},Kx=(t,e)=>{const n={};for(const r in t)(!xp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Qx(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?tv(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!Zc(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?tv(r,o,u):!0:!!o;return!1}function tv(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Zc(n,i))return!0}return!1}function Xx({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Up="components",Jx="directives";function Bp(t,e){return jp(Up,t,!0,e)||t}const ob=Symbol.for("v-ndc");function ed(t){return Nt(t)?jp(Up,t,!1)||t:t||ob}function Zx(t){return jp(Jx,t)}function jp(t,e,n=!0,r=!1){const s=Jt||ln;if(s){const i=s.type;if(t===Up){const a=zI(i,!1);if(a&&(a===e||a===Wr(e)||a===Yc(Wr(e))))return i}const o=nv(s[t]||i[t],e)||nv(s.appContext[t],e);return!o&&r?i:o}}function nv(t,e){return t&&(t[e]||t[Wr(e)]||t[Yc(Wr(e))])}const eI=t=>t.__isSuspense;function tI(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):Wx(t)}const nI=Symbol.for("v-scx"),rI=()=>Xn(nI);function Hp(t,e){return qp(t,null,e)}const bu={};function Ut(t,e,n){return qp(t,e,n)}function qp(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Rt){if(e&&i){const b=e;e=(..._)=>{b(..._),P()}}const l=ln,u=b=>r===!0?b:Ei(b,r===!1?1:void 0);let c,d=!1,f=!1;if(ht(t)?(c=()=>t.value,d=oc(t)):Nr(t)?(c=()=>u(t),d=!0):je(t)?(f=!0,d=t.some(b=>Nr(b)||oc(b)),c=()=>t.map(b=>{if(ht(b))return b.value;if(Nr(b))return u(b);if(Qe(b))return Us(b,l,2)})):Qe(t)?e?c=()=>Us(t,l,2):c=()=>(h&&h(),Qn(t,l,3,[p])):c=Kn,e&&r){const b=c;c=()=>Ei(b())}let h,p=b=>{h=R.onStop=()=>{Us(b,l,4),h=R.onStop=void 0}},y;if(id)if(p=Kn,e?n&&Qn(e,l,3,[c(),f?[]:void 0,p]):c(),s==="sync"){const b=rI();y=b.__watcherHandles||(b.__watcherHandles=[])}else return Kn;let T=f?new Array(t.length).fill(bu):bu;const C=()=>{if(!(!R.active||!R.dirty))if(e){const b=R.run();(r||d||(f?b.some((_,I)=>Ys(_,T[I])):Ys(b,T)))&&(h&&h(),Qn(e,l,3,[b,T===bu?void 0:f&&T[0]===bu?[]:T,p]),T=b)}else R.run()};C.allowRecurse=!!e;let k;s==="sync"?k=C:s==="post"?k=()=>Mn(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),k=()=>Fp(C));const R=new Pp(c,Kn,k),m=Cp(),P=()=>{R.stop(),m&&Ip(m.effects,R)};return e?n?C():T=R.run():s==="post"?Mn(R.run.bind(R),l&&l.suspense):R.run(),y&&y.push(P),P}function sI(t,e,n){const r=this.proxy,s=Nt(t)?t.includes(".")?ab(r,t):()=>r[t]:t.bind(r,r);let i;Qe(e)?i=e:(i=e.handler,n=e);const o=Fl(this),a=qp(s,i.bind(r),n);return o(),a}function ab(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Ei(t,e,n=0,r){if(!Tt(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),ht(t))Ei(t.value,e,n,r);else if(je(t))for(let s=0;s<t.length;s++)Ei(t[s],e,n,r);else if(zc(t)||To(t))t.forEach(s=>{Ei(s,e,n,r)});else if(P0(t))for(const s in t)Ei(t[s],e,n,r);return t}function ut(t,e){if(Jt===null)return t;const n=od(Jt)||Jt.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Rt]=e[s];i&&(Qe(i)&&(i={mounted:i,updated:i}),i.deep&&Ei(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function di(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Gi(),Qn(l,n,8,[t.el,a,t,e]),Yi())}}const Ps=Symbol("_leaveCb"),wu=Symbol("_enterCb");function lb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Lt(()=>{t.isMounted=!0}),zp(()=>{t.isUnmounting=!0}),t}const zn=[Function,Array],ub={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zn,onEnter:zn,onAfterEnter:zn,onEnterCancelled:zn,onBeforeLeave:zn,onLeave:zn,onAfterLeave:zn,onLeaveCancelled:zn,onBeforeAppear:zn,onAppear:zn,onAfterAppear:zn,onAppearCancelled:zn},iI={name:"BaseTransition",props:ub,setup(t,{slots:e}){const n=$l(),r=lb();return()=>{const s=e.default&&Wp(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const f of s)if(f.type!==Jn){i=f;break}}const o=at(t),{mode:a}=o;if(r.isLeaving)return gf(i);const l=rv(i);if(!l)return gf(i);const u=ol(l,o,r,n);al(l,u);const c=n.subTree,d=c&&rv(c);if(d&&d.type!==Jn&&!_i(l,d)){const f=ol(d,o,r,n);if(al(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},gf(i);a==="in-out"&&l.type!==Jn&&(f.delayLeave=(h,p,y)=>{const T=cb(r,d);T[String(d.key)]=d,h[Ps]=()=>{p(),h[Ps]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return i}}},oI=iI;function cb(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ol(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:y,onAppear:T,onAfterAppear:C,onAppearCancelled:k}=e,R=String(t.key),m=cb(n,t),P=(I,O)=>{I&&Qn(I,r,9,O)},b=(I,O)=>{const F=O[1];P(I,O),je(I)?I.every(Q=>Q.length<=1)&&F():I.length<=1&&F()},_={mode:i,persisted:o,beforeEnter(I){let O=a;if(!n.isMounted)if(s)O=y||a;else return;I[Ps]&&I[Ps](!0);const F=m[R];F&&_i(t,F)&&F.el[Ps]&&F.el[Ps](),P(O,[I])},enter(I){let O=l,F=u,Q=c;if(!n.isMounted)if(s)O=T||l,F=C||u,Q=k||c;else return;let M=!1;const q=I[wu]=le=>{M||(M=!0,le?P(Q,[I]):P(F,[I]),_.delayedLeave&&_.delayedLeave(),I[wu]=void 0)};O?b(O,[I,q]):q()},leave(I,O){const F=String(t.key);if(I[wu]&&I[wu](!0),n.isUnmounting)return O();P(d,[I]);let Q=!1;const M=I[Ps]=q=>{Q||(Q=!0,O(),q?P(p,[I]):P(h,[I]),I[Ps]=void 0,m[F]===t&&delete m[F])};m[F]=t,f?b(f,[I,M]):M()},clone(I){return ol(I,e,n,r)}};return _}function gf(t){if(td(t))return t=Ks(t),t.children=null,t}function rv(t){return td(t)?t.children?t.children[0]:void 0:t}function al(t,e){t.shapeFlag&6&&t.component?al(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Wp(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Me?(o.patchFlag&128&&s++,r=r.concat(Wp(o.children,e,a))):(e||o.type!==Jn)&&r.push(a!=null?Ks(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function nt(t,e){return Qe(t)?Zt({name:t.name},e,{setup:t}):t}const Ma=t=>!!t.type.__asyncLoader,td=t=>t.type.__isKeepAlive;function aI(t,e){db(t,"a",e)}function lI(t,e){db(t,"da",e)}function db(t,e,n=ln){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(nd(e,r,n),n){let s=n.parent;for(;s&&s.parent;)td(s.parent.vnode)&&uI(r,e,n,s),s=s.parent}}function uI(t,e,n,r){const s=nd(e,t,r,!0);Ki(()=>{Ip(r[e],s)},n)}function nd(t,e,n=ln,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Gi();const a=Fl(n),l=Qn(e,n,t,o);return a(),Yi(),l});return r?s.unshift(i):s.push(i),i}}const ys=t=>(e,n=ln)=>(!id||t==="sp")&&nd(t,(...r)=>e(...r),n),cI=ys("bm"),Lt=ys("m"),fb=ys("bu"),hb=ys("u"),zp=ys("bum"),Ki=ys("um"),dI=ys("sp"),fI=ys("rtg"),hI=ys("rtc");function pI(t,e=ln){nd("ec",t,e)}function ct(t,e,n,r){let s;const i=n&&n[r];if(je(t)||Nt(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Tt(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];s[a]=e(t[u],u,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Dn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(je(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function De(t,e,n={},r,s){if(Jt.isCE||Jt.parent&&Ma(Jt.parent)&&Jt.parent.isCE)return e!=="default"&&(n.name=e),qe("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),V();const o=i&&pb(i(n)),a=Ue(Me,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function pb(t){return t.some(e=>ul(e)?!(e.type===Jn||e.type===Me&&!pb(e.children)):!0)?t:null}const gh=t=>t?Ib(t)?od(t)||t.proxy:gh(t.parent):null,Na=Zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gh(t.parent),$root:t=>gh(t.root),$emit:t=>t.emit,$options:t=>Gp(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Fp(t.update)}),$nextTick:t=>t.n||(t.n=At.bind(t.proxy)),$watch:t=>sI.bind(t)}),vf=(t,e)=>t!==Rt&&!t.__isScriptSetup&&ft(t,e),mI={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(vf(r,e))return o[e]=1,r[e];if(s!==Rt&&ft(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&ft(u,e))return o[e]=3,i[e];if(n!==Rt&&ft(n,e))return o[e]=4,n[e];vh&&(o[e]=0)}}const c=Na[e];let d,f;if(c)return e==="$attrs"&&Fn(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Rt&&ft(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ft(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return vf(s,e)?(s[e]=n,!0):r!==Rt&&ft(r,e)?(r[e]=n,!0):ft(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Rt&&ft(t,o)||vf(e,o)||(a=i[0])&&ft(a,o)||ft(r,o)||ft(Na,o)||ft(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ft(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Qi(){return gI().slots}function gI(){const t=$l();return t.setupContext||(t.setupContext=Cb(t))}function sv(t){return je(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let vh=!0;function vI(t){const e=Gp(t),n=t.proxy,r=t.ctx;vh=!1,e.beforeCreate&&iv(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:y,deactivated:T,beforeDestroy:C,beforeUnmount:k,destroyed:R,unmounted:m,render:P,renderTracked:b,renderTriggered:_,errorCaptured:I,serverPrefetch:O,expose:F,inheritAttrs:Q,components:M,directives:q,filters:le}=e;if(u&&yI(u,r,null),o)for(const K in o){const te=o[K];Qe(te)&&(r[K]=te.bind(n))}if(s){const K=s.call(n,n);Tt(K)&&(t.data=en(K))}if(vh=!0,i)for(const K in i){const te=i[K],Te=Qe(te)?te.bind(n,n):Qe(te.get)?te.get.bind(n,n):Kn,de=!Qe(te)&&Qe(te.set)?te.set.bind(n):Kn,z=ue({get:Te,set:de});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>z.value,set:J=>z.value=J})}if(a)for(const K in a)mb(a[K],r,n,K);if(l){const K=Qe(l)?l.call(n):l;Reflect.ownKeys(K).forEach(te=>{Va(te,K[te])})}c&&iv(c,t,"c");function A(K,te){je(te)?te.forEach(Te=>K(Te.bind(n))):te&&K(te.bind(n))}if(A(cI,d),A(Lt,f),A(fb,h),A(hb,p),A(aI,y),A(lI,T),A(pI,I),A(hI,b),A(fI,_),A(zp,k),A(Ki,m),A(dI,O),je(F))if(F.length){const K=t.exposed||(t.exposed={});F.forEach(te=>{Object.defineProperty(K,te,{get:()=>n[te],set:Te=>n[te]=Te})})}else t.exposed||(t.exposed={});P&&t.render===Kn&&(t.render=P),Q!=null&&(t.inheritAttrs=Q),M&&(t.components=M),q&&(t.directives=q)}function yI(t,e,n=Kn){je(t)&&(t=yh(t));for(const r in t){const s=t[r];let i;Tt(s)?"default"in s?i=Xn(s.from||r,s.default,!0):i=Xn(s.from||r):i=Xn(s),ht(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function iv(t,e,n){Qn(je(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mb(t,e,n,r){const s=r.includes(".")?ab(n,r):()=>n[r];if(Nt(t)){const i=e[t];Qe(i)&&Ut(s,i)}else if(Qe(t))Ut(s,t.bind(n));else if(Tt(t))if(je(t))t.forEach(i=>mb(i,e,n,r));else{const i=Qe(t.handler)?t.handler.bind(n):e[t.handler];Qe(i)&&Ut(s,i,t)}}function Gp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>lc(l,u,o,!0)),lc(l,e,o)),Tt(e)&&i.set(e,l),l}function lc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&lc(t,i,n,!0),s&&s.forEach(o=>lc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=_I[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _I={data:ov,props:av,emits:av,methods:xa,computed:xa,beforeCreate:Rn,created:Rn,beforeMount:Rn,mounted:Rn,beforeUpdate:Rn,updated:Rn,beforeDestroy:Rn,beforeUnmount:Rn,destroyed:Rn,unmounted:Rn,activated:Rn,deactivated:Rn,errorCaptured:Rn,serverPrefetch:Rn,components:xa,directives:xa,watch:wI,provide:ov,inject:bI};function ov(t,e){return e?t?function(){return Zt(Qe(t)?t.call(this,this):t,Qe(e)?e.call(this,this):e)}:e:t}function bI(t,e){return xa(yh(t),yh(e))}function yh(t){if(je(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rn(t,e){return t?[...new Set([].concat(t,e))]:e}function xa(t,e){return t?Zt(Object.create(null),t,e):e}function av(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:Zt(Object.create(null),sv(t),sv(e??{})):e}function wI(t,e){if(!t)return e;if(!e)return t;const n=Zt(Object.create(null),t);for(const r in e)n[r]=Rn(t[r],e[r]);return n}function gb(){return{app:null,config:{isNativeTag:tx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let TI=0;function EI(t,e){return function(r,s=null){Qe(r)||(r=Zt({},r)),s!=null&&!Tt(s)&&(s=null);const i=gb(),o=new WeakSet;let a=!1;const l=i.app={_uid:TI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:YI,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Qe(u.install)?(o.add(u),u.install(l,...c)):Qe(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,d){if(!a){const f=qe(r,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,od(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=Ao;Ao=l;try{return u()}finally{Ao=c}}};return l}}let Ao=null;function Va(t,e){if(ln){let n=ln.provides;const r=ln.parent&&ln.parent.provides;r===n&&(n=ln.provides=Object.create(r)),n[t]=e}}function Xn(t,e,n=!1){const r=ln||Jt;if(r||Ao){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ao._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Qe(e)?e.call(r&&r.proxy):e}}function AI(){return!!(ln||Jt||Ao)}function xI(t,e,n,r=!1){const s={},i={};sc(i,sd,1),t.propsDefaults=Object.create(null),vb(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:G0(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function II(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=at(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Zc(t.emitsOptions,f))continue;const h=e[f];if(l)if(ft(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const p=Wr(f);s[p]=_h(l,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{vb(t,e,s,i)&&(u=!0);let c;for(const d in a)(!e||!ft(e,d)&&((c=zi(d))===d||!ft(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=_h(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!ft(e,d))&&(delete i[d],u=!0)}u&&ds(t,"set","$attrs")}function vb(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Oa(l))continue;const u=e[l];let c;s&&ft(s,c=Wr(l))?!i||!i.includes(c)?n[c]=u:(a||(a={}))[c]=u:Zc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=at(n),u=a||Rt;for(let c=0;c<i.length;c++){const d=i[c];n[d]=_h(s,l,d,u[d],t,!ft(u,d))}}return o}function _h(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=ft(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Qe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const c=Fl(s);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===zi(n))&&(r=!0))}return r}function yb(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Qe(t)){const c=d=>{l=!0;const[f,h]=yb(d,e,!0);Zt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Tt(t)&&r.set(t,wo),wo;if(je(i))for(let c=0;c<i.length;c++){const d=Wr(i[c]);lv(d)&&(o[d]=Rt)}else if(i)for(const c in i){const d=Wr(c);if(lv(d)){const f=i[c],h=o[d]=je(f)||Qe(f)?{type:f}:Zt({},f);if(h){const p=dv(Boolean,h.type),y=dv(String,h.type);h[0]=p>-1,h[1]=y<0||p<y,(p>-1||ft(h,"default"))&&a.push(d)}}}const u=[o,a];return Tt(t)&&r.set(t,u),u}function lv(t){return t[0]!=="$"&&!Oa(t)}function uv(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function cv(t,e){return uv(t)===uv(e)}function dv(t,e){return je(e)?e.findIndex(n=>cv(n,t)):Qe(e)&&cv(e,t)?0:-1}const _b=t=>t[0]==="_"||t==="$stable",Yp=t=>je(t)?t.map(Er):[Er(t)],SI=(t,e,n)=>{if(e._n)return e;const r=Fe((...s)=>Yp(e(...s)),n);return r._c=!1,r},bb=(t,e,n)=>{const r=t._ctx;for(const s in t){if(_b(s))continue;const i=t[s];if(Qe(i))e[s]=SI(s,i,r);else if(i!=null){const o=Yp(i);e[s]=()=>o}}},wb=(t,e)=>{const n=Yp(e);t.slots.default=()=>n},CI=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=at(e),sc(e,"_",n)):bb(e,t.slots={})}else t.slots={},e&&wb(t,e);sc(t.slots,sd,1)},PI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Rt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Zt(s,e),!n&&a===1&&delete s._):(i=!e.$stable,bb(e,s)),o=e}else e&&(wb(t,e),o={default:1});if(i)for(const a in s)!_b(a)&&o[a]==null&&delete s[a]};function bh(t,e,n,r,s=!1){if(je(t)){t.forEach((f,h)=>bh(f,e&&(je(e)?e[h]:e),n,r,s));return}if(Ma(r)&&!s)return;const i=r.shapeFlag&4?od(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Rt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Nt(u)?(c[u]=null,ft(d,u)&&(d[u]=null)):ht(u)&&(u.value=null)),Qe(l))Us(l,a,12,[o,c]);else{const f=Nt(l),h=ht(l);if(f||h){const p=()=>{if(t.f){const y=f?ft(d,l)?d[l]:c[l]:l.value;s?je(y)&&Ip(y,i):je(y)?y.includes(i)||y.push(i):f?(c[l]=[i],ft(d,l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,ft(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Mn(p,n)):p()}}}const Mn=tI;function RI(t){return kI(t)}function kI(t,e){const n=R0();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Kn,insertStaticContent:p}=t,y=(v,w,U,G=null,Z=null,X=null,Ee=void 0,he=null,me=!!w.dynamicChildren)=>{if(v===w)return;v&&!_i(v,w)&&(G=x(v),J(v,Z,X,!0),v=null),w.patchFlag===-2&&(me=!1,w.dynamicChildren=null);const{type:pe,ref:Ie,shapeFlag:Ne}=w;switch(pe){case rd:T(v,w,U,G);break;case Jn:C(v,w,U,G);break;case _f:v==null&&k(w,U,G,Ee);break;case Me:M(v,w,U,G,Z,X,Ee,he,me);break;default:Ne&1?P(v,w,U,G,Z,X,Ee,he,me):Ne&6?q(v,w,U,G,Z,X,Ee,he,me):(Ne&64||Ne&128)&&pe.process(v,w,U,G,Z,X,Ee,he,me,j)}Ie!=null&&Z&&bh(Ie,v&&v.ref,X,w||v,!w)},T=(v,w,U,G)=>{if(v==null)r(w.el=a(w.children),U,G);else{const Z=w.el=v.el;w.children!==v.children&&u(Z,w.children)}},C=(v,w,U,G)=>{v==null?r(w.el=l(w.children||""),U,G):w.el=v.el},k=(v,w,U,G)=>{[v.el,v.anchor]=p(v.children,w,U,G,v.el,v.anchor)},R=({el:v,anchor:w},U,G)=>{let Z;for(;v&&v!==w;)Z=f(v),r(v,U,G),v=Z;r(w,U,G)},m=({el:v,anchor:w})=>{let U;for(;v&&v!==w;)U=f(v),s(v),v=U;s(w)},P=(v,w,U,G,Z,X,Ee,he,me)=>{w.type==="svg"?Ee="svg":w.type==="math"&&(Ee="mathml"),v==null?b(w,U,G,Z,X,Ee,he,me):O(v,w,Z,X,Ee,he,me)},b=(v,w,U,G,Z,X,Ee,he)=>{let me,pe;const{props:Ie,shapeFlag:Ne,transition:Pe,dirs:Oe}=v;if(me=v.el=o(v.type,X,Ie&&Ie.is,Ie),Ne&8?c(me,v.children):Ne&16&&I(v.children,me,null,G,Z,yf(v,X),Ee,he),Oe&&di(v,null,G,"created"),_(me,v,v.scopeId,Ee,G),Ie){for(const et in Ie)et!=="value"&&!Oa(et)&&i(me,et,null,Ie[et],X,v.children,G,Z,ne);"value"in Ie&&i(me,"value",null,Ie.value,X),(pe=Ie.onVnodeBeforeMount)&&br(pe,G,v)}Oe&&di(v,null,G,"beforeMount");const We=DI(Z,Pe);We&&Pe.beforeEnter(me),r(me,w,U),((pe=Ie&&Ie.onVnodeMounted)||We||Oe)&&Mn(()=>{pe&&br(pe,G,v),We&&Pe.enter(me),Oe&&di(v,null,G,"mounted")},Z)},_=(v,w,U,G,Z)=>{if(U&&h(v,U),G)for(let X=0;X<G.length;X++)h(v,G[X]);if(Z){let X=Z.subTree;if(w===X){const Ee=Z.vnode;_(v,Ee,Ee.scopeId,Ee.slotScopeIds,Z.parent)}}},I=(v,w,U,G,Z,X,Ee,he,me=0)=>{for(let pe=me;pe<v.length;pe++){const Ie=v[pe]=he?Rs(v[pe]):Er(v[pe]);y(null,Ie,w,U,G,Z,X,Ee,he)}},O=(v,w,U,G,Z,X,Ee)=>{const he=w.el=v.el;let{patchFlag:me,dynamicChildren:pe,dirs:Ie}=w;me|=v.patchFlag&16;const Ne=v.props||Rt,Pe=w.props||Rt;let Oe;if(U&&fi(U,!1),(Oe=Pe.onVnodeBeforeUpdate)&&br(Oe,U,w,v),Ie&&di(w,v,U,"beforeUpdate"),U&&fi(U,!0),pe?F(v.dynamicChildren,pe,he,U,G,yf(w,Z),X):Ee||te(v,w,he,null,U,G,yf(w,Z),X,!1),me>0){if(me&16)Q(he,w,Ne,Pe,U,G,Z);else if(me&2&&Ne.class!==Pe.class&&i(he,"class",null,Pe.class,Z),me&4&&i(he,"style",Ne.style,Pe.style,Z),me&8){const We=w.dynamicProps;for(let et=0;et<We.length;et++){const H=We[et],W=Ne[H],fe=Pe[H];(fe!==W||H==="value")&&i(he,H,W,fe,Z,v.children,U,G,ne)}}me&1&&v.children!==w.children&&c(he,w.children)}else!Ee&&pe==null&&Q(he,w,Ne,Pe,U,G,Z);((Oe=Pe.onVnodeUpdated)||Ie)&&Mn(()=>{Oe&&br(Oe,U,w,v),Ie&&di(w,v,U,"updated")},G)},F=(v,w,U,G,Z,X,Ee)=>{for(let he=0;he<w.length;he++){const me=v[he],pe=w[he],Ie=me.el&&(me.type===Me||!_i(me,pe)||me.shapeFlag&70)?d(me.el):U;y(me,pe,Ie,null,G,Z,X,Ee,!0)}},Q=(v,w,U,G,Z,X,Ee)=>{if(U!==G){if(U!==Rt)for(const he in U)!Oa(he)&&!(he in G)&&i(v,he,U[he],null,Ee,w.children,Z,X,ne);for(const he in G){if(Oa(he))continue;const me=G[he],pe=U[he];me!==pe&&he!=="value"&&i(v,he,pe,me,Ee,w.children,Z,X,ne)}"value"in G&&i(v,"value",U.value,G.value,Ee)}},M=(v,w,U,G,Z,X,Ee,he,me)=>{const pe=w.el=v?v.el:a(""),Ie=w.anchor=v?v.anchor:a("");let{patchFlag:Ne,dynamicChildren:Pe,slotScopeIds:Oe}=w;Oe&&(he=he?he.concat(Oe):Oe),v==null?(r(pe,U,G),r(Ie,U,G),I(w.children||[],U,Ie,Z,X,Ee,he,me)):Ne>0&&Ne&64&&Pe&&v.dynamicChildren?(F(v.dynamicChildren,Pe,U,Z,X,Ee,he),(w.key!=null||Z&&w===Z.subTree)&&Kp(v,w,!0)):te(v,w,U,Ie,Z,X,Ee,he,me)},q=(v,w,U,G,Z,X,Ee,he,me)=>{w.slotScopeIds=he,v==null?w.shapeFlag&512?Z.ctx.activate(w,U,G,Ee,me):le(w,U,G,Z,X,Ee,me):L(v,w,me)},le=(v,w,U,G,Z,X,Ee)=>{const he=v.component=jI(v,G,Z);if(td(v)&&(he.ctx.renderer=j),HI(he),he.asyncDep){if(Z&&Z.registerDep(he,A),!v.el){const me=he.subTree=qe(Jn);C(null,me,w,U)}}else A(he,v,w,U,Z,X,Ee)},L=(v,w,U)=>{const G=w.component=v.component;if(Qx(v,w,U))if(G.asyncDep&&!G.asyncResolved){K(G,w,U);return}else G.next=w,qx(G.update),G.effect.dirty=!0,G.update();else w.el=v.el,G.vnode=w},A=(v,w,U,G,Z,X,Ee)=>{const he=()=>{if(v.isMounted){let{next:Ie,bu:Ne,u:Pe,parent:Oe,vnode:We}=v;{const $=Tb(v);if($){Ie&&(Ie.el=We.el,K(v,Ie,Ee)),$.asyncDep.then(()=>{v.isUnmounted||he()});return}}let et=Ie,H;fi(v,!1),Ie?(Ie.el=We.el,K(v,Ie,Ee)):Ie=We,Ne&&Hu(Ne),(H=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&br(H,Oe,Ie,We),fi(v,!0);const W=mf(v),fe=v.subTree;v.subTree=W,y(fe,W,d(fe.el),x(fe),v,Z,X),Ie.el=W.el,et===null&&Xx(v,W.el),Pe&&Mn(Pe,Z),(H=Ie.props&&Ie.props.onVnodeUpdated)&&Mn(()=>br(H,Oe,Ie,We),Z)}else{let Ie;const{el:Ne,props:Pe}=w,{bm:Oe,m:We,parent:et}=v,H=Ma(w);if(fi(v,!1),Oe&&Hu(Oe),!H&&(Ie=Pe&&Pe.onVnodeBeforeMount)&&br(Ie,et,w),fi(v,!0),Ne&&_e){const W=()=>{v.subTree=mf(v),_e(Ne,v.subTree,v,Z,null)};H?w.type.__asyncLoader().then(()=>!v.isUnmounted&&W()):W()}else{const W=v.subTree=mf(v);y(null,W,U,G,v,Z,X),w.el=W.el}if(We&&Mn(We,Z),!H&&(Ie=Pe&&Pe.onVnodeMounted)){const W=w;Mn(()=>br(Ie,et,W),Z)}(w.shapeFlag&256||et&&Ma(et.vnode)&&et.vnode.shapeFlag&256)&&v.a&&Mn(v.a,Z),v.isMounted=!0,w=U=G=null}},me=v.effect=new Pp(he,Kn,()=>Fp(pe),v.scope),pe=v.update=()=>{me.dirty&&me.run()};pe.id=v.uid,fi(v,!0),pe()},K=(v,w,U)=>{w.component=v;const G=v.vnode.props;v.vnode=w,v.next=null,II(v,w.props,G,U),PI(v,w.children,U),Gi(),ev(v),Yi()},te=(v,w,U,G,Z,X,Ee,he,me=!1)=>{const pe=v&&v.children,Ie=v?v.shapeFlag:0,Ne=w.children,{patchFlag:Pe,shapeFlag:Oe}=w;if(Pe>0){if(Pe&128){de(pe,Ne,U,G,Z,X,Ee,he,me);return}else if(Pe&256){Te(pe,Ne,U,G,Z,X,Ee,he,me);return}}Oe&8?(Ie&16&&ne(pe,Z,X),Ne!==pe&&c(U,Ne)):Ie&16?Oe&16?de(pe,Ne,U,G,Z,X,Ee,he,me):ne(pe,Z,X,!0):(Ie&8&&c(U,""),Oe&16&&I(Ne,U,G,Z,X,Ee,he,me))},Te=(v,w,U,G,Z,X,Ee,he,me)=>{v=v||wo,w=w||wo;const pe=v.length,Ie=w.length,Ne=Math.min(pe,Ie);let Pe;for(Pe=0;Pe<Ne;Pe++){const Oe=w[Pe]=me?Rs(w[Pe]):Er(w[Pe]);y(v[Pe],Oe,U,null,Z,X,Ee,he,me)}pe>Ie?ne(v,Z,X,!0,!1,Ne):I(w,U,G,Z,X,Ee,he,me,Ne)},de=(v,w,U,G,Z,X,Ee,he,me)=>{let pe=0;const Ie=w.length;let Ne=v.length-1,Pe=Ie-1;for(;pe<=Ne&&pe<=Pe;){const Oe=v[pe],We=w[pe]=me?Rs(w[pe]):Er(w[pe]);if(_i(Oe,We))y(Oe,We,U,null,Z,X,Ee,he,me);else break;pe++}for(;pe<=Ne&&pe<=Pe;){const Oe=v[Ne],We=w[Pe]=me?Rs(w[Pe]):Er(w[Pe]);if(_i(Oe,We))y(Oe,We,U,null,Z,X,Ee,he,me);else break;Ne--,Pe--}if(pe>Ne){if(pe<=Pe){const Oe=Pe+1,We=Oe<Ie?w[Oe].el:G;for(;pe<=Pe;)y(null,w[pe]=me?Rs(w[pe]):Er(w[pe]),U,We,Z,X,Ee,he,me),pe++}}else if(pe>Pe)for(;pe<=Ne;)J(v[pe],Z,X,!0),pe++;else{const Oe=pe,We=pe,et=new Map;for(pe=We;pe<=Pe;pe++){const ge=w[pe]=me?Rs(w[pe]):Er(w[pe]);ge.key!=null&&et.set(ge.key,pe)}let H,W=0;const fe=Pe-We+1;let $=!1,re=0;const N=new Array(fe);for(pe=0;pe<fe;pe++)N[pe]=0;for(pe=Oe;pe<=Ne;pe++){const ge=v[pe];if(W>=fe){J(ge,Z,X,!0);continue}let ee;if(ge.key!=null)ee=et.get(ge.key);else for(H=We;H<=Pe;H++)if(N[H-We]===0&&_i(ge,w[H])){ee=H;break}ee===void 0?J(ge,Z,X,!0):(N[ee-We]=pe+1,ee>=re?re=ee:$=!0,y(ge,w[ee],U,null,Z,X,Ee,he,me),W++)}const oe=$?OI(N):wo;for(H=oe.length-1,pe=fe-1;pe>=0;pe--){const ge=We+pe,ee=w[ge],be=ge+1<Ie?w[ge+1].el:G;N[pe]===0?y(null,ee,U,be,Z,X,Ee,he,me):$&&(H<0||pe!==oe[H]?z(ee,U,be,2):H--)}}},z=(v,w,U,G,Z=null)=>{const{el:X,type:Ee,transition:he,children:me,shapeFlag:pe}=v;if(pe&6){z(v.component.subTree,w,U,G);return}if(pe&128){v.suspense.move(w,U,G);return}if(pe&64){Ee.move(v,w,U,j);return}if(Ee===Me){r(X,w,U);for(let Ne=0;Ne<me.length;Ne++)z(me[Ne],w,U,G);r(v.anchor,w,U);return}if(Ee===_f){R(v,w,U);return}if(G!==2&&pe&1&&he)if(G===0)he.beforeEnter(X),r(X,w,U),Mn(()=>he.enter(X),Z);else{const{leave:Ne,delayLeave:Pe,afterLeave:Oe}=he,We=()=>r(X,w,U),et=()=>{Ne(X,()=>{We(),Oe&&Oe()})};Pe?Pe(X,We,et):et()}else r(X,w,U)},J=(v,w,U,G=!1,Z=!1)=>{const{type:X,props:Ee,ref:he,children:me,dynamicChildren:pe,shapeFlag:Ie,patchFlag:Ne,dirs:Pe}=v;if(he!=null&&bh(he,null,U,v,!0),Ie&256){w.ctx.deactivate(v);return}const Oe=Ie&1&&Pe,We=!Ma(v);let et;if(We&&(et=Ee&&Ee.onVnodeBeforeUnmount)&&br(et,w,v),Ie&6)ce(v.component,U,G);else{if(Ie&128){v.suspense.unmount(U,G);return}Oe&&di(v,null,w,"beforeUnmount"),Ie&64?v.type.remove(v,w,U,Z,j,G):pe&&(X!==Me||Ne>0&&Ne&64)?ne(pe,w,U,!1,!0):(X===Me&&Ne&384||!Z&&Ie&16)&&ne(me,w,U),G&&E(v)}(We&&(et=Ee&&Ee.onVnodeUnmounted)||Oe)&&Mn(()=>{et&&br(et,w,v),Oe&&di(v,null,w,"unmounted")},U)},E=v=>{const{type:w,el:U,anchor:G,transition:Z}=v;if(w===Me){B(U,G);return}if(w===_f){m(v);return}const X=()=>{s(U),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(v.shapeFlag&1&&Z&&!Z.persisted){const{leave:Ee,delayLeave:he}=Z,me=()=>Ee(U,X);he?he(v.el,X,me):me()}else X()},B=(v,w)=>{let U;for(;v!==w;)U=f(v),s(v),v=U;s(w)},ce=(v,w,U)=>{const{bum:G,scope:Z,update:X,subTree:Ee,um:he}=v;G&&Hu(G),Z.stop(),X&&(X.active=!1,J(Ee,v,w,U)),he&&Mn(he,w),Mn(()=>{v.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},ne=(v,w,U,G=!1,Z=!1,X=0)=>{for(let Ee=X;Ee<v.length;Ee++)J(v[Ee],w,U,G,Z)},x=v=>v.shapeFlag&6?x(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el);let se=!1;const D=(v,w,U)=>{v==null?w._vnode&&J(w._vnode,null,null,!0):y(w._vnode||null,v,w,null,null,null,U),se||(se=!0,ev(),nb(),se=!1),w._vnode=v},j={p:y,um:J,m:z,r:E,mt:le,mc:I,pc:te,pbc:F,n:x,o:t};let Ae,_e;return e&&([Ae,_e]=e(j)),{render:D,hydrate:Ae,createApp:EI(D,Ae)}}function yf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function DI(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Kp(t,e,n=!1){const r=t.children,s=e.children;if(je(r)&&je(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Rs(s[i]),a.el=o.el),n||Kp(o,a)),a.type===rd&&(a.el=o.el)}}function OI(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Tb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Tb(e)}const MI=t=>t.__isTeleport,La=t=>t&&(t.disabled||t.disabled===""),fv=t=>typeof SVGElement<"u"&&t instanceof SVGElement,hv=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,wh=(t,e)=>{const n=t&&t.to;return Nt(n)?e?e(n):null:n},NI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:y,createComment:T}}=u,C=La(e.props);let{shapeFlag:k,children:R,dynamicChildren:m}=e;if(t==null){const P=e.el=y(""),b=e.anchor=y("");h(P,n,r),h(b,n,r);const _=e.target=wh(e.props,p),I=e.targetAnchor=y("");_&&(h(I,_),o==="svg"||fv(_)?o="svg":(o==="mathml"||hv(_))&&(o="mathml"));const O=(F,Q)=>{k&16&&c(R,F,Q,s,i,o,a,l)};C?O(n,b):_&&O(_,I)}else{e.el=t.el;const P=e.anchor=t.anchor,b=e.target=t.target,_=e.targetAnchor=t.targetAnchor,I=La(t.props),O=I?n:b,F=I?P:_;if(o==="svg"||fv(b)?o="svg":(o==="mathml"||hv(b))&&(o="mathml"),m?(f(t.dynamicChildren,m,O,s,i,o,a),Kp(t,e,!0)):l||d(t,e,O,F,s,i,o,a,!1),C)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Tu(e,n,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const Q=e.target=wh(e.props,p);Q&&Tu(e,Q,null,u,0)}else I&&Tu(e,b,_,u,1)}Eb(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&i(c),o&&i(u),a&16){const h=o||!La(f);for(let p=0;p<l.length;p++){const y=l[p];s(y,e,n,h,!!y.dynamicChildren)}}},move:Tu,hydrate:VI};function Tu(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=i===2;if(d&&r(o,e,n),(!d||La(c))&&l&16)for(let f=0;f<u.length;f++)s(u[f],e,n,2);d&&r(a,e,n)}function VI(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=wh(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(La(e.props))e.anchor=u(o(t),e,a(t),n,r,s,i),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,s,i)}Eb(e)}return e.anchor&&o(e.anchor)}const LI=NI;function Eb(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Me=Symbol.for("v-fgt"),rd=Symbol.for("v-txt"),Jn=Symbol.for("v-cmt"),_f=Symbol.for("v-stc"),$a=[];let lr=null;function V(t=!1){$a.push(lr=t?null:[])}function $I(){$a.pop(),lr=$a[$a.length-1]||null}let ll=1;function pv(t){ll+=t}function Ab(t){return t.dynamicChildren=ll>0?lr||wo:null,$I(),ll>0&&lr&&lr.push(t),t}function Y(t,e,n,r,s,i){return Ab(S(t,e,n,r,s,i,!0))}function Ue(t,e,n,r,s){return Ab(qe(t,e,n,r,s,!0))}function ul(t){return t?t.__v_isVNode===!0:!1}function _i(t,e){return t.type===e.type&&t.key===e.key}const sd="__vInternal",xb=({key:t})=>t??null,Wu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Nt(t)||ht(t)||Qe(t)?{i:Jt,r:t,k:e,f:!!n}:t:null);function S(t,e=null,n=null,r=0,s=null,i=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xb(e),ref:e&&Wu(e),scopeId:ib,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(Qp(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Nt(n)?8:16),ll>0&&!o&&lr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&lr.push(l),l}const qe=FI;function FI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===ob)&&(t=Jn),ul(t)){const a=Ks(t,e,!0);return n&&Qp(a,n),ll>0&&!i&&lr&&(a.shapeFlag&6?lr[lr.indexOf(t)]=a:lr.push(a)),a.patchFlag|=-2,a}if(GI(t)&&(t=t.__vccOpts),e){e=gn(e);let{class:a,style:l}=e;a&&!Nt(a)&&(e.class=Ve(a)),Tt(l)&&(Y0(l)&&!je(l)&&(l=Zt({},l)),e.style=In(l))}const o=Nt(t)?1:eI(t)?128:MI(t)?64:Tt(t)?4:Qe(t)?2:0;return S(t,e,n,r,s,o,i,!0)}function gn(t){return t?Y0(t)||sd in t?Zt({},t):t:null}function Ks(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Wt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&xb(a),ref:e&&e.ref?n&&s?je(s)?s.concat(Wu(e)):[s,Wu(e)]:Wu(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ks(t.ssContent),ssFallback:t.ssFallback&&Ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function It(t=" ",e=0){return qe(rd,null,t,e)}function ie(t="",e=!1){return e?(V(),Ue(Jn,null,t)):qe(Jn,null,t)}function Er(t){return t==null||typeof t=="boolean"?qe(Jn):je(t)?qe(Me,null,t.slice()):typeof t=="object"?Rs(t):qe(rd,null,String(t))}function Rs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ks(t)}function Qp(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(je(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Qp(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(sd in e)?e._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Qe(e)?(e={default:e,_ctx:Jt},n=32):(e=String(e),r&64?(n=16,e=[It(e)]):n=8);t.children=e,t.shapeFlag|=n}function Wt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ve([e.class,r.class]));else if(s==="style")e.style=In([e.style,r.style]);else if(Wc(s)){const i=e[s],o=r[s];o&&i!==o&&!(je(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function br(t,e,n,r=null){Qn(t,e,7,[n,r])}const UI=gb();let BI=0;function jI(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||UI,i={uid:BI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new O0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yb(r,s),emitsOptions:sb(r,s),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:r.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Gx.bind(null,i),t.ce&&t.ce(i),i}let ln=null;const $l=()=>ln||Jt;let uc,Th;{const t=R0(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};uc=e("__VUE_INSTANCE_SETTERS__",n=>ln=n),Th=e("__VUE_SSR_SETTERS__",n=>id=n)}const Fl=t=>{const e=ln;return uc(t),t.scope.on(),()=>{t.scope.off(),uc(e)}},mv=()=>{ln&&ln.scope.off(),uc(null)};function Ib(t){return t.vnode.shapeFlag&4}let id=!1;function HI(t,e=!1){e&&Th(e);const{props:n,children:r}=t.vnode,s=Ib(t);xI(t,n,s,e),CI(t,r);const i=s?qI(t,e):void 0;return e&&Th(!1),i}function qI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Xc(new Proxy(t.ctx,mI));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Cb(t):null,i=Fl(t);Gi();const o=Us(r,t,0,[t.props,s]);if(Yi(),i(),S0(o)){if(o.then(mv,mv),e)return o.then(a=>{gv(t,a,e)}).catch(a=>{Jc(a,t,0)});t.asyncDep=o}else gv(t,o,e)}else Sb(t,e)}function gv(t,e,n){Qe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)&&(t.setupState=J0(e)),Sb(t,n)}let vv;function Sb(t,e,n){const r=t.type;if(!t.render){if(!e&&vv&&!r.render){const s=r.template||Gp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Zt(Zt({isCustomElement:i,delimiters:a},o),l);r.render=vv(s,u)}}t.render=r.render||Kn}{const s=Fl(t);Gi();try{vI(t)}finally{Yi(),s()}}}function WI(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Fn(t,"get","$attrs"),e[n]}}))}function Cb(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return WI(t)},slots:t.slots,emit:t.emit,expose:e}}function od(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(J0(Xc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Na)return Na[n](t)},has(e,n){return n in e||n in Na}}))}function zI(t,e=!0){return Qe(t)?t.displayName||t.name:t.name||e&&t.__name}function GI(t){return Qe(t)&&"__vccOpts"in t}const ue=(t,e)=>Vx(t,e,id);function Rr(t,e,n){const r=arguments.length;return r===2?Tt(e)&&!je(e)?ul(e)?qe(t,null,[e]):qe(t,e):qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ul(n)&&(n=[n]),qe(t,e,n))}const YI="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KI="http://www.w3.org/2000/svg",QI="http://www.w3.org/1998/Math/MathML",ks=typeof document<"u"?document:null,yv=ks&&ks.createElement("template"),XI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?ks.createElementNS(KI,t):e==="mathml"?ks.createElementNS(QI,t):ks.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>ks.createTextNode(t),createComment:t=>ks.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ks.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{yv.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=yv.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bs="transition",ma="animation",Do=Symbol("_vtc"),ei=(t,{slots:e})=>Rr(oI,Rb(t),e);ei.displayName="Transition";const Pb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JI=ei.props=Zt({},ub,Pb),hi=(t,e=[])=>{je(t)?t.forEach(n=>n(...e)):t&&t(...e)},_v=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function Rb(t){const e={};for(const M in t)M in Pb||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=ZI(s),y=p&&p[0],T=p&&p[1],{onBeforeEnter:C,onEnter:k,onEnterCancelled:R,onLeave:m,onLeaveCancelled:P,onBeforeAppear:b=C,onAppear:_=k,onAppearCancelled:I=R}=e,O=(M,q,le)=>{xs(M,q?c:a),xs(M,q?u:o),le&&le()},F=(M,q)=>{M._isLeaving=!1,xs(M,d),xs(M,h),xs(M,f),q&&q()},Q=M=>(q,le)=>{const L=M?_:k,A=()=>O(q,M,le);hi(L,[q,A]),bv(()=>{xs(q,M?l:i),ss(q,M?c:a),_v(L)||wv(q,r,y,A)})};return Zt(e,{onBeforeEnter(M){hi(C,[M]),ss(M,i),ss(M,o)},onBeforeAppear(M){hi(b,[M]),ss(M,l),ss(M,u)},onEnter:Q(!1),onAppear:Q(!0),onLeave(M,q){M._isLeaving=!0;const le=()=>F(M,q);ss(M,d),Db(),ss(M,f),bv(()=>{M._isLeaving&&(xs(M,d),ss(M,h),_v(m)||wv(M,r,T,le))}),hi(m,[M,le])},onEnterCancelled(M){O(M,!1),hi(R,[M])},onAppearCancelled(M){O(M,!0),hi(I,[M])},onLeaveCancelled(M){F(M),hi(P,[M])}})}function ZI(t){if(t==null)return null;if(Tt(t))return[bf(t.enter),bf(t.leave)];{const e=bf(t);return[e,e]}}function bf(t){return ox(t)}function ss(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Do]||(t[Do]=new Set)).add(e)}function xs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Do];n&&(n.delete(e),n.size||(t[Do]=void 0))}function bv(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let eS=0;function wv(t,e,n,r){const s=t._endId=++eS,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=kb(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),i()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function kb(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${bs}Delay`),i=r(`${bs}Duration`),o=Tv(s,i),a=r(`${ma}Delay`),l=r(`${ma}Duration`),u=Tv(a,l);let c=null,d=0,f=0;e===bs?o>0&&(c=bs,d=o,f=i.length):e===ma?u>0&&(c=ma,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?bs:ma:null,f=c?c===bs?i.length:l.length:0);const h=c===bs&&/\b(transform|all)(,|$)/.test(r(`${bs}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function Tv(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ev(n)+Ev(t[r])))}function Ev(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Db(){return document.body.offsetHeight}function tS(t,e,n){const r=t[Do];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const cc=Symbol("_vod"),Ob=Symbol("_vsh"),Fa={beforeMount(t,{value:e},{transition:n}){t[cc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ga(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ga(t,!0),r.enter(t)):r.leave(t,()=>{ga(t,!1)}):ga(t,e))},beforeUnmount(t,{value:e}){ga(t,e)}};function ga(t,e){t.style.display=e?t[cc]:"none",t[Ob]=!e}const nS=Symbol(""),rS=/(^|;)\s*display\s*:/;function sS(t,e,n){const r=t.style,s=Nt(n);let i=!1;if(n&&!s){if(e)if(Nt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&zu(r,a,"")}else for(const o in e)n[o]==null&&zu(r,o,"");for(const o in n)o==="display"&&(i=!0),zu(r,o,n[o])}else if(s){if(e!==n){const o=r[nS];o&&(n+=";"+o),r.cssText=n,i=rS.test(n)}}else e&&t.removeAttribute("style");cc in t&&(t[cc]=i?r.display:"",t[Ob]&&(r.display="none"))}const Av=/\s*!important$/;function zu(t,e,n){if(je(n))n.forEach(r=>zu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iS(t,e);Av.test(n)?t.setProperty(zi(r),n.replace(Av,""),"important"):t[r]=n}}const xv=["Webkit","Moz","ms"],wf={};function iS(t,e){const n=wf[e];if(n)return n;let r=Wr(e);if(r!=="filter"&&r in t)return wf[e]=r;r=Yc(r);for(let s=0;s<xv.length;s++){const i=xv[s]+r;if(i in t)return wf[e]=i}return e}const Iv="http://www.w3.org/1999/xlink";function oS(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Iv,e.slice(6,e.length)):t.setAttributeNS(Iv,e,n);else{const i=fx(e);n==null||i&&!k0(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function aS(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=k0(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function bi(t,e,n,r){t.addEventListener(e,n,r)}function lS(t,e,n,r){t.removeEventListener(e,n,r)}const Sv=Symbol("_vei");function uS(t,e,n,r,s=null){const i=t[Sv]||(t[Sv]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=cS(e);if(r){const u=i[e]=hS(r,s);bi(t,a,u,l)}else o&&(lS(t,a,o,l),i[e]=void 0)}}const Cv=/(?:Once|Passive|Capture)$/;function cS(t){let e;if(Cv.test(t)){e={};let r;for(;r=t.match(Cv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zi(t.slice(2)),e]}let Tf=0;const dS=Promise.resolve(),fS=()=>Tf||(dS.then(()=>Tf=0),Tf=Date.now());function hS(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qn(pS(r,n.value),e,5,[r])};return n.value=t,n.attached=fS(),n}function pS(t,e){if(je(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Pv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mS=(t,e,n,r,s,i,o,a,l)=>{const u=s==="svg";e==="class"?tS(t,r,u):e==="style"?sS(t,n,r):Wc(e)?xp(e)||uS(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gS(t,e,r,u))?aS(t,e,r,i,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),oS(t,e,r,u))};function gS(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pv(e)&&Qe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Pv(e)&&Nt(n)?!1:e in t}const Mb=new WeakMap,Nb=new WeakMap,dc=Symbol("_moveCb"),Rv=Symbol("_enterCb"),Vb={name:"TransitionGroup",props:Zt({},JI,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=$l(),r=lb();let s,i;return hb(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!TS(s[0].el,n.vnode.el,o))return;s.forEach(_S),s.forEach(bS);const a=s.filter(wS);Db(),a.forEach(l=>{const u=l.el,c=u.style;ss(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[dc]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[dc]=null,xs(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=at(t),a=Rb(o);let l=o.tag||Me;s=i,i=e.default?Wp(e.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&al(c,ol(c,a,r,n))}if(s)for(let u=0;u<s.length;u++){const c=s[u];al(c,ol(c,a,r,n)),Mb.set(c,c.el.getBoundingClientRect())}return qe(l,null,i)}}},vS=t=>delete t.mode;Vb.props;const yS=Vb;function _S(t){const e=t.el;e[dc]&&e[dc](),e[Rv]&&e[Rv]()}function bS(t){Nb.set(t,t.el.getBoundingClientRect())}function wS(t){const e=Mb.get(t),n=Nb.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function TS(t,e,n){const r=t.cloneNode(),s=t[Do];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=kb(r);return i.removeChild(r),o}const fc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?n=>Hu(e,n):e};function ES(t){t.target.composing=!0}function kv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xo=Symbol("_assign"),hn={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[xo]=fc(s);const i=r||s.props&&s.props.type==="number";bi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=tl(a)),t[xo](a)}),n&&bi(t,"change",()=>{t.value=t.value.trim()}),e||(bi(t,"compositionstart",ES),bi(t,"compositionend",kv),bi(t,"change",kv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[xo]=fc(i),t.composing)return;const o=s||t.type==="number"?tl(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},ur={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=zc(e);bi(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?tl(hc(o)):hc(o));t[xo](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,At(()=>{t._assigning=!1})}),t[xo]=fc(r)},mounted(t,{value:e,modifiers:{number:n}}){Dv(t,e,n)},beforeUpdate(t,e,n){t[xo]=fc(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Dv(t,e,n)}};function Dv(t,e,n){const r=t.multiple,s=je(e);if(!(r&&!s&&!zc(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],l=hc(a);if(r)if(s){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?tl(l):l):a.selected=px(e,l)>-1}else a.selected=e.has(l);else if(Kc(hc(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function hc(t){return"_value"in t?t._value:t.value}const AS=["ctrl","shift","alt","meta"],xS={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>AS.some(n=>t[`${n}Key`]&&!e.includes(n))},vt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=xS[e[o]];if(a&&a(s,e))return}return t(s,...i)})},IS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xe=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=zi(s.key);if(e.some(o=>o===i||IS[o]===i))return t(s)})},SS=Zt({patchProp:mS},XI);let Ov;function Lb(){return Ov||(Ov=RI(SS))}const Mv=(...t)=>{Lb().render(...t)},Eh=(...t)=>{const e=Lb().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=PS(r);if(!s)return;const i=e._component;!Qe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,CS(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function CS(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function PS(t){return Nt(t)?document.querySelector(t):t}var RS=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let $b;const ad=t=>$b=t,Fb=Symbol();function Ah(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ua;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ua||(Ua={}));function kS(){const t=M0(!0),e=t.run(()=>ae({}));let n=[],r=[];const s=Xc({install(i){ad(s),s._a=i,i.provide(Fb,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!RS?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ub=()=>{};function Nv(t,e,n,r=Ub){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Cp()&&N0(s),s}function oo(t,...e){t.slice().forEach(n=>{n(...e)})}const DS=t=>t();function xh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Ah(s)&&Ah(r)&&t.hasOwnProperty(n)&&!ht(r)&&!Nr(r)?t[n]=xh(s,r):t[n]=r}return t}const OS=Symbol();function MS(t){return!Ah(t)||!t.hasOwnProperty(OS)}const{assign:Is}=Object;function NS(t){return!!(ht(t)&&t.effect)}function VS(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const c=Fx(n.state.value[t]);return Is(c,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Xc(ue(()=>{ad(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=Bb(t,u,e,n,r,!0),l}function Bb(t,e,n={},r,s,i){let o;const a=Is({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),ae({});let y;function T(I){let O;u=c=!1,typeof I=="function"?(I(r.state.value[t]),O={type:Ua.patchFunction,storeId:t,events:h}):(xh(r.state.value[t],I),O={type:Ua.patchObject,payload:I,storeId:t,events:h});const F=y=Symbol();At().then(()=>{y===F&&(u=!0)}),c=!0,oo(d,O,r.state.value[t])}const C=i?function(){const{state:O}=n,F=O?O():{};this.$patch(Q=>{Is(Q,F)})}:Ub;function k(){o.stop(),d=[],f=[],r._s.delete(t)}function R(I,O){return function(){ad(r);const F=Array.from(arguments),Q=[],M=[];function q(A){Q.push(A)}function le(A){M.push(A)}oo(f,{args:F,name:I,store:P,after:q,onError:le});let L;try{L=O.apply(this&&this.$id===t?this:P,F)}catch(A){throw oo(M,A),A}return L instanceof Promise?L.then(A=>(oo(Q,A),A)).catch(A=>(oo(M,A),Promise.reject(A))):(oo(Q,L),L)}}const m={_p:r,$id:t,$onAction:Nv.bind(null,f),$patch:T,$reset:C,$subscribe(I,O={}){const F=Nv(d,I,O.detached,()=>Q()),Q=o.run(()=>Ut(()=>r.state.value[t],M=>{(O.flush==="sync"?c:u)&&I({storeId:t,type:Ua.direct,events:h},M)},Is({},l,O)));return F},$dispose:k},P=en(m);r._s.set(t,P);const _=(r._a&&r._a.runWithContext||DS)(()=>r._e.run(()=>(o=M0()).run(e)));for(const I in _){const O=_[I];if(ht(O)&&!NS(O)||Nr(O))i||(p&&MS(O)&&(ht(O)?O.value=p[I]:xh(O,p[I])),r.state.value[t][I]=O);else if(typeof O=="function"){const F=R(I,O);_[I]=F,a.actions[I]=O}}return Is(P,_),Is(at(P),_),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:I=>{T(O=>{Is(O,I)})}}),r._p.forEach(I=>{Is(P,o.run(()=>I({store:P,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(P.$state,p),u=!0,c=!0,P}function Xi(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,l){const u=AI();return a=a||(u?Xn(Fb,null):null),a&&ad(a),a=$b,a._s.has(r)||(i?Bb(r,e,s,a):VS(r,s,a)),a._s.get(r)}return o.$id=r,o}/*!
  * vue-tippy v6.4.1
  * (c) 2023 
  * @license MIT
  */var Ln="top",er="bottom",tr="right",$n="left",Xp="auto",Ul=[Ln,er,tr,$n],Oo="start",cl="end",LS="clippingParents",jb="viewport",va="popper",$S="reference",Vv=Ul.reduce(function(t,e){return t.concat([e+"-"+Oo,e+"-"+cl])},[]),Hb=[].concat(Ul,[Xp]).reduce(function(t,e){return t.concat([e,e+"-"+Oo,e+"-"+cl])},[]),FS="beforeRead",US="read",BS="afterRead",jS="beforeMain",HS="main",qS="afterMain",WS="beforeWrite",zS="write",GS="afterWrite",YS=[FS,US,BS,jS,HS,qS,WS,zS,GS];function zr(t){return t?(t.nodeName||"").toLowerCase():null}function vr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Mo(t){var e=vr(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=vr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function qb(t){if(typeof ShadowRoot>"u")return!1;var e=vr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function KS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Zn(i)||!zr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function QS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Zn(s)||!zr(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}var Wb={name:"applyStyles",enabled:!0,phase:"write",fn:KS,effect:QS,requires:["computeStyles"]};function Vr(t){return t.split("-")[0]}var Di=Math.max,pc=Math.min,No=Math.round;function Vo(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,s=1;if(Zn(t)&&e){var i=t.offsetHeight,o=t.offsetWidth;o>0&&(r=No(n.width)/o||1),i>0&&(s=No(n.height)/i||1)}return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function Jp(t){var e=Vo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function zb(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&qb(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gr(t){return vr(t).getComputedStyle(t)}function XS(t){return["table","td","th"].indexOf(zr(t))>=0}function ti(t){return((Mo(t)?t.ownerDocument:t.document)||window.document).documentElement}function ld(t){return zr(t)==="html"?t:t.assignedSlot||t.parentNode||(qb(t)?t.host:null)||ti(t)}function Lv(t){return!Zn(t)||Gr(t).position==="fixed"?null:t.offsetParent}function JS(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Zn(t)){var r=Gr(t);if(r.position==="fixed")return null}for(var s=ld(t);Zn(s)&&["html","body"].indexOf(zr(s))<0;){var i=Gr(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Bl(t){for(var e=vr(t),n=Lv(t);n&&XS(n)&&Gr(n).position==="static";)n=Lv(n);return n&&(zr(n)==="html"||zr(n)==="body"&&Gr(n).position==="static")?e:n||JS(t)||e}function Zp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ba(t,e,n){return Di(t,pc(e,n))}function ZS(t,e,n){var r=Ba(t,e,n);return r>n?n:r}function Gb(){return{top:0,right:0,bottom:0,left:0}}function Yb(t){return Object.assign({},Gb(),t)}function Kb(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var eC=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Yb(typeof e!="number"?e:Kb(e,Ul))};function tC(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vr(n.placement),l=Zp(a),u=[$n,tr].indexOf(a)>=0,c=u?"height":"width";if(!(!i||!o)){var d=eC(s.padding,n),f=Jp(i),h=l==="y"?Ln:$n,p=l==="y"?er:tr,y=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],T=o[l]-n.rects.reference[l],C=Bl(i),k=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,R=y/2-T/2,m=d[h],P=k-f[c]-d[p],b=k/2-f[c]/2+R,_=Ba(m,b,P),I=l;n.modifiersData[r]=(e={},e[I]=_,e.centerOffset=_-b,e)}}function nC(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||zb(e.elements.popper,s)&&(e.elements.arrow=s))}var rC={name:"arrow",enabled:!0,phase:"main",fn:tC,effect:nC,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lo(t){return t.split("-")[1]}var sC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iC(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:No(e*s)/s||0,y:No(n*s)/s||0}}function $v(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=c===!0?iC(o):typeof c=="function"?c(o):o,h=f.x,p=h===void 0?0:h,y=f.y,T=y===void 0?0:y,C=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),R=$n,m=Ln,P=window;if(u){var b=Bl(n),_="clientHeight",I="clientWidth";if(b===vr(n)&&(b=ti(n),Gr(b).position!=="static"&&a==="absolute"&&(_="scrollHeight",I="scrollWidth")),b=b,s===Ln||(s===$n||s===tr)&&i===cl){m=er;var O=d&&P.visualViewport?P.visualViewport.height:b[_];T-=O-r.height,T*=l?1:-1}if(s===$n||(s===Ln||s===er)&&i===cl){R=tr;var F=d&&P.visualViewport?P.visualViewport.width:b[I];p-=F-r.width,p*=l?1:-1}}var Q=Object.assign({position:a},u&&sC);if(l){var M;return Object.assign({},Q,(M={},M[m]=k?"0":"",M[R]=C?"0":"",M.transform=(P.devicePixelRatio||1)<=1?"translate("+p+"px, "+T+"px)":"translate3d("+p+"px, "+T+"px, 0)",M))}return Object.assign({},Q,(e={},e[m]=k?T+"px":"",e[R]=C?p+"px":"",e.transform="",e))}function oC(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Vr(e.placement),variation:Lo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$v(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$v(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var aC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oC,data:{}},Eu={passive:!0};function lC(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=vr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",n.update,Eu)}),a&&l.addEventListener("resize",n.update,Eu),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Eu)}),a&&l.removeEventListener("resize",n.update,Eu)}}var uC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lC,data:{}},cC={left:"right",right:"left",bottom:"top",top:"bottom"};function Gu(t){return t.replace(/left|right|bottom|top/g,function(e){return cC[e]})}var dC={start:"end",end:"start"};function Fv(t){return t.replace(/start|end/g,function(e){return dC[e]})}function em(t){var e=vr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function tm(t){return Vo(ti(t)).left+em(t).scrollLeft}function fC(t){var e=vr(t),n=ti(t),r=e.visualViewport,s=n.clientWidth,i=n.clientHeight,o=0,a=0;return r&&(s=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:i,x:o+tm(t),y:a}}function hC(t){var e,n=ti(t),r=em(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Di(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Di(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+tm(t),l=-r.scrollTop;return Gr(s||n).direction==="rtl"&&(a+=Di(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function nm(t){var e=Gr(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Qb(t){return["html","body","#document"].indexOf(zr(t))>=0?t.ownerDocument.body:Zn(t)&&nm(t)?t:Qb(ld(t))}function ja(t,e){var n;e===void 0&&(e=[]);var r=Qb(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=vr(r),o=s?[i].concat(i.visualViewport||[],nm(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(ja(ld(o)))}function Ih(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pC(t){var e=Vo(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Uv(t,e){return e===jb?Ih(fC(t)):Mo(e)?pC(e):Ih(hC(ti(t)))}function mC(t){var e=ja(ld(t)),n=["absolute","fixed"].indexOf(Gr(t).position)>=0,r=n&&Zn(t)?Bl(t):t;return Mo(r)?e.filter(function(s){return Mo(s)&&zb(s,r)&&zr(s)!=="body"&&(n?Gr(s).position!=="static":!0)}):[]}function gC(t,e,n){var r=e==="clippingParents"?mC(t):[].concat(e),s=[].concat(r,[n]),i=s[0],o=s.reduce(function(a,l){var u=Uv(t,l);return a.top=Di(u.top,a.top),a.right=pc(u.right,a.right),a.bottom=pc(u.bottom,a.bottom),a.left=Di(u.left,a.left),a},Uv(t,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Xb(t){var e=t.reference,n=t.element,r=t.placement,s=r?Vr(r):null,i=r?Lo(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Ln:l={x:o,y:e.y-n.height};break;case er:l={x:o,y:e.y+e.height};break;case tr:l={x:e.x+e.width,y:a};break;case $n:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=s?Zp(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Oo:l[u]=l[u]-(e[c]/2-n[c]/2);break;case cl:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function dl(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.boundary,o=i===void 0?LS:i,a=n.rootBoundary,l=a===void 0?jb:a,u=n.elementContext,c=u===void 0?va:u,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,p=h===void 0?0:h,y=Yb(typeof p!="number"?p:Kb(p,Ul)),T=c===va?$S:va,C=t.rects.popper,k=t.elements[f?T:c],R=gC(Mo(k)?k:k.contextElement||ti(t.elements.popper),o,l),m=Vo(t.elements.reference),P=Xb({reference:m,element:C,strategy:"absolute",placement:s}),b=Ih(Object.assign({},C,P)),_=c===va?b:m,I={top:R.top-_.top+y.top,bottom:_.bottom-R.bottom+y.bottom,left:R.left-_.left+y.left,right:_.right-R.right+y.right},O=t.modifiersData.offset;if(c===va&&O){var F=O[s];Object.keys(I).forEach(function(Q){var M=[tr,er].indexOf(Q)>=0?1:-1,q=[Ln,er].indexOf(Q)>=0?"y":"x";I[Q]+=F[q]*M})}return I}function vC(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Hb:l,c=Lo(r),d=c?a?Vv:Vv.filter(function(p){return Lo(p)===c}):Ul,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,y){return p[y]=dl(t,{placement:y,boundary:s,rootBoundary:i,padding:o})[Vr(y)],p},{});return Object.keys(h).sort(function(p,y){return h[p]-h[y]})}function yC(t){if(Vr(t)===Xp)return[];var e=Gu(t);return[Fv(t),e,Fv(e)]}function _C(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,y=n.allowedAutoPlacements,T=e.options.placement,C=Vr(T),k=C===T,R=l||(k||!p?[Gu(T)]:yC(T)),m=[T].concat(R).reduce(function(B,ce){return B.concat(Vr(ce)===Xp?vC(e,{placement:ce,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:y}):ce)},[]),P=e.rects.reference,b=e.rects.popper,_=new Map,I=!0,O=m[0],F=0;F<m.length;F++){var Q=m[F],M=Vr(Q),q=Lo(Q)===Oo,le=[Ln,er].indexOf(M)>=0,L=le?"width":"height",A=dl(e,{placement:Q,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),K=le?q?tr:$n:q?er:Ln;P[L]>b[L]&&(K=Gu(K));var te=Gu(K),Te=[];if(i&&Te.push(A[M]<=0),a&&Te.push(A[K]<=0,A[te]<=0),Te.every(function(B){return B})){O=Q,I=!1;break}_.set(Q,Te)}if(I)for(var de=p?3:1,z=function(ce){var ne=m.find(function(x){var se=_.get(x);if(se)return se.slice(0,ce).every(function(D){return D})});if(ne)return O=ne,"break"},J=de;J>0;J--){var E=z(J);if(E==="break")break}e.placement!==O&&(e.modifiersData[r]._skip=!0,e.placement=O,e.reset=!0)}}var bC={name:"flip",enabled:!0,phase:"main",fn:_C,requiresIfExists:["offset"],data:{_skip:!1}};function Bv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function jv(t){return[Ln,tr,er,$n].some(function(e){return t[e]>=0})}function wC(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=dl(e,{elementContext:"reference"}),a=dl(e,{altBoundary:!0}),l=Bv(o,r),u=Bv(a,s,i),c=jv(l),d=jv(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var TC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wC};function EC(t,e,n){var r=Vr(t),s=[$n,Ln].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[$n,tr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function AC(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=Hb.reduce(function(c,d){return c[d]=EC(d,e.rects,i),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}var xC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:AC};function IC(t){var e=t.state,n=t.name;e.modifiersData[n]=Xb({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var SC={name:"popperOffsets",enabled:!0,phase:"read",fn:IC,data:{}};function CC(t){return t==="x"?"y":"x"}function PC(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,y=p===void 0?0:p,T=dl(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),C=Vr(e.placement),k=Lo(e.placement),R=!k,m=Zp(C),P=CC(m),b=e.modifiersData.popperOffsets,_=e.rects.reference,I=e.rects.popper,O=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,F=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(b){if(i){var q,le=m==="y"?Ln:$n,L=m==="y"?er:tr,A=m==="y"?"height":"width",K=b[m],te=K+T[le],Te=K-T[L],de=h?-I[A]/2:0,z=k===Oo?_[A]:I[A],J=k===Oo?-I[A]:-_[A],E=e.elements.arrow,B=h&&E?Jp(E):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Gb(),ne=ce[le],x=ce[L],se=Ba(0,_[A],B[A]),D=R?_[A]/2-de-se-ne-F.mainAxis:z-se-ne-F.mainAxis,j=R?-_[A]/2+de+se+x+F.mainAxis:J+se+x+F.mainAxis,Ae=e.elements.arrow&&Bl(e.elements.arrow),_e=Ae?m==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,v=(q=Q==null?void 0:Q[m])!=null?q:0,w=K+D-v-_e,U=K+j-v,G=Ba(h?pc(te,w):te,K,h?Di(Te,U):Te);b[m]=G,M[m]=G-K}if(a){var Z,X=m==="x"?Ln:$n,Ee=m==="x"?er:tr,he=b[P],me=P==="y"?"height":"width",pe=he+T[X],Ie=he-T[Ee],Ne=[Ln,$n].indexOf(C)!==-1,Pe=(Z=Q==null?void 0:Q[P])!=null?Z:0,Oe=Ne?pe:he-_[me]-I[me]-Pe+F.altAxis,We=Ne?he+_[me]+I[me]-Pe-F.altAxis:Ie,et=h&&Ne?ZS(Oe,he,We):Ba(h?Oe:pe,he,h?We:Ie);b[P]=et,M[P]=et-he}e.modifiersData[r]=M}}var RC={name:"preventOverflow",enabled:!0,phase:"main",fn:PC,requiresIfExists:["offset"]};function kC(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function DC(t){return t===vr(t)||!Zn(t)?em(t):kC(t)}function OC(t){var e=t.getBoundingClientRect(),n=No(e.width)/t.offsetWidth||1,r=No(e.height)/t.offsetHeight||1;return n!==1||r!==1}function MC(t,e,n){n===void 0&&(n=!1);var r=Zn(e),s=Zn(e)&&OC(e),i=ti(e),o=Vo(t,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((zr(e)!=="body"||nm(i))&&(a=DC(e)),Zn(e)?(l=Vo(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=tm(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function NC(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function VC(t){var e=NC(t);return YS.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function LC(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $C(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Hv={placement:"bottom",modifiers:[],strategy:"absolute"};function qv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function FC(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Hv:s;return function(a,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hv,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(C){var k=typeof C=="function"?C(c.options):C;y(),c.options=Object.assign({},i,c.options,k),c.scrollParents={reference:Mo(a)?ja(a):a.contextElement?ja(a.contextElement):[],popper:ja(l)};var R=VC($C([].concat(r,c.options.modifiers)));return c.orderedModifiers=R.filter(function(m){return m.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var C=c.elements,k=C.reference,R=C.popper;if(qv(k,R)){c.rects={reference:MC(k,Bl(R),c.options.strategy==="fixed"),popper:Jp(R)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(F){return c.modifiersData[F.name]=Object.assign({},F.data)});for(var m=0;m<c.orderedModifiers.length;m++){if(c.reset===!0){c.reset=!1,m=-1;continue}var P=c.orderedModifiers[m],b=P.fn,_=P.options,I=_===void 0?{}:_,O=P.name;typeof b=="function"&&(c=b({state:c,options:I,name:O,instance:h})||c)}}}},update:LC(function(){return new Promise(function(T){h.forceUpdate(),T(c)})}),destroy:function(){y(),f=!0}};if(!qv(a,l))return h;h.setOptions(u).then(function(T){!f&&u.onFirstUpdate&&u.onFirstUpdate(T)});function p(){c.orderedModifiers.forEach(function(T){var C=T.name,k=T.options,R=k===void 0?{}:k,m=T.effect;if(typeof m=="function"){var P=m({state:c,name:C,instance:h,options:R}),b=function(){};d.push(P||b)}})}function y(){d.forEach(function(T){return T()}),d=[]}return h}}var UC=[uC,SC,aC,Wb,xC,bC,RC,rC,TC],BC=FC({defaultModifiers:UC}),jC="tippy-box",Jb="tippy-content",Zb="tippy-backdrop",ew="tippy-arrow",tw="tippy-svg-arrow",pi={passive:!0,capture:!0},nw=function(){return document.body};function Ef(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function rm(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function rw(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Wv(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function HC(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function qC(t){return t.split(/\s+/).filter(Boolean)}function wi(t){return[].concat(t)}function zv(t,e){t.indexOf(e)===-1&&t.push(e)}function WC(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function sw(t){return t.split("-")[0]}function $o(t){return[].slice.call(t)}function Gv(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Oi(){return document.createElement("div")}function ud(t){return["Element","Fragment"].some(function(e){return rm(t,e)})}function zC(t){return rm(t,"NodeList")}function sm(t){return rm(t,"MouseEvent")}function GC(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function YC(t){return ud(t)?[t]:zC(t)?$o(t):Array.isArray(t)?t:$o(document.querySelectorAll(t))}function Af(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function fl(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function iw(t){var e,n=wi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function KC(t,e){var n=e.clientX,r=e.clientY;return t.every(function(s){var i=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,u=sw(o.placement),c=o.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,f=u==="top"?c.bottom.y:0,h=u==="right"?c.left.x:0,p=u==="left"?c.right.x:0,y=i.top-r+d>l,T=r-i.bottom-f>l,C=i.left-n+h>l,k=n-i.right-p>l;return y||T||C||k})}function xf(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[r](s,n)})}function Yv(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ar={isTouch:!1},Kv=0;function QC(){Ar.isTouch||(Ar.isTouch=!0,window.performance&&document.addEventListener("mousemove",ow))}function ow(){var t=performance.now();t-Kv<20&&(Ar.isTouch=!1,document.removeEventListener("mousemove",ow)),Kv=t}function XC(){var t=document.activeElement;if(GC(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function JC(){document.addEventListener("touchstart",QC,pi),window.addEventListener("blur",XC)}var ZC=typeof window<"u"&&typeof document<"u",eP=ZC?!!window.msCrypto:!1,tP={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},nP={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},cr=Object.assign({appendTo:nw,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},tP,nP),rP=Object.keys(cr),sP=function(e){var n=Object.keys(e);n.forEach(function(r){cr[r]=e[r]})};function aw(t){var e=t.plugins||[],n=e.reduce(function(r,s){var i=s.name,o=s.defaultValue;if(i){var a;r[i]=t[i]!==void 0?t[i]:(a=cr[i])!=null?a:o}return r},{});return Object.assign({},t,n)}function iP(t,e){var n=e?Object.keys(aw(Object.assign({},cr,{plugins:e}))):rP,r=n.reduce(function(s,i){var o=(t.getAttribute("data-tippy-"+i)||"").trim();if(!o)return s;if(i==="content")s[i]=o;else try{s[i]=JSON.parse(o)}catch{s[i]=o}return s},{});return r}function Qv(t,e){var n=Object.assign({},e,{content:rw(e.content,[t])},e.ignoreAttributes?{}:iP(t,e.plugins));return n.aria=Object.assign({},cr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var oP=function(){return"innerHTML"};function Sh(t,e){t[oP()]=e}function Xv(t){var e=Oi();return t===!0?e.className=ew:(e.className=tw,ud(t)?e.appendChild(t):Sh(e,t)),e}function Jv(t,e){ud(e.content)?(Sh(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Sh(t,e.content):t.textContent=e.content)}function mc(t){var e=t.firstElementChild,n=$o(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Jb)}),arrow:n.find(function(r){return r.classList.contains(ew)||r.classList.contains(tw)}),backdrop:n.find(function(r){return r.classList.contains(Zb)})}}function lw(t){var e=Oi(),n=Oi();n.className=jC,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Oi();r.className=Jb,r.setAttribute("data-state","hidden"),Jv(r,t.props),e.appendChild(n),n.appendChild(r),s(t.props,t.props);function s(i,o){var a=mc(e),l=a.box,u=a.content,c=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(i.content!==o.content||i.allowHTML!==o.allowHTML)&&Jv(u,t.props),o.arrow?c?i.arrow!==o.arrow&&(l.removeChild(c),l.appendChild(Xv(o.arrow))):l.appendChild(Xv(o.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:s}}lw.$$tippy=!0;var aP=1,Au=[],If=[];function lP(t,e){var n=Qv(t,Object.assign({},cr,aw(Gv(e)))),r,s,i,o=!1,a=!1,l=!1,u=!1,c,d,f,h=[],p=Wv(w,n.interactiveDebounce),y,T=aP++,C=null,k=WC(n.plugins),R={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:T,reference:t,popper:Oi(),popperInstance:C,props:n,state:R,plugins:k,clearDelayTimeouts:Oe,setProps:We,setContent:et,show:H,hide:W,hideWithInteractivity:fe,enable:Ne,disable:Pe,unmount:$,destroy:re};if(!n.render)return m;var P=n.render(m),b=P.popper,_=P.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+m.id,m.popper=b,t._tippy=m,b._tippy=m;var I=k.map(function(N){return N.fn(m)}),O=t.hasAttribute("aria-expanded");return Ae(),de(),K(),te("onCreate",[m]),n.showOnCreate&&pe(),b.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&le().addEventListener("mousemove",p)}),m;function F(){var N=m.props.touch;return Array.isArray(N)?N:[N,0]}function Q(){return F()[0]==="hold"}function M(){var N;return!!((N=m.props.render)!=null&&N.$$tippy)}function q(){return y||t}function le(){var N=q().parentNode;return N?iw(N):document}function L(){return mc(b)}function A(N){return m.state.isMounted&&!m.state.isVisible||Ar.isTouch||c&&c.type==="focus"?0:Ef(m.props.delay,N?0:1,cr.delay)}function K(N){N===void 0&&(N=!1),b.style.pointerEvents=m.props.interactive&&!N?"":"none",b.style.zIndex=""+m.props.zIndex}function te(N,oe,ge){if(ge===void 0&&(ge=!0),I.forEach(function(be){be[N]&&be[N].apply(be,oe)}),ge){var ee;(ee=m.props)[N].apply(ee,oe)}}function Te(){var N=m.props.aria;if(N.content){var oe="aria-"+N.content,ge=b.id,ee=wi(m.props.triggerTarget||t);ee.forEach(function(be){var xe=be.getAttribute(oe);if(m.state.isVisible)be.setAttribute(oe,xe?xe+" "+ge:ge);else{var tt=xe&&xe.replace(ge,"").trim();tt?be.setAttribute(oe,tt):be.removeAttribute(oe)}})}}function de(){if(!(O||!m.props.aria.expanded)){var N=wi(m.props.triggerTarget||t);N.forEach(function(oe){m.props.interactive?oe.setAttribute("aria-expanded",m.state.isVisible&&oe===q()?"true":"false"):oe.removeAttribute("aria-expanded")})}}function z(){le().removeEventListener("mousemove",p),Au=Au.filter(function(N){return N!==p})}function J(N){if(!(Ar.isTouch&&(l||N.type==="mousedown"))){var oe=N.composedPath&&N.composedPath()[0]||N.target;if(!(m.props.interactive&&Yv(b,oe))){if(wi(m.props.triggerTarget||t).some(function(ge){return Yv(ge,oe)})){if(Ar.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else te("onClickOutside",[m,N]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),a=!0,setTimeout(function(){a=!1}),m.state.isMounted||ne())}}}function E(){l=!0}function B(){l=!1}function ce(){var N=le();N.addEventListener("mousedown",J,!0),N.addEventListener("touchend",J,pi),N.addEventListener("touchstart",B,pi),N.addEventListener("touchmove",E,pi)}function ne(){var N=le();N.removeEventListener("mousedown",J,!0),N.removeEventListener("touchend",J,pi),N.removeEventListener("touchstart",B,pi),N.removeEventListener("touchmove",E,pi)}function x(N,oe){D(N,function(){!m.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&oe()})}function se(N,oe){D(N,oe)}function D(N,oe){var ge=L().box;function ee(be){be.target===ge&&(xf(ge,"remove",ee),oe())}if(N===0)return oe();xf(ge,"remove",d),xf(ge,"add",ee),d=ee}function j(N,oe,ge){ge===void 0&&(ge=!1);var ee=wi(m.props.triggerTarget||t);ee.forEach(function(be){be.addEventListener(N,oe,ge),h.push({node:be,eventType:N,handler:oe,options:ge})})}function Ae(){Q()&&(j("touchstart",v,{passive:!0}),j("touchend",U,{passive:!0})),qC(m.props.trigger).forEach(function(N){if(N!=="manual")switch(j(N,v),N){case"mouseenter":j("mouseleave",U);break;case"focus":j(eP?"focusout":"blur",G);break;case"focusin":j("focusout",G);break}})}function _e(){h.forEach(function(N){var oe=N.node,ge=N.eventType,ee=N.handler,be=N.options;oe.removeEventListener(ge,ee,be)}),h=[]}function v(N){var oe,ge=!1;if(!(!m.state.isEnabled||Z(N)||a)){var ee=((oe=c)==null?void 0:oe.type)==="focus";c=N,y=N.currentTarget,de(),!m.state.isVisible&&sm(N)&&Au.forEach(function(be){return be(N)}),N.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||o)&&m.props.hideOnClick!==!1&&m.state.isVisible?ge=!0:pe(N),N.type==="click"&&(o=!ge),ge&&!ee&&Ie(N)}}function w(N){var oe=N.target,ge=q().contains(oe)||b.contains(oe);if(!(N.type==="mousemove"&&ge)){var ee=me().concat(b).map(function(be){var xe,tt=be._tippy,dt=(xe=tt.popperInstance)==null?void 0:xe.state;return dt?{popperRect:be.getBoundingClientRect(),popperState:dt,props:n}:null}).filter(Boolean);KC(ee,N)&&(z(),Ie(N))}}function U(N){var oe=Z(N)||m.props.trigger.indexOf("click")>=0&&o;if(!oe){if(m.props.interactive){m.hideWithInteractivity(N);return}Ie(N)}}function G(N){m.props.trigger.indexOf("focusin")<0&&N.target!==q()||m.props.interactive&&N.relatedTarget&&b.contains(N.relatedTarget)||Ie(N)}function Z(N){return Ar.isTouch?Q()!==N.type.indexOf("touch")>=0:!1}function X(){Ee();var N=m.props,oe=N.popperOptions,ge=N.placement,ee=N.offset,be=N.getReferenceClientRect,xe=N.moveTransition,tt=M()?mc(b).arrow:null,dt=be?{getBoundingClientRect:be,contextElement:be.contextElement||q()}:t,Ct={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ci){var _r=ci.state;if(M()){var pa=L(),ff=pa.box;["placement","reference-hidden","escaped"].forEach(function(pu){pu==="placement"?ff.setAttribute("data-placement",_r.placement):_r.attributes.popper["data-popper-"+pu]?ff.setAttribute("data-"+pu,""):ff.removeAttribute("data-"+pu)}),_r.attributes.popper={}}}},dn=[{name:"offset",options:{offset:ee}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!xe}},Ct];M()&&tt&&dn.push({name:"arrow",options:{element:tt,padding:3}}),dn.push.apply(dn,(oe==null?void 0:oe.modifiers)||[]),m.popperInstance=BC(dt,b,Object.assign({},oe,{placement:ge,onFirstUpdate:f,modifiers:dn}))}function Ee(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function he(){var N=m.props.appendTo,oe,ge=q();m.props.interactive&&N===nw||N==="parent"?oe=ge.parentNode:oe=rw(N,[ge]),oe.contains(b)||oe.appendChild(b),m.state.isMounted=!0,X()}function me(){return $o(b.querySelectorAll("[data-tippy-root]"))}function pe(N){m.clearDelayTimeouts(),N&&te("onTrigger",[m,N]),ce();var oe=A(!0),ge=F(),ee=ge[0],be=ge[1];Ar.isTouch&&ee==="hold"&&be&&(oe=be),oe?r=setTimeout(function(){m.show()},oe):m.show()}function Ie(N){if(m.clearDelayTimeouts(),te("onUntrigger",[m,N]),!m.state.isVisible){ne();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(N.type)>=0&&o)){var oe=A(!1);oe?s=setTimeout(function(){m.state.isVisible&&m.hide()},oe):i=requestAnimationFrame(function(){m.hide()})}}function Ne(){m.state.isEnabled=!0}function Pe(){m.hide(),m.state.isEnabled=!1}function Oe(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(i)}function We(N){if(!m.state.isDestroyed){te("onBeforeUpdate",[m,N]),_e();var oe=m.props,ge=Qv(t,Object.assign({},oe,Gv(N),{ignoreAttributes:!0}));m.props=ge,Ae(),oe.interactiveDebounce!==ge.interactiveDebounce&&(z(),p=Wv(w,ge.interactiveDebounce)),oe.triggerTarget&&!ge.triggerTarget?wi(oe.triggerTarget).forEach(function(ee){ee.removeAttribute("aria-expanded")}):ge.triggerTarget&&t.removeAttribute("aria-expanded"),de(),K(),_&&_(oe,ge),m.popperInstance&&(X(),me().forEach(function(ee){requestAnimationFrame(ee._tippy.popperInstance.forceUpdate)})),te("onAfterUpdate",[m,N])}}function et(N){m.setProps({content:N})}function H(){var N=m.state.isVisible,oe=m.state.isDestroyed,ge=!m.state.isEnabled,ee=Ar.isTouch&&!m.props.touch,be=Ef(m.props.duration,0,cr.duration);if(!(N||oe||ge||ee)&&!q().hasAttribute("disabled")&&(te("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,M()&&(b.style.visibility="visible"),K(),ce(),m.state.isMounted||(b.style.transition="none"),M()){var xe=L(),tt=xe.box,dt=xe.content;Af([tt,dt],0)}f=function(){var dn;if(!(!m.state.isVisible||u)){if(u=!0,b.offsetHeight,b.style.transition=m.props.moveTransition,M()&&m.props.animation){var ts=L(),ci=ts.box,_r=ts.content;Af([ci,_r],be),fl([ci,_r],"visible")}Te(),de(),zv(If,m),(dn=m.popperInstance)==null||dn.forceUpdate(),te("onMount",[m]),m.props.animation&&M()&&se(be,function(){m.state.isShown=!0,te("onShown",[m])})}},he()}}function W(){var N=!m.state.isVisible,oe=m.state.isDestroyed,ge=!m.state.isEnabled,ee=Ef(m.props.duration,1,cr.duration);if(!(N||oe||ge)&&(te("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,u=!1,o=!1,M()&&(b.style.visibility="hidden"),z(),ne(),K(!0),M()){var be=L(),xe=be.box,tt=be.content;m.props.animation&&(Af([xe,tt],ee),fl([xe,tt],"hidden"))}Te(),de(),m.props.animation?M()&&x(ee,m.unmount):m.unmount()}}function fe(N){le().addEventListener("mousemove",p),zv(Au,p),p(N)}function $(){m.state.isVisible&&m.hide(),m.state.isMounted&&(Ee(),me().forEach(function(N){N._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),If=If.filter(function(N){return N!==m}),m.state.isMounted=!1,te("onHidden",[m]))}function re(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),_e(),delete t._tippy,m.state.isDestroyed=!0,te("onDestroy",[m]))}}function $e(t,e){e===void 0&&(e={});var n=cr.plugins.concat(e.plugins||[]);JC();var r=Object.assign({},e,{plugins:n}),s=YC(t),i=s.reduce(function(o,a){var l=a&&lP(a,r);return l&&o.push(l),o},[]);return ud(t)?i[0]:i}$e.defaultProps=cr;$e.setDefaultProps=sP;$e.currentInput=Ar;var uP=Object.assign({},Wb,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),cP=function(e,n){var r;n===void 0&&(n={});var s=e,i=[],o=[],a,l=n.overrides,u=[],c=!1;function d(){o=s.map(function(m){return wi(m.props.triggerTarget||m.reference)}).reduce(function(m,P){return m.concat(P)},[])}function f(){i=s.map(function(m){return m.reference})}function h(m){s.forEach(function(P){m?P.enable():P.disable()})}function p(m){return s.map(function(P){var b=P.setProps;return P.setProps=function(_){b(_),P.reference===a&&m.setProps(_)},function(){P.setProps=b}})}function y(m,P){var b=o.indexOf(P);if(P!==a){a=P;var _=(l||[]).concat("content").reduce(function(I,O){return I[O]=s[b].props[O],I},{});m.setProps(Object.assign({},_,{getReferenceClientRect:typeof _.getReferenceClientRect=="function"?_.getReferenceClientRect:function(){var I;return(I=i[b])==null?void 0:I.getBoundingClientRect()}}))}}h(!1),f(),d();var T={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){a=null},onClickOutside:function(b){b.props.showOnCreate&&!c&&(c=!0,a=null)},onShow:function(b){b.props.showOnCreate&&!c&&(c=!0,y(b,i[0]))},onTrigger:function(b,_){y(b,_.currentTarget)}}}},C=$e(Oi(),Object.assign({},HC(n,["overrides"]),{plugins:[T].concat(n.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[uP])})})),k=C.show;C.show=function(m){if(k(),!a&&m==null)return y(C,i[0]);if(!(a&&m==null)){if(typeof m=="number")return i[m]&&y(C,i[m]);if(s.indexOf(m)>=0){var P=m.reference;return y(C,P)}if(i.indexOf(m)>=0)return y(C,m)}},C.showNext=function(){var m=i[0];if(!a)return C.show(0);var P=i.indexOf(a);C.show(i[P+1]||m)},C.showPrevious=function(){var m=i[i.length-1];if(!a)return C.show(m);var P=i.indexOf(a),b=i[P-1]||m;C.show(b)};var R=C.setProps;return C.setProps=function(m){l=m.overrides||l,R(m)},C.setInstances=function(m){h(!0),u.forEach(function(P){return P()}),s=m,h(!1),f(),d(),u=p(C),C.setProps({triggerTarget:o})},u=p(C),C},dP={name:"animateFill",defaultValue:!1,fn:function(e){var n;if(!((n=e.props.render)!=null&&n.$$tippy))return{};var r=mc(e.popper),s=r.box,i=r.content,o=e.props.animateFill?fP():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,u=Number(l.replace("ms",""));i.style.transitionDelay=Math.round(u/10)+"ms",o.style.transitionDuration=l,fl([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&fl([o],"hidden")}}}};function fP(){var t=Oi();return t.className=Zb,fl([t],"hidden"),t}var Ch={clientX:0,clientY:0},xu=[];function uw(t){var e=t.clientX,n=t.clientY;Ch={clientX:e,clientY:n}}function hP(t){t.addEventListener("mousemove",uw)}function pP(t){t.removeEventListener("mousemove",uw)}var mP={name:"followCursor",defaultValue:!1,fn:function(e){var n=e.reference,r=iw(e.props.triggerTarget||n),s=!1,i=!1,o=!0,a=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function u(){r.addEventListener("mousemove",f)}function c(){r.removeEventListener("mousemove",f)}function d(){s=!0,e.setProps({getReferenceClientRect:null}),s=!1}function f(y){var T=y.target?n.contains(y.target):!0,C=e.props.followCursor,k=y.clientX,R=y.clientY,m=n.getBoundingClientRect(),P=k-m.left,b=R-m.top;(T||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var I=n.getBoundingClientRect(),O=k,F=R;C==="initial"&&(O=I.left+P,F=I.top+b);var Q=C==="horizontal"?I.top:F,M=C==="vertical"?I.right:O,q=C==="horizontal"?I.bottom:F,le=C==="vertical"?I.left:O;return{width:M-le,height:q-Q,top:Q,right:M,bottom:q,left:le}}})}function h(){e.props.followCursor&&(xu.push({instance:e,doc:r}),hP(r))}function p(){xu=xu.filter(function(y){return y.instance!==e}),xu.filter(function(y){return y.doc===r}).length===0&&pP(r)}return{onCreate:h,onDestroy:p,onBeforeUpdate:function(){a=e.props},onAfterUpdate:function(T,C){var k=C.followCursor;s||k!==void 0&&a.followCursor!==k&&(p(),k?(h(),e.state.isMounted&&!i&&!l()&&u()):(c(),d()))},onMount:function(){e.props.followCursor&&!i&&(o&&(f(Ch),o=!1),l()||u())},onTrigger:function(T,C){sm(C)&&(Ch={clientX:C.clientX,clientY:C.clientY}),i=C.type==="focus"},onHidden:function(){e.props.followCursor&&(d(),c(),o=!0)}}}};function gP(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var s=r.name;return s!==e.name}),[e])})}}var vP={name:"inlinePositioning",defaultValue:!1,fn:function(e){var n=e.reference;function r(){return!!e.props.inlinePositioning}var s,i=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(h){var p=h.state;r()&&(a.indexOf(p.placement)!==-1&&(a=[]),s!==p.placement&&a.indexOf(p.placement)===-1&&(a.push(p.placement),e.setProps({getReferenceClientRect:function(){return u(p.placement)}})),s=p.placement)}};function u(f){return yP(sw(f),n.getBoundingClientRect(),$o(n.getClientRects()),i)}function c(f){o=!0,e.setProps(f),o=!1}function d(){o||c(gP(e.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(h,p){if(sm(p)){var y=$o(e.reference.getClientRects()),T=y.find(function(k){return k.left-2<=p.clientX&&k.right+2>=p.clientX&&k.top-2<=p.clientY&&k.bottom+2>=p.clientY}),C=y.indexOf(T);i=C>-1?C:i}},onHidden:function(){i=-1}}}};function yP(t,e,n,r){if(n.length<2||t===null)return e;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":{var s=n[0],i=n[n.length-1],o=t==="top",a=s.top,l=i.bottom,u=o?s.left:i.left,c=o?s.right:i.right,d=c-u,f=l-a;return{top:a,bottom:l,left:u,right:c,width:d,height:f}}case"left":case"right":{var h=Math.min.apply(Math,n.map(function(b){return b.left})),p=Math.max.apply(Math,n.map(function(b){return b.right})),y=n.filter(function(b){return t==="left"?b.left===h:b.right===p}),T=y[0].top,C=y[y.length-1].bottom,k=h,R=p,m=R-k,P=C-T;return{top:T,bottom:C,left:k,right:R,width:m,height:P}}default:return e}}var _P={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,r=e.popper;function s(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function i(u){return e.props.sticky===!0||e.props.sticky===u}var o=null,a=null;function l(){var u=i("reference")?s().getBoundingClientRect():null,c=i("popper")?r.getBoundingClientRect():null;(u&&Zv(o,u)||c&&Zv(a,c))&&e.popperInstance&&e.popperInstance.update(),o=u,a=c,e.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){e.props.sticky&&l()}}}};function Zv(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}$e.setDefaultProps({render:lw});$e.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function cw(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const r=$l(),s=ae(),i=ae({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Lp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),u=_=>{let I,O=ht(_)?_.value:_;return ul(O)?(o.value||(o.value=Eh({name:n.appName,setup:()=>()=>ht(_)?_.value:_}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),I=()=>l()):typeof O=="object"?(o.value||(o.value=Eh({name:n.appName,setup:()=>()=>Rr(ht(_)?_.value:_)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),I=()=>l()):I=O,I},c=_=>{let I={};return ht(_)?I=_.value||{}:Nr(_)?I={..._}:I={..._},I.content&&(I.content=u(I.content)),I.triggerTarget&&(I.triggerTarget=ht(I.triggerTarget)?I.triggerTarget.value:I.triggerTarget),(!I.plugins||!Array.isArray(I.plugins))&&(I.plugins=[]),I.plugins=I.plugins.filter(O=>O.name!=="vueTippyReactiveState"),I.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){i.value.isEnabled=!0},onMount(){i.value.isMounted=!0},onShow(){i.value.isMounted=!0,i.value.isVisible=!0},onShown(){i.value.isShown=!0},onHide(){i.value.isMounted=!1,i.value.isVisible=!1},onHidden(){i.value.isShown=!1},onUnmounted(){i.value.isMounted=!1},onDestroy(){i.value.isDestroyed=!0}})}),I},d=()=>{s.value&&s.value.setProps(c(e))},f=()=>{!s.value||!e.content||s.value.setContent(u(e.content))},h=_=>{var I;(I=s.value)===null||I===void 0||I.setContent(u(_))},p=_=>{var I;(I=s.value)===null||I===void 0||I.setProps(c(_))},y=()=>{var _;s.value&&(s.value.destroy(),s.value=void 0),a=null,(_=o.value)===null||_===void 0||_.unmount(),o.value=void 0},T=()=>{var _;(_=s.value)===null||_===void 0||_.show()},C=()=>{var _;(_=s.value)===null||_===void 0||_.hide()},k=()=>{var _;(_=s.value)===null||_===void 0||_.disable(),i.value.isEnabled=!1},R=()=>{var _;(_=s.value)===null||_===void 0||_.enable(),i.value.isEnabled=!0},m=()=>{var _;(_=s.value)===null||_===void 0||_.unmount()},P=()=>{if(!t)return;let _=ht(t)?t.value:t;typeof _=="function"&&(_=_()),_&&(s.value=$e(_,c(e)),_.$tippy=b)},b={tippy:s,refresh:d,refreshContent:f,setContent:h,setProps:p,destroy:y,hide:C,show:T,disable:k,enable:R,unmount:m,mount:P,state:i};return n.mount&&(r?r.isMounted?P():Lt(P):P()),r&&Ki(()=>{y()}),ht(e)||Nr(e)?Ut(e,d,{immediate:!1}):ht(e.content)&&Ut(e.content,f,{immediate:!1}),b}function bP(t,e){const n=ae();return Lt(()=>{const s=(Array.isArray(t)?t.map(i=>i.value):typeof t=="function"?t():t.value).map(i=>i instanceof Element?i._tippy:i).filter(Boolean);n.value=cP(s,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function wP(t){return typeof t=="function"?t():g(t)}function TP(t){var e,n;const r=wP(t);return(n=(e=r)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:r}const EP=nt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>$e.defaultProps.appendTo},aria:{default:()=>$e.defaultProps.aria},delay:{default:()=>$e.defaultProps.delay},duration:{default:()=>$e.defaultProps.duration},getReferenceClientRect:{default:()=>$e.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>$e.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>$e.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>$e.defaultProps.interactive},interactiveBorder:{default:()=>$e.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>$e.defaultProps.interactiveDebounce},moveTransition:{default:()=>$e.defaultProps.moveTransition},offset:{default:()=>$e.defaultProps.offset},onAfterUpdate:{default:()=>$e.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>$e.defaultProps.onBeforeUpdate},onCreate:{default:()=>$e.defaultProps.onCreate},onDestroy:{default:()=>$e.defaultProps.onDestroy},onHidden:{default:()=>$e.defaultProps.onHidden},onHide:{default:()=>$e.defaultProps.onHide},onMount:{default:()=>$e.defaultProps.onMount},onShow:{default:()=>$e.defaultProps.onShow},onShown:{default:()=>$e.defaultProps.onShown},onTrigger:{default:()=>$e.defaultProps.onTrigger},onUntrigger:{default:()=>$e.defaultProps.onUntrigger},onClickOutside:{default:()=>$e.defaultProps.onClickOutside},placement:{default:()=>$e.defaultProps.placement},plugins:{default:()=>$e.defaultProps.plugins},popperOptions:{default:()=>$e.defaultProps.popperOptions},render:{default:()=>$e.defaultProps.render},showOnCreate:{type:Boolean,default:()=>$e.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>$e.defaultProps.touch},trigger:{default:()=>$e.defaultProps.trigger},triggerTarget:{default:()=>$e.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>$e.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>$e.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>$e.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>$e.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>$e.defaultProps.allowHTML},animation:{default:()=>$e.defaultProps.animation},arrow:{default:()=>$e.defaultProps.arrow},content:{default:()=>$e.defaultProps.content},inertia:{default:()=>$e.defaultProps.inertia},maxWidth:{default:()=>$e.defaultProps.maxWidth},role:{default:()=>$e.defaultProps.role},theme:{default:()=>$e.defaultProps.theme},zIndex:{default:()=>$e.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:r}){const s=ae(),i=ae(),o=ae(),a=ae(!1),l=()=>{let h={...t};for(const p of["to","tag","contentTag","contentClass"])h.hasOwnProperty(p)&&delete h[p];return h};let u=()=>TP(s);t.to&&(typeof Element<"u"&&t.to instanceof Element?u=()=>t.to:t.to==="parent"?u=()=>{let h=s.value;return h||(h=s.value=i.value.parentElement),h}:(typeof t.to=="string"||t.to instanceof String)&&(u=()=>document.querySelector(t.to)));const c=cw(u,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),Lt(()=>{a.value=!0,At(()=>{d&&c.setContent(()=>o.value)})}),Ut(c.state,()=>{n("state",g(c.state))},{immediate:!0,deep:!0}),Ut(()=>t,()=>{c.setProps(l()),d&&c.setContent(()=>o.value)},{deep:!0});let f=en({elem:s,contentElem:o,mounted:a,...c});return r(f),()=>{const h=(typeof t.contentTag=="string",t.contentTag),p=d?Rr(h,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const C=[];if(!s.value){const k=Rr("span",{ref:i,"data-v-tippy":"",style:{display:"none"}});C.push(k)}return p&&C.push(p),C}const y=e.default?e.default(f):[];if(!t.tag){const C=Rr(y[0],{ref:s,"data-v-tippy":""});return p?[C,p]:C}const T=(typeof t.tag=="string",t.tag);return Rr(T,{ref:s,"data-v-tippy":""},p?[y,p]:y)}}}),AP=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Ph={};Object.keys($e.defaultProps).forEach(t=>{AP.includes(t)?Ph[t]={type:Boolean,default:function(){return $e.defaultProps[t]}}:Ph[t]={default:function(){return $e.defaultProps[t]}}});const xP=nt({props:Ph,setup(t){const e=ae([]),{singleton:n}=bP(e,t);return{instances:e,singleton:n}},mounted(){var t;const n=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(n).map(r=>r._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return Rr(()=>t)}}),IP={mounted(t,e,n){const r=typeof e.value=="string"?{content:e.value}:e.value||{},s=Object.keys(e.modifiers||{}),i=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;i&&(r.placement=r.placement||i),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),n.props&&n.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!r.content&&(r.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!r.content&&(r.content=t.getAttribute("content")),cw(t,r)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},SP={install(t,e={}){$e.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",IP),t.component(e.component||"tippy",EP),t.component(e.componentSingleton||"tippy-singleton",xP)}},CP=$e.setDefaultProps;CP({ignoreAttributes:!0,plugins:[_P,vP,mP,dP]});const PP=SP;/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fo=typeof document<"u";function RP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const _t=Object.assign;function Sf(t,e){const n={};for(const r in e){const s=e[r];n[r]=pr(s)?s.map(t):t(s)}return n}const Ha=()=>{},pr=Array.isArray,dw=/#/g,kP=/&/g,DP=/\//g,OP=/=/g,MP=/\?/g,fw=/\+/g,NP=/%5B/g,VP=/%5D/g,hw=/%5E/g,LP=/%60/g,pw=/%7B/g,$P=/%7C/g,mw=/%7D/g,FP=/%20/g;function im(t){return encodeURI(""+t).replace($P,"|").replace(NP,"[").replace(VP,"]")}function UP(t){return im(t).replace(pw,"{").replace(mw,"}").replace(hw,"^")}function Rh(t){return im(t).replace(fw,"%2B").replace(FP,"+").replace(dw,"%23").replace(kP,"%26").replace(LP,"`").replace(pw,"{").replace(mw,"}").replace(hw,"^")}function BP(t){return Rh(t).replace(OP,"%3D")}function jP(t){return im(t).replace(dw,"%23").replace(MP,"%3F")}function HP(t){return t==null?"":jP(t).replace(DP,"%2F")}function hl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const qP=/\/$/,WP=t=>t.replace(qP,"");function Cf(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=KP(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:hl(o)}}function zP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ey(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function GP(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Fo(e.matched[r],n.matched[s])&&gw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Fo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!YP(t[n],e[n]))return!1;return!0}function YP(t,e){return pr(t)?ty(t,e):pr(e)?ty(e,t):t===e}function ty(t,e){return pr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function KP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}var pl;(function(t){t.pop="pop",t.push="push"})(pl||(pl={}));var qa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(qa||(qa={}));function QP(t){if(!t)if(fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),WP(t)}const XP=/^[^#]+#/;function JP(t,e){return t.replace(XP,"#")+e}function ZP(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const cd=()=>({left:window.scrollX,top:window.scrollY});function eR(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=ZP(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ny(t,e){return(history.state?history.state.position-e:-1)+t}const kh=new Map;function tR(t,e){kh.set(t,e)}function nR(t){const e=kh.get(t);return kh.delete(t),e}let rR=()=>location.protocol+"//"+location.host;function vw(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ey(l,"")}return ey(n,t)+r+s}function sR(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=vw(t,location),p=n.value,y=e.value;let T=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}T=y?f.position-y.position:0}else r(h);s.forEach(C=>{C(n.value,p,{delta:T,type:pl.pop,direction:T?T>0?qa.forward:qa.back:qa.unknown})})};function l(){o=n.value}function u(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(_t({},f.state,{scroll:cd()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function ry(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?cd():null}}function iR(t){const{history:e,location:n}=window,r={value:vw(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:rR()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=_t({},e.state,ry(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=_t({},s.value,e.state,{forward:l,scroll:cd()});i(c.current,c,!0);const d=_t({},ry(r.value,l,null),{position:c.position+1},u);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function oR(t){t=QP(t);const e=iR(t),n=sR(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=_t({location:"",base:t,go:r,createHref:JP.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function aR(t){return typeof t=="string"||t&&typeof t=="object"}function yw(t){return typeof t=="string"||typeof t=="symbol"}const ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_w=Symbol("");var sy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sy||(sy={}));function Uo(t,e){return _t(new Error,{type:t,[_w]:!0},e)}function ns(t,e){return t instanceof Error&&_w in t&&(e==null||!!(t.type&e))}const iy="[^/]+?",lR={sensitive:!1,strict:!1,start:!0,end:!0},uR=/[.+*?^${}()[\]/\\]/g;function cR(t,e){const n=_t({},lR,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(uR,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:y,optional:T,regexp:C}=f;i.push({name:p,repeatable:y,optional:T});const k=C||iy;if(k!==iy){h+=10;try{new RegExp(`(${k})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${p}" (${k}): `+m.message)}}let R=y?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(R=T&&u.length<2?`(?:/${R})`:"/"+R),T&&(R+="?"),s+=R,h+=20,T&&(h+=-8),y&&(h+=-20),k===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:T}=h,C=p in u?u[p]:"";if(pr(C)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const k=pr(C)?C.join("/"):C;if(!k)if(T)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=k}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function dR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function fR(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=dR(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(oy(r))return 1;if(oy(s))return-1}return s.length-r.length}function oy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hR={type:0,value:""},pR=/[a-zA-Z0-9_]/;function mR(t){if(!t)return[[]];if(t==="/")return[[hR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",c="";function d(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:pR.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}function gR(t,e,n){const r=cR(mR(t.path),n),s=_t(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function vR(t,e){const n=[],r=new Map;e=uy({strict:!1,end:!0,sensitive:!1},e);function s(c){return r.get(c)}function i(c,d,f){const h=!f,p=yR(c);p.aliasOf=f&&f.record;const y=uy(e,c),T=[p];if("alias"in c){const R=typeof c.alias=="string"?[c.alias]:c.alias;for(const m of R)T.push(_t({},p,{components:f?f.record.components:p.components,path:m,aliasOf:f?f.record:p}))}let C,k;for(const R of T){const{path:m}=R;if(d&&m[0]!=="/"){const P=d.record.path,b=P[P.length-1]==="/"?"":"/";R.path=d.record.path+(m&&b+m)}if(C=gR(R,d,y),f?f.alias.push(C):(k=k||C,k!==C&&k.alias.push(C),h&&c.name&&!ly(C)&&o(c.name)),p.children){const P=p.children;for(let b=0;b<P.length;b++)i(P[b],C,f&&f.children[b])}f=f||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return k?()=>{o(k)}:Ha}function o(c){if(yw(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&fR(c,n[d])>=0&&(c.record.path!==n[d].record.path||!bw(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!ly(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,y;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Uo(1,{location:c});y=f.record.name,h=_t(ay(d.params,f.keys.filter(k=>!k.optional).concat(f.parent?f.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),c.params&&ay(c.params,f.keys.map(k=>k.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(k=>k.re.test(p)),f&&(h=f.parse(p),y=f.record.name);else{if(f=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!f)throw Uo(1,{location:c,currentLocation:d});y=f.record.name,h=_t({},d.params,c.params),p=f.stringify(h)}const T=[];let C=f;for(;C;)T.unshift(C.record),C=C.parent;return{name:y,path:p,params:h,matched:T,meta:bR(T)}}return t.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function ay(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function yR(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:_R(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function _R(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function ly(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function bR(t){return t.reduce((e,n)=>_t(e,n.meta),{})}function uy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function bw(t,e){return e.children.some(n=>n===t||bw(t,n))}function wR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(fw," "),o=i.indexOf("="),a=hl(o<0?i:i.slice(0,o)),l=o<0?null:hl(i.slice(o+1));if(a in e){let u=e[a];pr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function cy(t){let e="";for(let n in t){const r=t[n];if(n=BP(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(pr(r)?r.map(i=>i&&Rh(i)):[r&&Rh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function TR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=pr(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const ER=Symbol(""),dy=Symbol(""),dd=Symbol(""),ww=Symbol(""),Dh=Symbol("");function ya(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ds(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Uo(4,{from:n,to:e})):f instanceof Error?l(f):aR(f)?l(Uo(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(r&&r.instances[s],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Pf(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(AR(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ds(c,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=RP(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&Ds(h,n,r,o,a,s)()}))}}return i}function AR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fy(t){const e=Xn(dd),n=Xn(ww),r=ue(()=>e.resolve(g(t.to))),s=ue(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Fo.bind(null,c));if(f>-1)return f;const h=hy(l[u-2]);return u>1&&hy(c)===h&&d[d.length-1].path!==h?d.findIndex(Fo.bind(null,l[u-2])):f}),i=ue(()=>s.value>-1&&CR(n.params,r.value.params)),o=ue(()=>s.value>-1&&s.value===n.matched.length-1&&gw(n.params,r.value.params));function a(l={}){return SR(l)?e[g(t.replace)?"replace":"push"](g(t.to)).catch(Ha):Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const xR=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fy,setup(t,{slots:e}){const n=en(fy(t)),{options:r}=Xn(dd),s=ue(()=>({[py(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[py(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Rr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),IR=xR;function SR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CR(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!pr(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function hy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const py=(t,e,n)=>t??e??n,PR=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Xn(Dh),s=ue(()=>t.route||r.value),i=Xn(dy,0),o=ue(()=>{let u=g(i);const{matched:c}=s.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ue(()=>s.value.matched[o.value]);Va(dy,ue(()=>o.value+1)),Va(ER,a),Va(Dh,s);const l=ae();return Ut(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Fo(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return my(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,T=Rr(f,_t({},p,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return my(n.default,{Component:T,route:u})||T}}});function my(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Tw=PR;function RR(t){const e=vR(t.routes,t),n=t.parseQuery||wR,r=t.stringifyQuery||cy,s=t.history,i=ya(),o=ya(),a=ya(),l=Lp(ws);let u=ws;fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Sf.bind(null,x=>""+x),d=Sf.bind(null,HP),f=Sf.bind(null,hl);function h(x,se){let D,j;return yw(x)?(D=e.getRecordMatcher(x),j=se):j=x,e.addRoute(j,D)}function p(x){const se=e.getRecordMatcher(x);se&&e.removeRoute(se)}function y(){return e.getRoutes().map(x=>x.record)}function T(x){return!!e.getRecordMatcher(x)}function C(x,se){if(se=_t({},se||l.value),typeof x=="string"){const w=Cf(n,x,se.path),U=e.resolve({path:w.path},se),G=s.createHref(w.fullPath);return _t(w,U,{params:f(U.params),hash:hl(w.hash),redirectedFrom:void 0,href:G})}let D;if(x.path!=null)D=_t({},x,{path:Cf(n,x.path,se.path).path});else{const w=_t({},x.params);for(const U in w)w[U]==null&&delete w[U];D=_t({},x,{params:d(w)}),se.params=d(se.params)}const j=e.resolve(D,se),Ae=x.hash||"";j.params=c(f(j.params));const _e=zP(r,_t({},x,{hash:UP(Ae),path:j.path})),v=s.createHref(_e);return _t({fullPath:_e,hash:Ae,query:r===cy?TR(x.query):x.query||{}},j,{redirectedFrom:void 0,href:v})}function k(x){return typeof x=="string"?Cf(n,x,l.value.path):_t({},x)}function R(x,se){if(u!==x)return Uo(8,{from:se,to:x})}function m(x){return _(x)}function P(x){return m(_t(k(x),{replace:!0}))}function b(x){const se=x.matched[x.matched.length-1];if(se&&se.redirect){const{redirect:D}=se;let j=typeof D=="function"?D(x):D;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=k(j):{path:j},j.params={}),_t({query:x.query,hash:x.hash,params:j.path!=null?{}:x.params},j)}}function _(x,se){const D=u=C(x),j=l.value,Ae=x.state,_e=x.force,v=x.replace===!0,w=b(D);if(w)return _(_t(k(w),{state:typeof w=="object"?_t({},Ae,w.state):Ae,force:_e,replace:v}),se||D);const U=D;U.redirectedFrom=se;let G;return!_e&&GP(r,j,D)&&(G=Uo(16,{to:U,from:j}),z(j,j,!0,!1)),(G?Promise.resolve(G):F(U,j)).catch(Z=>ns(Z)?ns(Z,2)?Z:de(Z):te(Z,U,j)).then(Z=>{if(Z){if(ns(Z,2))return _(_t({replace:v},k(Z.to),{state:typeof Z.to=="object"?_t({},Ae,Z.to.state):Ae,force:_e}),se||U)}else Z=M(U,j,!0,v,Ae);return Q(U,j,Z),Z})}function I(x,se){const D=R(x,se);return D?Promise.reject(D):Promise.resolve()}function O(x){const se=B.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(x):x()}function F(x,se){let D;const[j,Ae,_e]=kR(x,se);D=Pf(j.reverse(),"beforeRouteLeave",x,se);for(const w of j)w.leaveGuards.forEach(U=>{D.push(Ds(U,x,se))});const v=I.bind(null,x,se);return D.push(v),ne(D).then(()=>{D=[];for(const w of i.list())D.push(Ds(w,x,se));return D.push(v),ne(D)}).then(()=>{D=Pf(Ae,"beforeRouteUpdate",x,se);for(const w of Ae)w.updateGuards.forEach(U=>{D.push(Ds(U,x,se))});return D.push(v),ne(D)}).then(()=>{D=[];for(const w of _e)if(w.beforeEnter)if(pr(w.beforeEnter))for(const U of w.beforeEnter)D.push(Ds(U,x,se));else D.push(Ds(w.beforeEnter,x,se));return D.push(v),ne(D)}).then(()=>(x.matched.forEach(w=>w.enterCallbacks={}),D=Pf(_e,"beforeRouteEnter",x,se,O),D.push(v),ne(D))).then(()=>{D=[];for(const w of o.list())D.push(Ds(w,x,se));return D.push(v),ne(D)}).catch(w=>ns(w,8)?w:Promise.reject(w))}function Q(x,se,D){a.list().forEach(j=>O(()=>j(x,se,D)))}function M(x,se,D,j,Ae){const _e=R(x,se);if(_e)return _e;const v=se===ws,w=fo?history.state:{};D&&(j||v?s.replace(x.fullPath,_t({scroll:v&&w&&w.scroll},Ae)):s.push(x.fullPath,Ae)),l.value=x,z(x,se,D,v),de()}let q;function le(){q||(q=s.listen((x,se,D)=>{if(!ce.listening)return;const j=C(x),Ae=b(j);if(Ae){_(_t(Ae,{replace:!0}),j).catch(Ha);return}u=j;const _e=l.value;fo&&tR(ny(_e.fullPath,D.delta),cd()),F(j,_e).catch(v=>ns(v,12)?v:ns(v,2)?(_(v.to,j).then(w=>{ns(w,20)&&!D.delta&&D.type===pl.pop&&s.go(-1,!1)}).catch(Ha),Promise.reject()):(D.delta&&s.go(-D.delta,!1),te(v,j,_e))).then(v=>{v=v||M(j,_e,!1),v&&(D.delta&&!ns(v,8)?s.go(-D.delta,!1):D.type===pl.pop&&ns(v,20)&&s.go(-1,!1)),Q(j,_e,v)}).catch(Ha)}))}let L=ya(),A=ya(),K;function te(x,se,D){de(x);const j=A.list();return j.length?j.forEach(Ae=>Ae(x,se,D)):console.error(x),Promise.reject(x)}function Te(){return K&&l.value!==ws?Promise.resolve():new Promise((x,se)=>{L.add([x,se])})}function de(x){return K||(K=!x,le(),L.list().forEach(([se,D])=>x?D(x):se()),L.reset()),x}function z(x,se,D,j){const{scrollBehavior:Ae}=t;if(!fo||!Ae)return Promise.resolve();const _e=!D&&nR(ny(x.fullPath,0))||(j||!D)&&history.state&&history.state.scroll||null;return At().then(()=>Ae(x,se,_e)).then(v=>v&&eR(v)).catch(v=>te(v,x,se))}const J=x=>s.go(x);let E;const B=new Set,ce={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:T,getRoutes:y,resolve:C,options:t,push:m,replace:P,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:A.add,isReady:Te,install(x){const se=this;x.component("RouterLink",IR),x.component("RouterView",Tw),x.config.globalProperties.$router=se,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>g(l)}),fo&&!E&&l.value===ws&&(E=!0,m(s.location).catch(Ae=>{}));const D={};for(const Ae in ws)Object.defineProperty(D,Ae,{get:()=>l.value[Ae],enumerable:!0});x.provide(dd,se),x.provide(ww,G0(D)),x.provide(Dh,l);const j=x.unmount;B.add(x),x.unmount=function(){B.delete(x),B.size<1&&(u=ws,q&&q(),q=null,l.value=ws,E=!1,K=!1),j()}}};function ne(x){return x.reduce((se,D)=>se.then(()=>O(D)),Promise.resolve())}return ce}function kR(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Fo(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Fo(u,l))||s.push(l))}return[n,r,s]}function sa(){return Xn(dd)}const Ew=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},DR={},OR={class:"loader"};function MR(t,e){return V(),Y("div",OR)}const fd=Ew(DR,[["render",MR]]),NR={class:"w-screen h-screen z-30 fixed top-0 left-0 flex flex-row justify-center items-center"},VR=nt({__name:"LoadingView",setup(t){return(e,n)=>(V(),Y("div",NR,[qe(fd)]))}});var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Aw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new $R;const f=i<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=Aw(t);return xw.encodeByteArray(e,!0)},gc=function(t){return FR(t).replace(/\./g,"")},Iw=function(t){try{return xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=()=>UR().__FIREBASE_DEFAULTS__,jR=()=>{if(typeof process>"u"||typeof gy>"u")return;const t=gy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Iw(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return BR()||jR()||HR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sw=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qR=t=>{const e=Sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cw=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},Pw=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function YR(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XR(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rw(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ek,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?tk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Jr(s,a,r)}}function tk(t,e){return t.replace(nk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nk=/\{\$([^}]+)}/g;function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vy(i)&&vy(o)){if(!vc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sk(t,e){const n=new ik(t,e);return n.subscribe.bind(n)}class ik{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ok(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rf),s.error===void 0&&(s.error=Rf),s.complete===void 0&&(s.complete=Rf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ok(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uk(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lk(t){return t===mi?void 0:t}function uk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const dk={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},fk=ot.INFO,hk={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},pk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class om{constructor(e){this.name=e,this._logLevel=fk,this._logHandler=pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const mk=(t,e)=>e.some(n=>t instanceof n);let yy,_y;function gk(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vk(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,Oh=new WeakMap,Dw=new WeakMap,kf=new WeakMap,am=new WeakMap;function yk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Bs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kw.set(n,t)}).catch(()=>{}),am.set(e,t),e}function _k(t){if(Oh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Oh.set(t,e)}let Mh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bk(t){Mh=t(Mh)}function wk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Df(this),e,...n);return Dw.set(r,e.sort?e.sort():[e]),Bs(r)}:vk().includes(t)?function(...e){return t.apply(Df(this),e),Bs(kw.get(this))}:function(...e){return Bs(t.apply(Df(this),e))}}function Tk(t){return typeof t=="function"?wk(t):(t instanceof IDBTransaction&&_k(t),mk(t,gk())?new Proxy(t,Mh):t)}function Bs(t){if(t instanceof IDBRequest)return yk(t);if(kf.has(t))return kf.get(t);const e=Tk(t);return e!==t&&(kf.set(t,e),am.set(e,t)),e}const Df=t=>am.get(t);function Ek(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bs(o.result),l.oldVersion,l.newVersion,Bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Ak=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],Of=new Map;function by(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ak.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Of.set(e,i),i}bk(t=>({...t,get:(e,n,r)=>by(e,n)||t.get(e,n,r),has:(e,n)=>!!by(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nh="@firebase/app",wy="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new om("@firebase/app"),Ck="@firebase/app-compat",Pk="@firebase/analytics-compat",Rk="@firebase/analytics",kk="@firebase/app-check-compat",Dk="@firebase/app-check",Ok="@firebase/auth",Mk="@firebase/auth-compat",Nk="@firebase/database",Vk="@firebase/database-compat",Lk="@firebase/functions",$k="@firebase/functions-compat",Fk="@firebase/installations",Uk="@firebase/installations-compat",Bk="@firebase/messaging",jk="@firebase/messaging-compat",Hk="@firebase/performance",qk="@firebase/performance-compat",Wk="@firebase/remote-config",zk="@firebase/remote-config-compat",Gk="@firebase/storage",Yk="@firebase/storage-compat",Kk="@firebase/firestore",Qk="@firebase/firestore-compat",Xk="firebase",Jk="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="[DEFAULT]",Zk={[Nh]:"fire-core",[Ck]:"fire-core-compat",[Rk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Dk]:"fire-app-check",[kk]:"fire-app-check-compat",[Ok]:"fire-auth",[Mk]:"fire-auth-compat",[Nk]:"fire-rtdb",[Vk]:"fire-rtdb-compat",[Lk]:"fire-fn",[$k]:"fire-fn-compat",[Fk]:"fire-iid",[Uk]:"fire-iid-compat",[Bk]:"fire-fcm",[jk]:"fire-fcm-compat",[Hk]:"fire-perf",[qk]:"fire-perf-compat",[Wk]:"fire-rc",[zk]:"fire-rc-compat",[Gk]:"fire-gcs",[Yk]:"fire-gcs-compat",[Kk]:"fire-fst",[Qk]:"fire-fst-compat","fire-js":"fire-js",[Xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,Lh=new Map;function eD(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(Lh.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,t);for(const n of yc.values())eD(n,t);return!0}function lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},js=new jl("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=Jk;function Ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw js.create("bad-app-name",{appName:String(s)});if(n||(n=Cw()),!n)throw js.create("no-options");const i=yc.get(s);if(i){if(vc(n,i.options)&&vc(r,i.config))return i;throw js.create("duplicate-app",{appName:s})}const o=new ck(s);for(const l of Lh.values())o.addComponent(l);const a=new nD(n,r,o);return yc.set(s,a),a}function Mw(t=Vh){const e=yc.get(t);if(!e&&t===Vh&&Cw())return Ow();if(!e)throw js.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let s=(r=Zk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Ui(new Qs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",sD=1,ml="firebase-heartbeat-store";let Mf=null;function Nw(){return Mf||(Mf=Ek(rD,sD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function iD(t){try{const n=(await Nw()).transaction(ml),r=await n.objectStore(ml).get(Vw(t));return await n.done,r}catch(e){if(e instanceof Jr)Fi.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function Ty(t,e){try{const r=(await Nw()).transaction(ml,"readwrite");await r.objectStore(ml).put(e,Vw(t)),await r.done}catch(n){if(n instanceof Jr)Fi.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function Vw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=1024,aD=30*24*60*60*1e3;class lD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ey();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ey(),{heartbeatsToSend:r,unsentEntries:s}=uD(this._heartbeatsCache.heartbeats),i=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ey(){return new Date().toISOString().substring(0,10)}function uD(t,e=oD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ay(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rw()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ay(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){Ui(new Qs("platform-logger",e=>new Ik(e),"PRIVATE")),Ui(new Qs("heartbeat",e=>new lD(e),"PRIVATE")),Lr(Nh,wy,t),Lr(Nh,wy,"esm2017"),Lr("fire-js","")}dD("");var fD="firebase",hD="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(fD,hD,"app");function um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=Lw,$w=new jl("auth","Firebase",Lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new om("@firebase/auth");function mD(t,...e){_c.logLevel<=ot.WARN&&_c.warn(`Auth (${Ji}): ${t}`,...e)}function Yu(t,...e){_c.logLevel<=ot.ERROR&&_c.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw cm(t,...e)}function $r(t,...e){return cm(t,...e)}function Fw(t,e,n){const r=Object.assign(Object.assign({},pD()),{[e]:n});return new jl("auth","Firebase",r).create(e,{appName:t.name})}function gD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),Fw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $w.create(t,...e)}function ze(t,e,...n){if(!t)throw cm(e,...n)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function ms(t,e){t||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vD(){return xy()==="http:"||xy()==="https:"}function xy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vD()||KR()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=GR()||QR()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ql(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ri(t,e,n,r,s={}){return Bw(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Uw.fetch()(jw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Bw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bD),e);try{const s=new ED(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Iu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fw(t,c,u);nr(t,c)}}catch(s){if(s instanceof Jr)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function Wl(t,e,n,r,s={}){const i=await ri(t,e,n,r,s);return"mfaPendingCredential"in i&&nr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function jw(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?dm(t.config,s):`${t.config.apiScheme}://${s}`}function TD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ED{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),wD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$r(t,e,r);return s.customData._tokenResponse=n,s}function Iy(t){return t!==void 0&&t.enterprise!==void 0}class AD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xD(t,e){return ri(t,"GET","/v2/recaptchaConfig",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function SD(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CD(t,e=!1){const n=_n(t),r=await n.getIdToken(e),s=fm(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wa(Nf(s.auth_time)),issuedAtTime:Wa(Nf(s.iat)),expirationTime:Wa(Nf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Nf(t){return Number(t)*1e3}function fm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Iw(n);return s?JSON.parse(s):(Yu("Failed to decode base64 JWT payload"),null)}catch(s){return Yu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PD(t){const e=fm(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&RD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await gl(t,SD(n,{idToken:r}));ze(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?MD(i.providerUserInfo):[],a=OD(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Hw(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function DD(t){const e=_n(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function MD(t){return t.map(e=>{var{providerId:n}=e,r=um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){const n=await Bw(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=jw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Uw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VD(t,e){return ri(t,"POST","/v2/accounts:revokeToken",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ze(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ND(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vl;return r&&(ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ze(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Hw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CD(this,e)}reload(){return DD(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gl(this,ID(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,h=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:R,emailVerified:m,isAnonymous:P,providerData:b,stsTokenManager:_}=n;ze(R&&_,e,"internal-error");const I=vl.fromJSON(this.name,_);ze(typeof R=="string",e,"internal-error"),Ts(d,e.name),Ts(f,e.name),ze(typeof m=="boolean",e,"internal-error"),ze(typeof P=="boolean",e,"internal-error"),Ts(h,e.name),Ts(p,e.name),Ts(y,e.name),Ts(T,e.name),Ts(C,e.name),Ts(k,e.name);const O=new Mi({uid:R,auth:e,email:f,emailVerified:m,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:C,lastLoginAt:k});return b&&Array.isArray(b)&&(O.providerData=b.map(F=>Object.assign({},F))),T&&(O._redirectEventId=T),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new vl;s.updateFromServerResponse(n);const i=new Mi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=new Map;function as(t){ms(t instanceof Function,"Expected a class definition");let e=Sy.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qw.type="NONE";const Cy=qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ku(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ku("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(as(Cy),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||as(Cy);const o=Ku(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Mi._fromJSON(e,c);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Io(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Io(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kw(e))return"Blackberry";if(Qw(e))return"Webos";if(hm(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if(Yw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ww(t=tn()){return/firefox\//i.test(t)}function hm(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(t=tn()){return/crios\//i.test(t)}function Gw(t=tn()){return/iemobile/i.test(t)}function Yw(t=tn()){return/android/i.test(t)}function Kw(t=tn()){return/blackberry/i.test(t)}function Qw(t=tn()){return/webos/i.test(t)}function pd(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LD(t=tn()){var e;return pd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $D(){return XR()&&document.documentMode===10}function Xw(t=tn()){return pd(t)||Yw(t)||Qw(t)||Kw(t)||/windows phone/i.test(t)||Gw(t)}function FD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e=[]){let n;switch(t){case"Browser":n=Py(tn());break;case"Worker":n=`${Py(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e={}){return ri(t,"GET","/v2/passwordPolicy",ni(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=6;class HD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new UD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BD(this),n=new HD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function si(t){return _n(t)}class Ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=sk(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WD(t){md=t}function Zw(t){return md.loadJS(t)}function zD(){return md.recaptchaEnterpriseScript}function GD(){return md.gapiScript}function YD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const KD="recaptcha-enterprise",QD="NO_RECAPTCHA";class XD{constructor(e){this.type=KD,this.auth=si(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new AD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Iy(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(QD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Iy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zD();l.length!==0&&(l+=a),Zw(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ky(t,e,n,r=!1){const s=new XD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ky(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ky(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){const n=lm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vc(i,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function ZD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eO(t,e,n){const r=si(t);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=eT(e),{host:o,port:a}=tO(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||nO()}function eT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tO(t){const e=eT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Dy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Dy(o)}}}function Dy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function rO(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return Wl(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e){return Wl(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function oO(t,e){return Wl(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends pm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,n,"signInWithPassword",sO);case"emailLink":return iO(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,r,"signUpPassword",rO);case"emailLink":return oO(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e){return Wl(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="http://localhost";class Bi extends pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=um(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Bi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:aO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uO(t){const e=Ia(Sa(t)).link,n=e?Ia(Sa(e)).deep_link_id:null,r=Ia(Sa(t)).deep_link_id;return(r?Ia(Sa(r)).link:null)||r||n||e||t}class mm{constructor(e){var n,r,s,i,o,a;const l=Ia(Sa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=lO((s=l.mode)!==null&&s!==void 0?s:null);ze(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uO(e);try{return new mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mm.parseLink(n);return ze(r,"argument-error"),yl._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends zl{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends zl{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends zl{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,e){return Wl(t,"POST","/v1/accounts:signUp",ni(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mi._fromIdTokenResponse(e,r,s),o=Oy(r);return new ji({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Oy(r);return new ji({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Oy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Jr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wc(e,n,r,s)}}function tT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(t,i,e,r):i})}async function dO(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await gl(t,tT(r,s,e,t),n);ze(i.idToken,r,"internal-error");const o=fm(i.idToken);ze(o,r,"internal-error");const{sub:a}=o;return ze(t.uid===a,r,"user-mismatch"),ji._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(t,e,n=!1){const r="signIn",s=await tT(t,r,e),i=await ji._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hO(t,e){return nT(si(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(t){const e=si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pO(t,e,n){const r=si(t),o=await Fh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rT(t),l}),a=await ji._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function mO(t,e,n){return hO(_n(t),ia.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rT(t),r})}function gO(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function vO(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}function yO(t){return _n(t).signOut()}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){const t=tn();return hm(t)||pd(t)}const bO=1e3,wO=10;class iT extends sT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_O()&&FD(),this.fallbackToPolling=Xw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$D()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const TO=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends sT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oT.type="SESSION";const aT=oT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await EO(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=vm("",20);s.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(c),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function xO(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function IO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CO(){return lT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebaseLocalStorageDb",PO=1,Ec="firebaseLocalStorage",cT="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([Ec],e?"readwrite":"readonly").objectStore(Ec)}function RO(){const t=indexedDB.deleteDatabase(uT);return new Gl(t).toPromise()}function Uh(){const t=indexedDB.open(uT,PO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ec,{keyPath:cT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ec)?e(r):(r.close(),await RO(),e(await Uh()))})})}async function My(t,e,n){const r=vd(t,!0).put({[cT]:e,value:n});return new Gl(r).toPromise()}async function kO(t,e){const n=vd(t,!1).get(e),r=await new Gl(n).toPromise();return r===void 0?null:r.value}function Ny(t,e){const n=vd(t,!0).delete(e);return new Gl(n).toPromise()}const DO=800,OO=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(CO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uh();return await My(e,Tc,"1"),await Ny(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>My(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ny(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vd(s,!1).getAll();return new Gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const MO=dT;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){return e?as(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NO(t){return nT(t.auth,new ym(t),t.bypassAuthState)}function VO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),fO(n,new ym(t),t.bypassAuthState)}async function LO(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),dO(n,new ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return LO;case"reauthViaPopup":case"reauthViaRedirect":return VO;default:nr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new ql(2e3,1e4);async function pT(t,e,n){const r=si(t);gD(t,e,gm);const s=fT(r,n);return new Ai(r,"signInViaPopup",e,s).executeNotNull()}class Ai extends hT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ai.currentPopupAction&&Ai.currentPopupAction.cancel(),Ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$O.get())};e()}}Ai.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",Qu=new Map;class UO extends hT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qu.get(this.auth._key());if(!e){try{const r=await BO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qu.set(this.auth._key(),e)}return this.bypassAuthState||Qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BO(t,e){const n=qO(e),r=HO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jO(t,e){Qu.set(t._key(),e)}function HO(t){return as(t._redirectPersistence)}function qO(t){return Ku(FO,t.config.apiKey,t.name)}async function WO(t,e,n=!1){const r=si(t),s=fT(r,e),o=await new UO(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=10*60*1e3;class GO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vy(e))}saveEventToCache(e){this.cachedEventUids.add(Vy(e)),this.lastProcessedEventTime=Date.now()}}function Vy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XO=/^https?/;async function JO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KO(t);for(const n of e)try{if(ZO(n))return}catch{}nr(t,"unauthorized-domain")}function ZO(t){const e=$h(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XO.test(n))return!1;if(QO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new ql(3e4,6e4);function Ly(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tM(t){return new Promise((e,n)=>{var r,s,i;function o(){Ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ly(),n($r(t,"network-request-failed"))},timeout:eM.get()})}if(!((s=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fr().gapi)===null||i===void 0)&&i.load)o();else{const a=YD("iframefcb");return Fr()[a]=()=>{gapi.load?o():n($r(t,"network-request-failed"))},Zw(`${GD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xu=null,e})}let Xu=null;function nM(t){return Xu=Xu||tM(t),Xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new ql(5e3,15e3),sM="__/auth/iframe",iM="emulator/auth/iframe",oM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lM(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dm(e,iM):`https://${t.config.authDomain}/${sM}`,r={apiKey:e.apiKey,appName:t.name,v:Ji},s=aM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hl(r).slice(1)}`}async function uM(t){const e=await nM(t),n=Fr().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:lM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$r(t,"network-request-failed"),a=Fr().setTimeout(()=>{i(o)},rM.get());function l(){Fr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dM=500,fM=600,hM="_blank",pM="http://localhost";class $y{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mM(t,e,n,r=dM,s=fM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cM),{width:r.toString(),height:s.toString(),top:i,left:o}),u=tn().toLowerCase();n&&(a=zw(u)?hM:n),Ww(u)&&(e=e||pM,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(LD(u)&&a!=="_self")return gM(e||"",a),new $y(null);const d=window.open(e||"",a,c);ze(d,t,"popup-blocked");try{d.focus()}catch{}return new $y(d)}function gM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="__/auth/handler",yM="emulator/auth/handler",_M=encodeURIComponent("fac");async function Fy(t,e,n,r,s,i){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ji,eventId:s};if(e instanceof gm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(i||{}))o[c]=d}if(e instanceof zl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${_M}=${encodeURIComponent(l)}`:"";return`${bM(t)}?${Hl(a).slice(1)}${u}`}function bM({config:t}){return t.emulator?dm(t,yM):`https://${t.authDomain}/${vM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="webStorageSupport";class wM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=WO,this._overrideRedirectResult=jO}async _openPopup(e,n,r,s){var i;ms((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Fy(e,n,r,$h(),s);return mM(e,o,vm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Fy(e,n,r,$h(),s);return xO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uM(e),r=new GO(e);return n.register("authEvent",s=>(ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vf,{type:Vf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vf];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xw()||hm()||pd()}}const TM=wM;var Uy="@firebase/auth",By="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xM(t){Ui(new Qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jw(t)},u=new qD(r,s,i,l);return ZD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new Qs("auth-internal",e=>{const n=si(e.getProvider("auth").getImmediate());return(r=>new EM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Uy,By,AM(t)),Lr(Uy,By,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=5*60,SM=Pw("authIdTokenMaxAge")||IM;let jy=null;const CM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SM)return;const s=n==null?void 0:n.token;jy!==s&&(jy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function PM(t=Mw()){const e=lm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JD(t,{popupRedirectResolver:TM,persistence:[MO,TO,aT]}),r=Pw("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=CM(r);vO(n,i,()=>i(n.currentUser)),gO(n,o=>i(o))}const s=Sw("auth");return s&&eO(n,`http://${s}`),n}function RM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xM("Browser");var kM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce,_m=_m||{},Ye=kM||self;function yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function DM(t){return Object.prototype.hasOwnProperty.call(t,Lf)&&t[Lf]||(t[Lf]=++OM)}var Lf="closure_uid_"+(1e9*Math.random()>>>0),OM=0;function MM(t,e,n){return t.call.apply(t.bind,arguments)}function NM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sn=MM:Sn=NM,Sn.apply(null,arguments)}function Su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ii(){this.s=this.s,this.o=this.o}var VM=0;ii.prototype.s=!1;ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),VM!=0)&&DM(this)};ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yd(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Cn.prototype.h=function(){this.defaultPrevented=!0};var LM=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ye.addEventListener("test",n,e),Ye.removeEventListener("test",n,e)}catch{}return t}();function _l(t){return/^[\s\xa0]*$/.test(t)}function _d(){var t=Ye.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return _d().indexOf(t)!=-1}function wm(t){return wm[" "](t),t}wm[" "]=function(){};function $M(t,e){var n=R2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var FM=Sr("Opera"),Bo=Sr("Trident")||Sr("MSIE"),vT=Sr("Edge"),Bh=vT||Bo,yT=Sr("Gecko")&&!(_d().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),UM=_d().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge");function _T(){var t=Ye.document;return t?t.documentMode:void 0}var jh;e:{var $f="",Ff=function(){var t=_d();if(yT)return/rv:([^\);]+)(\)|;)/.exec(t);if(vT)return/Edge\/([\d\.]+)/.exec(t);if(Bo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(UM)return/WebKit\/(\S+)/.exec(t);if(FM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ff&&($f=Ff?Ff[1]:""),Bo){var Uf=_T();if(Uf!=null&&Uf>parseFloat($f)){jh=String(Uf);break e}}jh=$f}var Hh;if(Ye.document&&Bo){var qy=_T();Hh=qy||parseInt(jh,10)||void 0}else Hh=void 0;var BM=Hh;function bl(t,e){if(Cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yT){e:{try{wm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bl.$.h.call(this)}}cn(bl,Cn);var jM={2:"touch",3:"pen",4:"mouse"};bl.prototype.h=function(){bl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kl="closure_listenable_"+(1e6*Math.random()|0),HM=0;function qM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++HM,this.fa=this.ia=!1}function bd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Tm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function WM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function bT(t){const e={};for(const n in t)e[n]=t[n];return e}const Wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wT(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Wy.length;i++)n=Wy[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wd(t){this.src=t,this.g={},this.h=0}wd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Wh(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qM(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function qh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=gT(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(bd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wh(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Em="closure_lm_"+(1e6*Math.random()|0),Bf={};function TT(t,e,n,r,s){if(r&&r.once)return AT(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)TT(t,e[i],n,r,s);return null}return n=Im(n),t&&t[Kl]?t.O(e,n,Yl(r)?!!r.capture:!!r,s):ET(t,e,n,!1,r,s)}function ET(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Yl(s)?!!s.capture:!!s,a=xm(t);if(a||(t[Em]=a=new wd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=zM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)LM||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(IT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zM(){function t(n){return e.call(t.src,t.listener,n)}const e=GM;return t}function AT(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)AT(t,e[i],n,r,s);return null}return n=Im(n),t&&t[Kl]?t.P(e,n,Yl(r)?!!r.capture:!!r,s):ET(t,e,n,!0,r,s)}function xT(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)xT(t,e[i],n,r,s);else r=Yl(r)?!!r.capture:!!r,n=Im(n),t&&t[Kl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Wh(i,n,r,s),-1<n&&(bd(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=xm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wh(e,n,r,s)),(n=-1<t?e[t]:null)&&Am(n))}function Am(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kl])qh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(IT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xm(e))?(qh(n,t),n.h==0&&(n.src=null,e[Em]=null)):bd(t)}}}function IT(t){return t in Bf?Bf[t]:Bf[t]="on"+t}function GM(t,e){if(t.fa)t=!0;else{e=new bl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Am(t),t=n.call(r,e)}return t}function xm(t){return t=t[Em],t instanceof wd?t:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(t){return typeof t=="function"?t:(t[jf]||(t[jf]=function(e){return t.handleEvent(e)}),t[jf])}function un(){ii.call(this),this.i=new wd(this),this.S=this,this.J=null}cn(un,ii);un.prototype[Kl]=!0;un.prototype.removeEventListener=function(t,e,n,r){xT(this,t,e,n,r)};function vn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Cn(e,t);else if(e instanceof Cn)e.target=e.target||t;else{var s=e;e=new Cn(r,t),wT(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Cu(o,r,!0,e)&&s}if(o=e.g=t,s=Cu(o,r,!0,e)&&s,s=Cu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Cu(o,r,!1,e)&&s}un.prototype.N=function(){if(un.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bd(n[r]);delete t.g[e],t.h--}}this.J=null};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&qh(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Sm=Ye.JSON.stringify;class YM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function KM(){var t=Cm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class QM{constructor(){this.h=this.g=null}add(e,n){const r=ST.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ST=new YM(()=>new XM,t=>t.reset());class XM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function JM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ZM(t){Ye.setTimeout(()=>{throw t},0)}let wl,Tl=!1,Cm=new QM,CT=()=>{const t=Ye.Promise.resolve(void 0);wl=()=>{t.then(e2)}};var e2=()=>{for(var t;t=KM();){try{t.h.call(t.g)}catch(n){ZM(n)}var e=ST;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Tl=!1};function Td(t,e){un.call(this),this.h=t||1,this.g=e||Ye,this.j=Sn(this.qb,this),this.l=Date.now()}cn(Td,un);Ce=Td.prototype;Ce.ga=!1;Ce.T=null;Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(Pm(this),this.start()))}};Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ce.N=function(){Td.$.N.call(this),Pm(this),delete this.g};function Rm(t,e,n){if(typeof t=="function")n&&(t=Sn(t,n));else if(t&&typeof t.handleEvent=="function")t=Sn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function PT(t){t.g=Rm(()=>{t.g=null,t.i&&(t.i=!1,PT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class t2 extends ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PT(this)}N(){super.N(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(t){ii.call(this),this.h=t,this.g={}}cn(El,ii);var zy=[];function RT(t,e,n,r){Array.isArray(n)||(n&&(zy[0]=n.toString()),n=zy);for(var s=0;s<n.length;s++){var i=TT(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function kT(t){Tm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Am(e)},t),t.g={}}El.prototype.N=function(){El.$.N.call(this),kT(this)};El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ed(){this.g=!0}Ed.prototype.Ea=function(){this.g=!1};function n2(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function r2(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function vo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i2(t,n)+(r?" "+r:"")})}function s2(t,e){t.info(function(){return"TIMEOUT: "+e})}Ed.prototype.info=function(){};function i2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Sm(n)}catch{return e}}var Zi={},Gy=null;function Ad(){return Gy=Gy||new un}Zi.Ta="serverreachability";function DT(t){Cn.call(this,Zi.Ta,t)}cn(DT,Cn);function Al(t){const e=Ad();vn(e,new DT(e))}Zi.STAT_EVENT="statevent";function OT(t,e){Cn.call(this,Zi.STAT_EVENT,t),this.stat=e}cn(OT,Cn);function kn(t){const e=Ad();vn(e,new OT(e,t))}Zi.Ua="timingevent";function MT(t,e){Cn.call(this,Zi.Ua,t),this.size=e}cn(MT,Cn);function Ql(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var xd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},NT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function km(){}km.prototype.h=null;function Yy(t){return t.h||(t.h=t.i())}function VT(){}var Xl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dm(){Cn.call(this,"d")}cn(Dm,Cn);function Om(){Cn.call(this,"c")}cn(Om,Cn);var zh;function Id(){}cn(Id,km);Id.prototype.g=function(){return new XMLHttpRequest};Id.prototype.i=function(){return{}};zh=new Id;function Jl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new El(this),this.P=o2,t=Bh?125:void 0,this.V=new Td(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LT}function LT(){this.i=null,this.g="",this.h=!1}var o2=45e3,$T={},Gh={};Ce=Jl.prototype;Ce.setTimeout=function(t){this.P=t};function Yh(t,e,n){t.L=1,t.A=Cd(gs(e)),t.u=n,t.S=!0,FT(t,null)}function FT(t,e){t.G=Date.now(),Zl(t),t.B=gs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),GT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new LT,t.g=pE(t.l,n?e:null,!t.u),0<t.O&&(t.M=new t2(Sn(t.Pa,t,t.g),t.O)),RT(t.U,t.g,"readystatechange",t.nb),e=t.I?bT(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Al(),n2(t.j,t.v,t.B,t.m,t.W,t.u)}Ce.nb=function(t){t=t.target;const e=this.M;e&&kr(t)==3?e.l():this.Pa(t)};Ce.Pa=function(t){try{if(t==this.g)e:{const c=kr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Bh||this.g&&(this.h.h||this.g.ja()||Jy(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Al(3):Al(2)),Sd(this);var n=this.g.da();this.ca=n;t:if(UT(this)){var r=Jy(this.g);t="";var s=r.length,i=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),za(this);var o="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,r2(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_l(a)){var u=a;break t}}u=null}if(n=u)vo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,n);else{this.i=!1,this.s=3,kn(12),xi(this),za(this);break e}}this.S?(BT(this,c,o),Bh&&this.i&&c==3&&(RT(this.U,this.V,"tick",this.mb),this.V.start())):(vo(this.j,this.m,o,null),Kh(this,o)),c==4&&xi(this),this.i&&!this.J&&(c==4?cE(this.l,this):(this.i=!1,Zl(this)))}else S2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,kn(12)):(this.s=0,kn(13)),xi(this),za(this)}}}catch{}finally{}};function UT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function BT(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=a2(t,n),s==Gh){e==4&&(t.s=4,kn(14),r=!1),vo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==$T){t.s=4,kn(15),vo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else vo(t.j,t.m,s,null),Kh(t,s);UT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,kn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fm(e),e.M=!0,kn(11))):(vo(t.j,t.m,n,"[Invalid Chunked Response]"),xi(t),za(t))}Ce.mb=function(){if(this.g){var t=kr(this.g),e=this.g.ja();this.o<e.length&&(Sd(this),BT(this,t,e),this.i&&t!=4&&Zl(this))}};function a2(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Gh:(n=Number(e.substring(n,r)),isNaN(n)?$T:(r+=1,r+n>e.length?Gh:(e=e.slice(r,r+n),t.o=r+n,e)))}Ce.cancel=function(){this.J=!0,xi(this)};function Zl(t){t.Y=Date.now()+t.P,jT(t,t.P)}function jT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ql(Sn(t.lb,t),e)}function Sd(t){t.C&&(Ye.clearTimeout(t.C),t.C=null)}Ce.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(s2(this.j,this.B),this.L!=2&&(Al(),kn(17)),xi(this),this.s=2,za(this)):jT(this,this.Y-t)};function za(t){t.l.H==0||t.J||cE(t.l,t)}function xi(t){Sd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Pm(t.V),kT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qh(n.i,t))){if(!t.K&&Qh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ic(n),Dd(n);else break e;$m(n),kn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ql(Sn(n.ib,n),6e3));if(1>=QT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ii(n,11)}else if((t.K||n.g==t)&&Ic(n),!_l(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Mm(i,i.h),i.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,kt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=hE(r,r.J?r.pa:null,r.Y),o.K){XT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Sd(a),Zl(a)),r.g=o}else lE(r);0<n.j.length&&Od(n)}else u[0]!="stop"&&u[0]!="close"||Ii(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ii(n,7):Lm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Al(4)}catch{}}function l2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function u2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u2(t),r=l2(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ni(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ni){this.h=t.h,Ac(this,t.j),this.s=t.s,this.g=t.g,xc(this,t.m),this.l=t.l;var e=t.i,n=new xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ky(this,n),this.o=t.o}else t&&(e=String(t).match(qT))?(this.h=!1,Ac(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),xc(this,e[4]),this.l=Ca(e[5]||"",!0),Ky(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new xl(null,this.h))}Ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pa(e,Qy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pa(e,Qy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pa(n,n.charAt(0)=="/"?h2:f2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pa(n,m2)),t.join("")};function gs(t){return new Ni(t)}function Ac(t,e,n){t.j=n?Ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ky(t,e,n){e instanceof xl?(t.i=e,g2(t.i,t.h)):(n||(e=Pa(e,p2)),t.i=new xl(e,t.h))}function kt(t,e,n){t.i.set(e,n)}function Cd(t){return kt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,d2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function d2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Qy=/[#\/\?@]/g,f2=/[#\?:]/g,h2=/[#\?]/g,p2=/[#\?@]/g,m2=/#/g;function xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oi(t){t.g||(t.g=new Map,t.h=0,t.i&&c2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ce=xl.prototype;Ce.add=function(t,e){oi(this),this.i=null,t=oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WT(t,e){oi(t),e=oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zT(t,e){return oi(t),e=oa(t,e),t.g.has(e)}Ce.forEach=function(t,e){oi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Ce.ta=function(){oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Ce.Z=function(t){oi(this);let e=[];if(typeof t=="string")zT(this,t)&&(e=e.concat(this.g.get(oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ce.set=function(t,e){return oi(this),this.i=null,t=oa(this,t),zT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GT(t,e,n){WT(t,e),0<n.length&&(t.i=null,t.g.set(oa(t,e),bm(n)),t.h+=n.length)}Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function g2(t,e){e&&!t.j&&(oi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(WT(this,r),GT(this,s,n))},t)),t.j=e}var v2=class{constructor(t,e){this.g=t,this.map=e}};function YT(t){this.l=t||y2,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ka&&Ye.g.Ka()&&Ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y2=10;function KT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QT(t){return t.h?1:t.g?t.g.size:0}function Qh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Mm(t,e){t.g?t.g.add(e):t.h=e}function XT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YT.prototype.cancel=function(){if(this.i=JT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bm(t.i)}var _2=class{stringify(t){return Ye.JSON.stringify(t,void 0)}parse(t){return Ye.JSON.parse(t,void 0)}};function b2(){this.g=new _2}function w2(t,e,n){const r=n||"";try{HT(t,function(s,i){let o=s;Yl(s)&&(o=Sm(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function T2(t,e){const n=new Ed;if(Ye.Image){const r=new Image;r.onload=Su(Pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Su(Pu,n,r,"TestLoadImage: error",!1,e),r.onabort=Su(Pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Su(Pu,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Pd(t){this.l=t.ec||null,this.j=t.ob||!1}cn(Pd,km);Pd.prototype.g=function(){return new Rd(this.l,this.j)};Pd.prototype.i=function(t){return function(){return t}}({});function Rd(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Nm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(Rd,un);var Nm=0;Ce=Rd.prototype;Ce.open=function(t,e){if(this.readyState!=Nm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Il(this)};Ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eu(this)),this.readyState=Nm};Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eu(this):Il(this),this.readyState==3&&ZT(this)}};Ce.Za=function(t){this.g&&(this.response=this.responseText=t,eu(this))};Ce.Ya=function(t){this.g&&(this.response=t,eu(this))};Ce.ka=function(){this.g&&eu(this)};function eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Il(t)}Ce.setRequestHeader=function(t,e){this.v.append(t,e)};Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Rd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var E2=Ye.JSON.parse;function Bt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eE,this.L=this.M=!1}cn(Bt,un);var eE="",A2=/^https?$/i,x2=["POST","PUT"];Ce=Bt.prototype;Ce.Oa=function(t){this.M=t};Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zh.g(),this.C=this.u?Yy(this.u):Yy(zh),this.g.onreadystatechange=Sn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Xy(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Ye.FormData&&t instanceof Ye.FormData,!(0<=gT(x2,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rE(this),0<this.B&&((this.L=I2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.ua,this)):this.A=Rm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Xy(this,i)}};function I2(t){return Bo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ce.ua=function(){typeof _m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))};function Xy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tE(t),kd(t)}function tE(t){t.F||(t.F=!0,vn(t,"complete"),vn(t,"error"))}Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vn(this,"complete"),vn(this,"abort"),kd(this))};Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kd(this,!0)),Bt.$.N.call(this)};Ce.La=function(){this.s||(this.G||this.v||this.l?nE(this):this.kb())};Ce.kb=function(){nE(this)};function nE(t){if(t.h&&typeof _m<"u"&&(!t.C[1]||kr(t)!=4||t.da()!=2)){if(t.v&&kr(t)==4)Rm(t.La,0,t);else if(vn(t,"readystatechange"),kr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(qT)[1]||null;!s&&Ye.self&&Ye.self.location&&(s=Ye.self.location.protocol.slice(0,-1)),r=!A2.test(s?s.toLowerCase():"")}n=r}if(n)vn(t,"complete"),vn(t,"success");else{t.m=6;try{var i=2<kr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",tE(t)}}finally{kd(t)}}}}function kd(t,e){if(t.g){rE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vn(t,"ready");try{n.onreadystatechange=r}catch{}}}function rE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}Ce.isActive=function(){return!!this.g};function kr(t){return t.g?t.g.readyState:0}Ce.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}};Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),E2(e)}};function Jy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case eE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function S2(t){const e={};t=(t.g&&2<=kr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_l(t[r]))continue;var n=JM(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}WM(e,function(r){return r.join(", ")})}Ce.Ia=function(){return this.m};Ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sE(t){let e="";return Tm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Vm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):kt(t,e,n))}function _a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iE(t){this.Ga=0,this.j=[],this.l=new Ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_a("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_a("baseRetryDelayMs",5e3,t),this.hb=_a("retryDelaySeedMs",1e4,t),this.eb=_a("forwardChannelMaxRetries",2,t),this.xa=_a("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YT(t&&t.concurrentRequestLimit),this.Ja=new b2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ce=iE.prototype;Ce.ra=8;Ce.H=1;function Lm(t){if(oE(t),t.H==3){var e=t.W++,n=gs(t.I);if(kt(n,"SID",t.K),kt(n,"RID",e),kt(n,"TYPE","terminate"),tu(t,n),e=new Jl(t,t.l,e),e.L=2,e.A=Cd(gs(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon)try{n=Ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=pE(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Zl(e)}fE(t)}function Dd(t){t.g&&(Fm(t),t.g.cancel(),t.g=null)}function oE(t){Dd(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),Ic(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function Od(t){if(!KT(t.i)&&!t.m){t.m=!0;var e=t.Na;wl||CT(),Tl||(wl(),Tl=!0),Cm.add(e,t),t.C=0}}function C2(t,e){return QT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ql(Sn(t.Na,t,e),dE(t,t.C)),t.C++,!0)}Ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Jl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=bT(i),wT(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aE(this,s,e),n=gs(this.I),kt(n,"RID",t),kt(n,"CVER",22),this.F&&kt(n,"X-HTTP-Session-Id",this.F),tu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(sE(i)))+"&"+e:this.o&&Vm(n,this.o,i)),Mm(this.i,s),this.bb&&kt(n,"TYPE","init"),this.P?(kt(n,"$req",e),kt(n,"SID","null"),s.aa=!0,Yh(s,n,null)):Yh(s,n,e),this.H=2}}else this.H==3&&(t?Zy(this,t):this.j.length==0||KT(this.i)||Zy(this))};function Zy(t,e){var n;e?n=e.m:n=t.W++;const r=gs(t.I);kt(r,"SID",t.K),kt(r,"RID",n),kt(r,"AID",t.V),tu(t,r),t.o&&t.s&&Vm(r,t.o,t.s),n=new Jl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Mm(t.i,n),Yh(n,r,e)}function tu(t,e){t.na&&Tm(t.na,function(n,r){kt(e,r,n)}),t.h&&HT({},function(n,r){kt(e,r,n)})}function aE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{w2(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wl||CT(),Tl||(wl(),Tl=!0),Cm.add(e,t),t.A=0}}function $m(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ql(Sn(t.Ma,t),dE(t,t.A)),t.A++,!0)}Ce.Ma=function(){if(this.u=null,uE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ql(Sn(this.jb,this),t)}};Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kn(10),Dd(this),uE(this))};function Fm(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function uE(t){t.g=new Jl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gs(t.wa);kt(e,"RID","rpc"),kt(e,"SID",t.K),kt(e,"AID",t.V),kt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&kt(e,"TO",t.qa),kt(e,"TYPE","xmlhttp"),tu(t,e),t.o&&t.s&&Vm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cd(gs(e)),n.u=null,n.S=!0,FT(n,t)}Ce.ib=function(){this.v!=null&&(this.v=null,Dd(this),$m(this),kn(19))};function Ic(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function cE(t,e){var n=null;if(t.g==e){Ic(t),Fm(t),t.g=null;var r=2}else if(Qh(t.i,e))n=e.F,XT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Ad(),vn(r,new MT(r,n)),Od(t)}else lE(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&C2(t,e)||r==2&&$m(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ii(t,5);break;case 4:Ii(t,10);break;case 3:Ii(t,6);break;default:Ii(t,2)}}}function dE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ii(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sn(t.pb,t);n||(n=new Ni("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||Ac(n,"https"),Cd(n)),T2(n.toString(),r)}else kn(2);t.H=0,t.h&&t.h.za(e),fE(t),oE(t)}Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),kn(2)):(this.l.info("Failed to ping google.com"),kn(1))};function fE(t){if(t.H=0,t.ma=[],t.h){const e=JT(t.i);(e.length!=0||t.j.length!=0)&&(Hy(t.ma,e),Hy(t.ma,t.j),t.i.i.length=0,bm(t.j),t.j.length=0),t.h.ya()}}function hE(t,e,n){var r=n instanceof Ni?gs(n):new Ni(n);if(r.g!="")e&&(r.g=e+"."+r.g),xc(r,r.m);else{var s=Ye.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ni(null);r&&Ac(i,r),e&&(i.g=e),s&&xc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&kt(r,n,e),kt(r,"VER",t.ra),tu(t,r),r}function pE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new Pd({ob:n})):new Bt(t.va),e.Oa(t.J),e}Ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function mE(){}Ce=mE.prototype;Ce.Ba=function(){};Ce.Aa=function(){};Ce.za=function(){};Ce.ya=function(){};Ce.isActive=function(){return!0};Ce.Va=function(){};function Sc(){if(Bo&&!(10<=Number(BM)))throw Error("Environmental error: no available transport.")}Sc.prototype.g=function(t,e){return new qn(t,e)};function qn(t,e){un.call(this),this.g=new iE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_l(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_l(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new aa(this)}cn(qn,un);qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;kn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hE(t,null,t.Y),Od(t)};qn.prototype.close=function(){Lm(this.g)};qn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sm(t),t=n);e.j.push(new v2(e.fb++,t)),e.H==3&&Od(e)};qn.prototype.N=function(){this.g.h=null,delete this.j,Lm(this.g),delete this.g,qn.$.N.call(this)};function gE(t){Dm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(gE,Dm);function vE(){Om.call(this),this.status=1}cn(vE,Om);function aa(t){this.g=t}cn(aa,mE);aa.prototype.Ba=function(){vn(this.g,"a")};aa.prototype.Aa=function(t){vn(this.g,new gE(t))};aa.prototype.za=function(t){vn(this.g,new vE)};aa.prototype.ya=function(){vn(this.g,"b")};function P2(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(mr,P2);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}mr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Hf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Hf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Hf(this,r),s=0;break}}this.h=s,this.i+=e};mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function wt(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var R2={};function Um(t){return-128<=t&&128>t?$M(t,function(e){return new wt([e|0],0>e?-1:0)}):new wt([t|0],0>t?-1:0)}function Dr(t){if(isNaN(t)||!isFinite(t))return Co;if(0>t)return pn(Dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Xh;return new wt(e,0)}function yE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(yE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dr(Math.pow(e,8)),r=Co,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Dr(Math.pow(e,i)),r=r.R(i).add(Dr(o))):(r=r.R(n),r=r.add(Dr(o)))}return r}var Xh=4294967296,Co=Um(0),Jh=Um(1),e_=Um(16777216);Ce=wt.prototype;Ce.ea=function(){if(Yn(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Xh+r)*e,e*=Xh}return t};Ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ls(this))return"0";if(Yn(this))return"-"+pn(this).toString(t);for(var e=Dr(Math.pow(t,6)),n=this,r="";;){var s=Pc(n,e).g;n=Cc(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,ls(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ls(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yn(t){return t.h==-1}Ce.X=function(t){return t=Cc(this,t),Yn(t)?-1:ls(t)?0:1};function pn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wt(n,~t.h).add(Jh)}Ce.abs=function(){return Yn(this)?pn(this):this};Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function Cc(t,e){return t.add(pn(e))}Ce.R=function(t){if(ls(this)||ls(t))return Co;if(Yn(this))return Yn(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(Yn(t))return pn(this.R(pn(t)));if(0>this.X(e_)&&0>t.X(e_))return Dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Ru(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Ru(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ru(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ru(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wt(n,0)};function Ru(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ba(t,e){this.g=t,this.h=e}function Pc(t,e){if(ls(e))throw Error("division by zero");if(ls(t))return new ba(Co,Co);if(Yn(t))return e=Pc(pn(t),e),new ba(pn(e.g),pn(e.h));if(Yn(e))return e=Pc(t,pn(e)),new ba(pn(e.g),e.h);if(30<t.g.length){if(Yn(t)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Jh,r=e;0>=r.X(t);)n=t_(n),r=t_(r);var s=ao(n,1),i=ao(r,1);for(r=ao(r,2),n=ao(n,2);!ls(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=ao(r,1),n=ao(n,1)}return e=Cc(t,s.R(e)),new ba(s,e)}for(s=Co;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Dr(n),o=i.R(e);Yn(o)||0<o.X(t);)n-=r,i=Dr(n),o=i.R(e);ls(i)&&(i=Jh),s=s.add(i),t=Cc(t,o)}return new ba(s,t)}Ce.gb=function(t){return Pc(this,t).h};Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wt(n,this.h&t.h)};Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wt(n,this.h|t.h)};Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wt(n,this.h^t.h)};function t_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wt(n,t.h)}function ao(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new wt(s,t.h)}Sc.prototype.createWebChannel=Sc.prototype.g;qn.prototype.send=qn.prototype.u;qn.prototype.open=qn.prototype.m;qn.prototype.close=qn.prototype.close;xd.NO_ERROR=0;xd.TIMEOUT=8;xd.HTTP_ERROR=6;NT.COMPLETE="complete";VT.EventType=Xl;Xl.OPEN="a";Xl.CLOSE="b";Xl.ERROR="c";Xl.MESSAGE="d";un.prototype.listen=un.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=Dr;wt.fromString=yE;var k2=function(){return new Sc},D2=function(){return Ad()},qf=xd,O2=NT,M2=Zi,n_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ku=VT,N2=Bt,V2=mr,Po=wt;const r_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new om("@firebase/firestore");function wa(){return Hi.logLevel}function Se(t,...e){if(Hi.logLevel<=ot.DEBUG){const n=e.map(Bm);Hi.debug(`Firestore (${la}): ${t}`,...n)}}function Yr(t,...e){if(Hi.logLevel<=ot.ERROR){const n=e.map(Bm);Hi.error(`Firestore (${la}): ${t}`,...n)}}function jo(t,...e){if(Hi.logLevel<=ot.WARN){const n=e.map(Bm);Hi.warn(`Firestore (${la}): ${t}`,...n)}}function Bm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t="Unexpected state"){const e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function St(t,e){t||Ge()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class $2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string"),new _E(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Tn(e)}}class U2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new U2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new j2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=q2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Ho(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new rn(0,0))}static max(){return new Ke(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(),r===void 0?r=e.length-n:r>e.length-n&&Ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends Sl{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Sl{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Dt.fromString(e))}static fromName(e){return new Be(Dt.fromString(e).popFirst(5))}static empty(){return new Be(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Dt(e.slice()))}}function z2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Xs(s,Be.empty(),e)}function G2(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(Ke.min(),Be.empty(),-1)}static max(){return new Xs(Ke.max(),Be.empty(),-1)}}function Y2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==K2)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new ye((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new fs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ga(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Hm(r.target.error);this.V.reject(new Ga(e,s))}}static open(e,n,r,s){try{return new jm(n,e.transaction(s,r))}catch(i){throw new Ga(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new J2(n)}}class Si{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Si.S(tn())===12.2&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Se("SimpleDb","Removing database:",e),Ti(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Rw())return!1;if(Si.C())return!0;const e=tn(),n=Si.S(e),r=0<n&&n<10,s=Si.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Se("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Ga(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ke(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ke(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ga(e,o))},s.onupgradeneeded=i=>{Se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=jm.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),ye.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(Se("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class X2{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ti(this.k.delete())}}class Ga extends ke{constructor(e,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ru(t){return t.name==="IndexedDbTransactionError"}class J2{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ti(r)}add(e){return Se("SimpleDb","ADD",this.store.name,e,e),Ti(this.store.add(e))}get(e){return Ti(this.store.get(e)).next(n=>(n===void 0&&(n=null),Se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Se("SimpleDb","DELETE",this.store.name,e),Ti(this.store.delete(e))}count(){return Se("SimpleDb","COUNT",this.store.name),Ti(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new ye((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ye((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new ye((r,s)=>{n.onerror=i=>{const o=Hm(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ye((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new X2(a),u=n(a.primaryKey,a.value,l);if(u instanceof ye){const c=u.catch(d=>(l.done(),ye.reject(d)));r.push(c)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>ye.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ti(t){return new ye((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Hm(r.target.error);n(s)}})}let s_=!1;function Hm(t){const e=Si.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return s_||(s_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}qm._e=-1;function Md(t){return t==null}function Rc(t){return t===0&&1/t==-1/0}function Z2(t){return typeof t=="number"&&Number.isInteger(t)&&!Rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new yn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TE("Invalid base64 string: "+i):i}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const eN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(St(!!t),typeof t=="string"){let e=0;const n=eN.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zm(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?zm(e):e}function Cl(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:nN(t)?9007199254740991:10:Ge()}function Kr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Js(s.timestampValue),a=Js(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qi(s.bytesValue).isEqual(qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Kt(s.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Kt(s.integerValue)===Kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Kt(s.doubleValue),a=Kt(i.doubleValue);return o===a?Rc(o)===Rc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ho(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(i_(o)!==i_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Kr(o[l],a[l])))return!1;return!0}(t,e);default:return Ge()}}function Rl(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Kt(i.integerValue||i.doubleValue),l=Kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(Cl(t),Cl(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qi(i),l=qi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=pt(a[u],l[u]);if(c!==0)return c}return pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pt(Kt(i.latitude),Kt(o.latitude));return a!==0?a:pt(Kt(i.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=qo(a[u],l[u]);if(c)return c}return pt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ou.mapValue&&o===Ou.mapValue)return 0;if(i===Ou.mapValue)return 1;if(o===Ou.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=pt(l[d],c[d]);if(f!==0)return f;const h=qo(a[l[d]],u[c[d]]);if(h!==0)return h}return pt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ge()}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Js(t),r=Js(e),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function Wo(t){return Zh(t)}function Zh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zh(n.fields[o])}`;return s+"}"}(t.mapValue):Ge()}function l_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ep(t){return!!t&&"integerValue"in t}function Gm(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ju(t){return!!t&&"mapValue"in t}function Ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ya(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ya(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ju(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Vn(Ya(this.value))}}function EE(t){const e=[];return eo(t.fields,(n,r)=>{const s=new mn([n]);if(Ju(r)){const i=EE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new An(e,0,Ke.min(),Ke.min(),Ke.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,s){return new An(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new An(e,2,n,Ke.min(),Ke.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Ke.min(),Ke.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function d_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Be.comparator(Be.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function rN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{}class Qt extends AE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iN(e,n,r):n==="array-contains"?new lN(e,r):n==="in"?new uN(e,r):n==="not-in"?new cN(e,r):n==="array-contains-any"?new dN(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oN(e,r):new aN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qo(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends AE{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gr(e,n)}matches(e){return xE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xE(t){return t.op==="and"}function IE(t){return sN(t)&&xE(t)}function sN(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function tp(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(IE(t))return t.filters.map(e=>tp(e)).join(",");{const e=t.filters.map(n=>tp(n)).join(",");return`${t.op}(${e})`}}function SE(t,e){return t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&Kr(r.value,s.value)}(t,e):t instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&SE(o,s.filters[a]),!0):!1}(t,e):void Ge()}function CE(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(CE).join(" ,")+"}"}(t):"Filter"}class iN extends Qt{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class oN extends Qt{constructor(e,n){super(e,"in",n),this.keys=PE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aN extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=PE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class lN extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gm(n)&&Rl(n.arrayValue,this.value)}}class uN extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class cN extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class dN extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function h_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fN(t,e,n,r,s,i,o)}function Ym(t){const e=Je(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.ce=n}return e.ce}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function np(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function hN(t,e,n,r,s,i,o,a){return new su(t,e,n,r,s,i,o,a)}function RE(t){return new su(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kE(t){return t.collectionGroup!==null}function Ka(t){const e=Je(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yn(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Dc(i,r))}),n.has(mn.keyField().canonicalString())||e.le.push(new Dc(mn.keyField(),r))}return e.le}function Ur(t){const e=Je(t);return e.he||(e.he=pN(e,Ka(t))),e.he}function pN(t,e){if(t.limitType==="F")return h_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dc(s.field,i)});const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return h_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rp(t,e){const n=t.filters.concat([e]);return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sp(t,e,n){return new su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return Km(Ur(t),Ur(e))&&t.limitType===e.limitType}function DE(t){return`${Ym(Ur(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CE(s)).join(", ")}]`),Md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wo(s)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ka(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=d_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ka(r),s)||r.endAt&&!function(o,a,l){const u=d_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ka(r),s))}(t,e)}function mN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OE(t){return(e,n)=>{let r=!1;for(const s of Ka(t)){const i=gN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gN(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?qo(l,u):Ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Vt(Be.comparator);function vs(){return vN}const ME=new Vt(Be.comparator);function Ra(...t){let e=ME;for(const n of t)e=e.insert(n.key,n);return e}function NE(t){let e=ME;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Qa()}function VE(){return Qa()}function Qa(){return new ua(t=>t.toString(),(t,e)=>t.isEqual(e))}const yN=new Vt(Be.comparator),_N=new yn(Be.comparator);function st(...t){let e=_N;for(const n of t)e=e.add(n);return e}const bN=new yn(pt);function wN(){return bN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function $E(t){return{integerValue:""+t}}function TN(t,e){return Z2(e)?$E(e):LE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function EN(t,e,n){return t instanceof Oc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Wm(i)&&(i=zm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof kl?UE(t,e):t instanceof Dl?BE(t,e):function(s,i){const o=FE(s,i),a=m_(o)+m_(s.Ie);return ep(o)&&ep(s.Ie)?$E(a):LE(s.serializer,a)}(t,e)}function AN(t,e,n){return t instanceof kl?UE(t,e):t instanceof Dl?BE(t,e):n}function FE(t,e){return t instanceof Mc?function(r){return ep(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Oc extends Ld{}class kl extends Ld{constructor(e){super(),this.elements=e}}function UE(t,e){const n=jE(e);for(const r of t.elements)n.some(s=>Kr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Dl extends Ld{constructor(e){super(),this.elements=e}}function BE(t,e){let n=jE(e);for(const r of t.elements)n=n.filter(s=>!Kr(s,r));return{arrayValue:{values:n}}}class Mc extends Ld{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function m_(t){return Kt(t.integerValue||t.doubleValue)}function jE(t){return Gm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof kl&&s instanceof kl||r instanceof Dl&&s instanceof Dl?Ho(r.elements,s.elements,Kr):r instanceof Mc&&s instanceof Mc?Kr(r.Ie,s.Ie):r instanceof Oc&&s instanceof Oc}(t.transform,e.transform)}class IN{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function HE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WE(t.key,Br.none()):new iu(t.key,t.data,Br.none());{const n=t.data,r=Vn.empty();let s=new yn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ai(t.key,r,new Bn(s.toArray()),Br.none())}}function SN(t,e,n){t instanceof iu?function(s,i,o){const a=s.value.clone(),l=v_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(s,i,o){if(!Zu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=v_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(qE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof iu?function(i,o,a,l){if(!Zu(i.precondition,o))return a;const u=i.value.clone(),c=y_(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(i,o,a,l){if(!Zu(i.precondition,o))return a;const u=y_(i.fieldTransforms,l,o),c=o.data;return c.setAll(qE(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Zu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FE(r.transform,s||null);i!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,i))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ho(r,s,(i,o)=>xN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends $d{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ai extends $d{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,AN(o,a,n[s]))}return r}function y_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,EN(i,o,e))}return r}class WE extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&SN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=HE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,r)=>g_(n,r))&&Ho(this.baseMutations,e.baseMutations,(n,r)=>g_(n,r))}}class Qm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){St(e.mutations.length===r.length);let s=function(){return yN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,lt;function ON(t){switch(t){default:return Ge();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function zE(t){if(t===void 0)return Yr("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Yt.OK:return ve.OK;case Yt.CANCELLED:return ve.CANCELLED;case Yt.UNKNOWN:return ve.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ve.INTERNAL;case Yt.UNAVAILABLE:return ve.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ve.NOT_FOUND;case Yt.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Yt.ABORTED:return ve.ABORTED;case Yt.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Yt.DATA_LOSS:return ve.DATA_LOSS;default:return Ge()}}(lt=Yt||(Yt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Po([4294967295,4294967295],0);function __(t){const e=MN().encode(t),n=new V2;return n.update(e),new Uint8Array(n.digest())}function b_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Po([n,r],0),new Po([s,i],0)]}class Xm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Po.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Po.fromNumber(r)));return s.compare(NN)===1&&(s=new Po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=__(e),[r,s]=b_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=__(e),[r,s]=b_(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(Ke.min(),s,new Vt(pt),vs(),st())}}class ou{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class GE{constructor(e,n){this.targetId=e,this.fe=n}}class YE{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class w_{constructor(){this.ge=0,this.pe=E_(),this.ye=Pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=st(),n=st(),r=st();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ge()}}),new ou(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=E_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,St(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class VN{constructor(e){this.Be=e,this.ke=new Map,this.qe=vs(),this.Qe=T_(),this.Ke=new Vt(pt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(np(i))if(r===0){const o=new Be(i.path);this.We(n,o,An.newNoDocument(o,Ke.min()))}else St(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qi(r).toUint8Array()}catch(l){if(l instanceof TE)return jo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xm(o,s,i)}catch(l){return jo(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&np(a.target)){const l=new Be(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,An.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=st();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Fd(e,n,this.Ke,this.qe,r);return this.qe=vs(),this.Qe=T_(),this.Ke=new Vt(pt),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new w_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new yn(pt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new w_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function T_(){return new Vt(Be.comparator)}function E_(){return new Vt(Be.comparator)}const LN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class UN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BN(t,e){return Nc(t,e.toTimestamp())}function jr(t){return St(!!t),Ke.fromTimestamp(function(n){const r=Js(n);return new rn(r.seconds,r.nanos)}(t))}function Jm(t,e){return op(t,e).canonicalString()}function op(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QE(t){const e=Dt.fromString(t);return St(t1(e)),e}function ap(t,e){return Jm(t.databaseId,e.path)}function Wf(t,e){const n=QE(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(JE(n))}function XE(t,e){return Jm(t.databaseId,e)}function jN(t){const e=QE(t);return e.length===4?Dt.emptyPath():JE(e)}function lp(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JE(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function A_(t,e,n){return{name:ap(t,e),fields:n.value.mapValue.fields}}function HN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(St(c===void 0||typeof c=="string"),Pn.fromBase64String(c||"")):(St(c===void 0||c instanceof Uint8Array),Pn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ve.UNKNOWN:zE(u.code);return new ke(c,u.message||"")}(o);n=new YE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wf(t,r.document.name),i=jr(r.document.updateTime),o=r.document.createTime?jr(r.document.createTime):Ke.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ec(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wf(t,r.document),i=r.readTime?jr(r.readTime):Ke.min(),o=An.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wf(t,r.document),i=r.removedTargetIds||[];n=new ec([],i,s,null)}else{if(!("filter"in e))return Ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DN(s,i),a=r.targetId;n=new GE(a,o)}}return n}function qN(t,e){let n;if(e instanceof iu)n={update:A_(t,e.key,e.value)};else if(e instanceof WE)n={delete:ap(t,e.key)};else if(e instanceof ai)n={update:A_(t,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof PN))return Ge();n={verify:ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:BN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ge()}(t,e.precondition)),n}function WN(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?jr(s.updateTime):jr(i);return o.isEqual(Ke.min())&&(o=jr(i)),new IN(o,s.transformResults||[])}(n,e))):[]}function zN(t,e){return{documents:[XE(t,e.path)]}}function GN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XE(t,s);const i=function(u){if(u.length!==0)return e1(gr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:po(f.field),direction:QN(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ip(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function YN(t){let e=jN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){St(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const f=ZE(d);return f instanceof gr&&IE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(p){return new Dc(mo(p.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Md(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new kc(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new kc(h,f)}(n.endAt)),hN(e,s,o,i,a,"F",l,u)}function KN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=mo(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mo(n.unaryFilter.field);return Qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>ZE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge()}}(n.compositeFilter.op))}(t):Ge()}function QN(t){return LN[t]}function XN(t){return $N[t]}function JN(t){return FN[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return mn.fromServerFormat(t.fieldPath)}function e1(t){return t instanceof Qt?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:XN(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(s=>e1(s));return r.length===1?r[0]:{compositeFilter:{op:JN(n.op),filters:r}}}(t):Ge()}function ZN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function t1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),a=Pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.ct=e}}function tV(t){const e=YN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this._n=new rV}addToCollectionParentIndex(e,n){return this._n.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Xs.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class rV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yn(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new zo(0)}static Ln(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.changes=new ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xa(r.mutation,s,Bn.empty(),rn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ra();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=vs();const o=Qa(),a=function(){return Qa()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof ai)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Xa(c.mutation,u,c.mutation.getFieldMask(),rn.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new iV(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qa();let s=new Vt((o,a)=>o-a),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||st()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=VE();c.forEach(f=>{if(!i.has(f)){const h=HE(n.get(f),r.get(f));h!==null&&d.set(f,h),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ye.resolve(Ci());let a=-1,l=i;return o.next(u=>ye.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?ye.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,st())).next(c=>({batchId:a,changes:NE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=Ra();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,i).next(a=>ye.forEach(a,l=>{const u=function(d,f){return new su(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,An.newInvalidDocument(c)))});let a=Ra();return o.forEach((l,u)=>{const c=i.get(l);c!==void 0&&Xa(c.mutation,u,Bn.empty(),rn.now()),Vd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ye.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jr(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:tV(s.bundledQuery),readTime:jr(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.overlays=new Vt(Be.comparator),this.hr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return ye.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=Ci(),i=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Ci(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return ye.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kN(n,r));let i=this.hr.get(n);i===void 0&&(i=st(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Pr=new yn(on.Ir),this.Tr=new yn(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Be(new Dt([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Be(new Dt([])),r=new on(n,e),s=new on(n,e+1);let i=st();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Be.comparator(e.key,n.key)||pt(e.pr,n.pr)}static Er(e,n){return pt(e.pr,n.pr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new yn(on.Ir)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new on(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(pt);return n.forEach(s=>{const i=new on(s,0),o=new on(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),ye.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Be.isDocumentKey(i)||(i=i.child(""));const o=new on(new Be(i),0);let a=new yn(pt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),ye.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ye.forEach(n.mutations,s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new on(n,0),s=this.wr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.vr=e,this.docs=function(){return new Vt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=vs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():An.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vs();const o=n.path,a=new Be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Y2(G2(c),r)<=0||(s.has(c.key)||Vd(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ge()}Fr(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dV(this)}getSize(e){return ye.resolve(this.size)}}class dV extends sV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.persistence=e,this.Mr=new ua(n=>Ym(n),Km),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zm,this.targetCount=0,this.Lr=zo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ye.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.qn(n),ye.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ye.waitFor(i).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ye.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.Br={},this.overlays={},this.kr=new qm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new fV(this),this.indexManager=new nV,this.remoteDocumentCache=function(s){return new cV(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new eV(n),this.$r=new aV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new uV(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const s=new pV(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return ye.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class pV extends Q2{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.zr=new Zm,this.jr=null}static Hr(e){return new eg(e)}get Jr(){if(this.jr)return this.jr;throw Ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Jr,r=>{const s=Be.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ye.or([()=>ye.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=st(),s=st();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return JR()?8:Si.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new mV;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(wa()<=ot.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ye.resolve()):(wa()<=ot.DEBUG&&Se("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(wa()<=ot.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):ye.resolve())}ji(e,n){if(p_(n))return ye.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sp(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=st(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,sp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return p_(n)||s.isEqual(Ke.min())?ye.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?ye.resolve(null):(wa()<=ot.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.es(e,o,n,z2(s,-1)).next(a=>a))})}Zi(e,n){let r=new yn(OE(e));return n.forEach((s,i)=>{Vd(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return wa()<=ot.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",ho(n)),this.zi.getDocumentsMatchingQuery(e,n,Xs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Vt(pt),this.rs=new ua(i=>Ym(i),Km),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function yV(t,e,n,r){return new vV(t,e,n,r)}async function n1(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=st();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function _V(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=ye.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(y=>{const T=u.docVersions.get(p);St(T!==null),y.version.compareTo(T)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=st();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function r1(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function bV(t,e){const n=Je(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,c.addedDocuments,d)));let h=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Pn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),s=s.insert(d,h),function(y,T,C){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,h,c)&&a.push(n.Qr.updateTargetData(i,h))});let l=vs(),u=st();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(wV(i,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return ye.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function wV(t,e,n){let r=st(),s=st();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function TV(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EV(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,ye.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function up(t,e,n){const r=Je(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ru(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function x_(t,e,n){const r=Je(t);let s=Ke.min(),i=st();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Je(l),f=d.rs.get(c);return f!==void 0?ye.resolve(d.ns.get(f)):d.Qr.getTargetData(u,c)}(r,o,Ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:st())).next(a=>(AV(r,mN(e),a),{documents:a,hs:i})))}function AV(t,e,n){let r=t.ss.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class I_{constructor(){this.activeTargetIds=wN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xV{constructor(){this.no=new I_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new I_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function zf(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class PV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=zf(),l=this.bo(n,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,l,u,s).then(c=>(Se("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw jo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=SV[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=zf();return new Promise((o,a)=>{const l=new N2;l.setWithCredentials(!0),l.listenOnce(O2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qf.NO_ERROR:const c=l.getResponseJson();Se(bn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case qf.TIMEOUT:Se(bn,`RPC '${e}' ${i} timed out`),a(new ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const d=l.getStatus();if(Se(bn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(T){const C=T.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(C)>=0?C:ve.UNKNOWN}(h.status);a(new ke(p,h.message))}else a(new ke(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(ve.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Se(bn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Se(bn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=zf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k2(),a=D2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");Se(bn,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new CV({lo:T=>{h?Se(bn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(Se(bn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),Se(bn,`RPC '${e}' stream ${s} sending:`,T),d.send(T))},ho:()=>d.close()}),y=(T,C,k)=>{T.listen(C,R=>{try{k(R)}catch(m){setTimeout(()=>{throw m},0)}})};return y(d,ku.EventType.OPEN,()=>{h||Se(bn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,ku.EventType.CLOSE,()=>{h||(h=!0,Se(bn,`RPC '${e}' stream ${s} transport closed`),p.Vo())}),y(d,ku.EventType.ERROR,T=>{h||(h=!0,jo(bn,`RPC '${e}' stream ${s} transport errored:`,T),p.Vo(new ke(ve.UNAVAILABLE,"The operation could not be completed")))}),y(d,ku.EventType.MESSAGE,T=>{var C;if(!h){const k=T.data[0];St(!!k);const R=k,m=R.error||((C=R[0])===null||C===void 0?void 0:C.error);if(m){Se(bn,`RPC '${e}' stream ${s} received error:`,m);const P=m.status;let b=function(O){const F=Yt[O];if(F!==void 0)return zE(F)}(P),_=m.message;b===void 0&&(b=ve.INTERNAL,_="Unknown error status: "+P+" with message "+m.message),h=!0,p.Vo(new ke(b,_)),d.close()}else Se(bn,`RPC '${e}' stream ${s} received:`,k),p.mo(k)}}),y(a,M2.STAT_EVENT,T=>{T.stat===n_.PROXY?Se(bn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===n_.NOPROXY&&Se(bn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return new UN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new s1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new ke(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RV extends i1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=HN(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?jr(o.readTime):Ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=np(l)?{documents:zN(i,l)}:{query:GN(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KE(i,o.resumeToken);const u=ip(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){a.readTime=Nc(i,o.snapshotVersion.toTimestamp());const u=ip(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=KN(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.t_(n)}}class kV extends i1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=WN(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.T_(r,n)}return St(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=lp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qN(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,op(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(ve.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,op(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ve.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class OV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Yr(n),this.g_=!1):Se("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{to(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Je(l);u.v_.add(4),await au(u),u.x_.set("Unknown"),u.v_.delete(4),await Bd(u)}(this))})}),this.x_=new OV(r,s)}}async function Bd(t){if(to(t))for(const e of t.F_)await e(!0)}async function au(t){for(const e of t.F_)await e(!1)}function o1(t,e){const n=Je(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),ig(n)?sg(n):ca(n).Jo()&&rg(n,e))}function ng(t,e){const n=Je(t),r=ca(n);n.C_.delete(e),r.Jo()&&a1(n,e),n.C_.size===0&&(r.Jo()?r.Xo():to(n)&&n.x_.set("Unknown"))}function rg(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ca(t).c_(e)}function a1(t,e){t.O_.Oe(e),ca(t).l_(e)}function sg(t){t.O_=new VN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ca(t).start(),t.x_.p_()}function ig(t){return to(t)&&!ca(t).Ho()&&t.C_.size>0}function to(t){return Je(t).v_.size===0}function l1(t){t.O_=void 0}async function NV(t){t.C_.forEach((e,n)=>{rg(t,e)})}async function VV(t,e){l1(t),ig(t)?(t.x_.S_(e),sg(t)):t.x_.set("Unknown")}async function LV(t,e,n){if(t.x_.set("Online"),e instanceof YE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vc(t,r)}else if(e instanceof ec?t.O_.$e(e):e instanceof GE?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ke.min()))try{const r=await r1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.C_.get(u);c&&i.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.C_.get(l);if(!c)return;i.C_.set(l,c.withResumeToken(Pn.EMPTY_BYTE_STRING,c.snapshotVersion)),a1(i,l);const d=new Vs(c.target,l,u,c.sequenceNumber);rg(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),await Vc(t,r)}}async function Vc(t,e,n){if(!ru(e))throw e;t.v_.add(1),await au(t),t.x_.set("Offline"),n||(n=()=>r1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Bd(t)})}function u1(t,e){return e().catch(n=>Vc(t,n,e))}async function jd(t){const e=Je(t),n=Zs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;$V(e);)try{const s=await TV(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,FV(e,s)}catch(s){await Vc(e,s)}c1(e)&&d1(e)}function $V(t){return to(t)&&t.D_.length<10}function FV(t,e){t.D_.push(e);const n=Zs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function c1(t){return to(t)&&!Zs(t).Ho()&&t.D_.length>0}function d1(t){Zs(t).start()}async function UV(t){Zs(t).d_()}async function BV(t){const e=Zs(t);for(const n of t.D_)e.I_(n.mutations)}async function jV(t,e,n){const r=t.D_.shift(),s=Qm.from(r,e,n);await u1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await jd(t)}async function HV(t,e){e&&Zs(t).P_&&await async function(r,s){if(function(o){return ON(o)&&o!==ve.ABORTED}(s.code)){const i=r.D_.shift();Zs(r).Zo(),await u1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await jd(r)}}(t,e),c1(t)&&d1(t)}async function C_(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=to(n);n.v_.add(3),await au(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Bd(n)}async function qV(t,e){const n=Je(t);e?(n.v_.delete(2),await Bd(n)):e||(n.v_.add(2),await au(n),n.x_.set("Unknown"))}function ca(t){return t.N_||(t.N_=function(n,r,s){const i=Je(n);return i.R_(),new RV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:NV.bind(null,t),To:VV.bind(null,t),u_:LV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),ig(t)?sg(t):t.x_.set("Unknown")):(await t.N_.stop(),l1(t))})),t.N_}function Zs(t){return t.L_||(t.L_=function(n,r,s){const i=Je(n);return i.R_(),new kV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:UV.bind(null,t),To:HV.bind(null,t),E_:BV.bind(null,t),T_:jV.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await jd(t)):(await t.L_.stop(),t.D_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new og(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),ru(t))return new ke(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new Ro(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.B_=new Vt(Be.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ge():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Go{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Go(e,n,Ro.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class zV{constructor(){this.queries=new ua(e=>DE(e),Nd),this.onlineState="Unknown",this.W_=new Set}}async function GV(t,e){const n=Je(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new WV,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ag(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&lg(n)}async function YV(t,e){const n=Je(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KV(t,e){const n=Je(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&lg(n)}function QV(t,e,n){const r=Je(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function lg(t){t.W_.forEach(e=>{e.next()})}var cp,R_;(R_=cp||(cp={})).j_="default",R_.Cache="cache";class XV{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class JV{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=st(),this.mutatedKeys=st(),this.ha=OE(e),this.Pa=new Ro(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new P_,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const f=s.get(c),h=Vd(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let T=!1;f&&h?f.data.isEqual(h.data)?p!==y&&(r.track({type:3,doc:h}),T=!0):this.da(f,h)||(r.track({type:2,doc:h}),T=!0,(l&&this.ha(h,l)>0||u&&this.ha(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),T=!0):f&&!h&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(h?(o=o.add(h),i=y?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,d)=>function(h,p){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return y(h)-y(p)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new Go(this.query,e.Pa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new P_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=st(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new h1(r))}),this.la.forEach(r=>{e.has(r)||n.push(new f1(r))}),n}fa(e){this.ua=e.hs,this.la=st();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Go.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class ZV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eL{constructor(e){this.key=e,this.pa=!1}}class tL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ua(a=>DE(a),Nd),this.Sa=new Map,this.ba=new Set,this.Da=new Vt(Be.comparator),this.Ca=new Map,this.va=new Zm,this.Fa={},this.Ma=new Map,this.xa=zo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function nL(t,e,n=!0){const r=_1(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await p1(r,e,n,!0),s}async function rL(t,e){const n=_1(t);await p1(n,e,!0,!1)}async function p1(t,e,n,r){const s=await EV(t.localStore,Ur(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await sL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&o1(t.remoteStore,s),a}async function sL(t,e,n,r,s){t.Na=(d,f,h)=>async function(y,T,C,k){let R=T.view.Ta(C);R.Xi&&(R=await x_(y.localStore,T.query,!1).then(({documents:_})=>T.view.Ta(_,R)));const m=k&&k.targetChanges.get(T.targetId),P=k&&k.targetMismatches.get(T.targetId)!=null,b=T.view.applyChanges(R,y.isPrimaryClient,m,P);return D_(y,T.targetId,b.Va),b.snapshot}(t,d,f,h);const i=await x_(t.localStore,e,!0),o=new JV(e,i.hs),a=o.Ta(i.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);D_(t,n,u.Va);const c=new ZV(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function iL(t,e,n){const r=Je(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Nd(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await up(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ng(r.remoteStore,s.targetId),dp(r,s.targetId)}).catch(nu)):(dp(r,s.targetId),await up(r.localStore,s.targetId,!0))}async function oL(t,e){const n=Je(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ng(n.remoteStore,r.targetId))}async function aL(t,e,n){const r=pL(t);try{const s=await function(o,a){const l=Je(o),u=rn.now(),c=a.reduce((h,p)=>h.add(p.key),st());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=vs(),y=st();return l.os.getEntries(h,c).next(T=>{p=T,p.forEach((C,k)=>{k.isValidDocument()||(y=y.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(T=>{d=T;const C=[];for(const k of a){const R=CN(k,d.get(k.key).overlayedDocument);R!=null&&C.push(new ai(k.key,R,EE(R.value.mapValue),Br.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,C,a)}).next(T=>{f=T;const C=T.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(h,T.batchId,C)})}).then(()=>({batchId:f.batchId,changes:NE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new Vt(pt)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,s.batchId,n),await lu(r,s.changes),await jd(r.remoteStore)}catch(s){const i=ag(s,"Failed to persist write");n.reject(i)}}async function m1(t,e){const n=Je(t);try{const r=await bV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?St(o.pa):s.removedDocuments.size>0&&(St(o.pa),o.pa=!1))}),await lu(n,r,e)}catch(r){await nu(r)}}function k_(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Je(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Q_)f.G_(a)&&(u=!0)}),u&&lg(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lL(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Vt(Be.comparator);o=o.insert(i,An.newNoDocument(i,Ke.min()));const a=st().add(i),l=new Fd(Ke.min(),new Map,new Vt(pt),o,a);await m1(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),ug(r)}else await up(r.localStore,e,!1).then(()=>dp(r,e,n)).catch(nu)}async function uL(t,e){const n=Je(t),r=e.batch.batchId;try{const s=await _V(n.localStore,e);v1(n,r,null),g1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,s)}catch(s){await nu(s)}}async function cL(t,e,n){const r=Je(t);try{const s=await function(o,a){const l=Je(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(St(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);v1(r,e,n),g1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,s)}catch(s){await nu(s)}}function g1(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function v1(t,e,n){const r=Je(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function dp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||y1(t,r)})}function y1(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(ng(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),ug(t))}function D_(t,e,n){for(const r of n)r instanceof f1?(t.va.addReference(r.key,e),dL(t,r)):r instanceof h1?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||y1(t,r.key)):Ge()}function dL(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.ba.add(r),ug(t))}function ug(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Be(Dt.fromString(e)),r=t.xa.next();t.Ca.set(r,new eL(n)),t.Da=t.Da.insert(n,r),o1(t.remoteStore,new Vs(Ur(RE(n.path)),r,"TargetPurposeLimboResolution",qm._e))}}async function lu(t,e,n){const r=Je(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=tg.Ki(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,u){const c=Je(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ye.forEach(u,f=>ye.forEach(f.qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>ye.forEach(f.Qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!ru(d))throw d;Se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ns.get(f),p=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(f,y)}}}(r.localStore,i))}async function fL(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=await n1(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new ke(ve.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.us)}}function hL(t,e){const n=Je(t),r=n.Ca.get(e);if(r&&r.pa)return st().add(r.key);{let s=st();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function _1(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lL.bind(null,e),e.ya.u_=KV.bind(null,e.eventManager),e.ya.La=QV.bind(null,e.eventManager),e}function pL(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cL.bind(null,e),e}class O_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yV(this.persistence,new gV,e.initialUser,this.serializer)}createPersistence(e){return new hV(eg.Hr,this.serializer)}createSharedClientState(e){return new xV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fL.bind(null,this.syncEngine),await qV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zV}()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),r=function(i){return new PV(i)}(e.databaseInfo);return function(i,o,a,l){return new DV(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new MV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k_(this.syncEngine,n,0),function(){return S_.D()?new S_:new IV}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const d=new tL(s,i,o,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Je(r);Se("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await au(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=bE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Se("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Se("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ag(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yf(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await n1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _L(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>C_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>C_(e.remoteStore,s)),t._onlineComponents=e}function yL(t){return t.name==="FirebaseError"?t.code===ve.FAILED_PRECONDITION||t.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _L(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yL(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await Yf(t,new O_)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Yf(t,new O_);return t._offlineComponents}async function b1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await M_(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await M_(t,new mL))),t._onlineComponents}function bL(t){return b1(t).then(e=>e.syncEngine)}async function wL(t){const e=await b1(t),n=e.eventManager;return n.onListen=nL.bind(null,e.syncEngine),n.onUnlisten=iL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oL.bind(null,e.syncEngine),n}function TL(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new gL({next:f=>{o.enqueueAndForget(()=>YV(i,d)),f.fromCache&&l.source==="server"?u.reject(new ke(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new XV(a,c,{includeMetadataChanges:!0,ta:!0});return GV(i,d)}(await wL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e,n){if(!n)throw new ke(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EL(t,e,n,r){if(e===!0&&r===!0)throw new ke(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V_(t){if(!Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L_(t){if(Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge()}function Yo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L2;switch(r.type){case"firstParty":return new B2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N_.get(n);r&&(Se("ComponentProvider","Removing Datastore"),N_.delete(n),r.terminate())}(this),Promise.resolve()}}function AL(t,e,n,r={}){var s;const i=(t=Yo(t,qd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tn.MOCK_USER;else{a=zR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tn(u)}t._authCredentials=new $2(new _E(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Hs extends da{constructor(e,n,r){super(e,n,RE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Be(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function fp(t,e,...n){if(t=_n(t),T1("collection","path",e),t instanceof qd){const r=Dt.fromString(e,...n);return L_(r),new Hs(t,null,r)}{if(!(t instanceof Hn||t instanceof Hs))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return L_(r),new Hs(t.firestore,null,r)}}function cg(t,e,...n){if(t=_n(t),arguments.length===1&&(e=bE.newId()),T1("doc","path",e),t instanceof qd){const r=Dt.fromString(e,...n);return V_(r),new Hn(t,null,new Be(r))}{if(!(t instanceof Hn||t instanceof Hs))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return V_(r),new Hn(t.firestore,t instanceof Hs?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new s1(this,"async_queue_retry"),this.cu=()=>{const n=Gf();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Gf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new fs;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ru(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=og.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Ge()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Wd extends qd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new xL}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A1(this),this._firestoreClient.terminate()}}function IL(t,e){const n=typeof t=="object"?t:Mw(),r=typeof t=="string"?t:e||"(default)",s=lm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qR("firestore");i&&AL(s,...i)}return s}function E1(t){return t._firestoreClient||A1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A1(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new tN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,w1(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new vL(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(Pn.fromBase64String(e))}catch(n){throw new ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ko(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^__.*__$/;class CL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class x1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class hg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Lc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(I1(this.Vu)&&SL.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class PL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}Cu(e,n,r,s=!1){return new hg({Vu:e,methodName:n,Du:r,path:mn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new PL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RL(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);mg("Data must be an object, but it was:",o,r);const a=S1(r,o);let l,u;if(i.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const f=hp(e,d,n);if(!o.contains(f))throw new ke(ve.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);P1(c,f)||c.push(f)}l=new Bn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new CL(new Vn(a),l,u)}class Gd extends dg{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function kL(t,e,n,r){const s=t.Cu(1,e,n);mg("Data must be an object, but it was:",s,r);const i=[],o=Vn.empty();eo(r,(l,u)=>{const c=gg(e,l,n);u=_n(u);const d=s.yu(c);if(u instanceof Gd)i.push(c);else{const f=uu(u,d);f!=null&&(i.push(c),o.set(c,f))}});const a=new Bn(i);return new x1(o,a,s.fieldTransforms)}function DL(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[hp(e,r,n)],l=[s];if(i.length%2!=0)throw new ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(hp(e,i[f])),l.push(i[f+1]);const u=[],c=Vn.empty();for(let f=a.length-1;f>=0;--f)if(!P1(u,a[f])){const h=a[f];let p=l[f];p=_n(p);const y=o.yu(h);if(p instanceof Gd)u.push(h);else{const T=uu(p,y);T!=null&&(u.push(h),c.set(h,T))}}const d=new Bn(u);return new x1(c,d,o.fieldTransforms)}function OL(t,e,n,r=!1){return uu(n,t.Cu(r?4:3,e))}function uu(t,e){if(C1(t=_n(t)))return mg("Unsupported field value:",e,t),S1(t,e);if(t instanceof dg)return function(r,s){if(!I1(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=uu(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rn.fromDate(r);return{timestampValue:Nc(s.serializer,i)}}if(r instanceof rn){const i=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nc(s.serializer,i)}}if(r instanceof fg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ko)return{bytesValue:KE(s.serializer,r._byteString)};if(r instanceof Hn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jm(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Hd(r)}`)}(t,e)}function S1(t,e){const n={};return wE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,s)=>{const i=uu(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function C1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof fg||t instanceof Ko||t instanceof Hn||t instanceof dg)}function mg(t,e,n){if(!C1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Hd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function hp(t,e,n){if((e=_n(e))instanceof zd)return e._internalPath;if(typeof e=="string")return gg(t,e);throw Lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const ML=new RegExp("[~\\*/\\[\\]]");function gg(t,e,n){if(e.search(ML)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ke(ve.INVALID_ARGUMENT,a+t+l)}function P1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NL extends R1{data(){return super.data()}}function vg(t,e){return typeof e=="string"?gg(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class LL extends yg{}function k1(t,e,...n){let r=[];e instanceof yg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof _g).length,a=i.filter(l=>l instanceof Yd).length;if(o>1||o>0&&a>0)throw new ke(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Yd extends LL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yd(e,n,r)}_apply(e){const n=this._parse(e);return O1(e._query,n),new da(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=pg(e.firestore);return function(i,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){U_(d,c);const h=[];for(const p of d)h.push(F_(l,i,p));f={arrayValue:{values:h}}}else f=F_(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||U_(d,c),f=OL(a,o,d,c==="in"||c==="not-in");return Qt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function D1(t,e,n){const r=e,s=vg("where",t);return Yd._create(s,r,n)}class _g extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)O1(o,l),o=rp(o,l)}(e._query,n),new da(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F_(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new ke(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kE(e)&&n.indexOf("/")!==-1)throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Be.isDocumentKey(r))throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l_(t,new Be(r))}if(n instanceof Hn)return l_(t,n._key);throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function U_(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O1(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $L{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new fg(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Js(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);St(t1(r));const s=new Pl(r.get(1),r.get(3)),i=new Be(r.popFirst(5));return s.isEqual(n)||Yr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UL extends R1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tc extends UL{data(e={}){return super.data(e)}}class BL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tc(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new tc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new tc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:jL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}class HL extends $L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function M1(t){t=Yo(t,da);const e=Yo(t.firestore,Wd),n=E1(e),r=new HL(e);return VL(t._query),TL(n,t._query).then(s=>new BL(e,r,t,s))}function N1(t,e,n,...r){t=Yo(t,Hn);const s=Yo(t.firestore,Wd),i=pg(s);let o;return o=typeof(e=_n(e))=="string"||e instanceof zd?DL(i,"updateDoc",t._key,e,n,r):kL(i,"updateDoc",t._key,e),V1(s,[o.toMutation(t._key,Br.exists(!0))])}function qL(t,e){const n=Yo(t.firestore,Wd),r=cg(t),s=FL(t.converter,e);return V1(n,[RL(pg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function V1(t,e){return function(r,s){const i=new fs;return r.asyncQueue.enqueueAndForget(async()=>aL(await bL(r),s,i)),i.promise}(E1(t),e)}(function(e,n=!0){(function(s){la=s})(Ji),Ui(new Qs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Wd(new F2(r.getProvider("auth-internal")),new H2(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Lr(r_,"4.5.0",e),Lr(r_,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebasestorage.googleapis.com",WL="storageBucket",zL=2*60*1e3,GL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Jr{constructor(e,n,r=0){super(Kf(e),`Firebase Storage: ${n} (${Kf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qr||(Qr={}));function Kf(t){return"storage/"+t}function YL(){const t="An unknown error occurred, please check the error payload for server response.";return new Zr(Qr.UNKNOWN,t)}function KL(){return new Zr(Qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QL(){return new Zr(Qr.CANCELED,"User canceled the upload/download.")}function XL(t){return new Zr(Qr.INVALID_URL,"Invalid URL '"+t+"'.")}function JL(t){return new Zr(Qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function B_(t){return new Zr(Qr.INVALID_ARGUMENT,t)}function $1(){return new Zr(Qr.APP_DELETED,"The Firebase app was deleted.")}function ZL(t){return new Zr(Qr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dr.makeFromUrl(e,n)}catch{return new dr(e,"")}if(r.path==="")return r;throw JL(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(m){m.path.charAt(m.path.length-1)==="/"&&(m.path_=m.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(m){m.path_=decodeURIComponent(m.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${s}/o${f}`,"i"),p={bucket:1,path:3},y=n===L1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",C=new RegExp(`^https?://${y}/${s}/${T}`,"i"),R=[{regex:a,indices:l,postModify:i},{regex:h,indices:p,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let m=0;m<R.length;m++){const P=R[m],b=P.regex.exec(e);if(b){const _=b[P.indices.bucket];let I=b[P.indices.path];I||(I=""),r=new dr(_,I),P.postModify(r);break}}if(r==null)throw XL(e);return r}}class e${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...T){u||(u=!0,e.apply(null,T))}function d(T){s=setTimeout(()=>{s=null,t(h,l())},T)}function f(){i&&clearTimeout(i)}function h(T,...C){if(u){f();return}if(T){f(),c.call(null,T,...C);return}if(l()||o){f(),c.call(null,T,...C);return}r<64&&(r*=2);let R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,d(R)}let p=!1;function y(T){p||(p=!0,f(),!u&&(s!==null?(T||(a=2),clearTimeout(s),d(0)):T||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function n$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){return t!==void 0}function j_(t,e,n,r){if(r<e)throw B_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw B_(`Invalid value for '${t}'. Expected ${n} or less.`)}function s$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $c;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($c||($c={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,s,i,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===$c.NO_ERROR,l=i.getStatus();if(!a||i$(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===$c.ABORT;r(!1,new Vu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Vu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());r$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=YL();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$1():QL();o(l)}else{const l=KL();o(l)}};this.canceled_?n(!1,new Vu(!1,null,!0)):this.backoffId_=t$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function a$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function c$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d$(t,e,n,r,s,i,o=!0){const a=s$(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return u$(u,e),a$(u,n),l$(u,i),c$(u,r),new o$(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p$=class pp{constructor(e,n){this._service=e,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pp(e,n)}get root(){const e=new dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h$(this._location.path)}get storage(){return this._service}get parent(){const e=f$(this._location.path);if(e===null)return null;const n=new dr(this._location.bucket,e);return new pp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZL(e)}};function H_(t,e){const n=e==null?void 0:e[WL];return n==null?null:dr.makeFromBucketSpec(n,t)}class m${constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=L1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zL,this._maxUploadRetryTime=GL,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new p$(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new e$($1());{const o=d$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const q_="@firebase/storage",W_="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="storage";function v$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m$(n,r,s,e,Ji)}function y$(){Ui(new Qs(g$,v$,"PUBLIC").setMultipleInstances(!0)),Lr(q_,W_,""),Lr(q_,W_,"esm2017")}y$();const _$={apiKey:"AIzaSyD7n8E7b0wtFEwSBS8oa5wVwshLXkOyvNY",authDomain:"todoautos.firebaseapp.com",projectId:"todoautos",storageBucket:"todoautos.appspot.com",messagingSenderId:"627443339943",appId:"1:627443339943:web:113de9723a94056e54c182",measurementId:"G-TXE1ZH392N"},F1=Ow(_$),Qo=PM(F1),Ja=IL(F1);/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function ir(t){return typeof t=="function"}function yo(t){return t==null}const Xo=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function bg(t){return Number(t)>=0}function b$(t){return typeof t=="object"&&t!==null}function w$(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function z_(t){if(!b$(t)||w$(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ol(t,e){return Object.keys(e).forEach(n=>{if(z_(e[n])&&z_(t[n])){t[n]||(t[n]={}),Ol(t[n],e[n]);return}t[n]=e[n]}),t}function Lu(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let r=1;r<e.length;r++){if(bg(e[r])){n+=`[${e[r]}]`;continue}n+=`.${e[r]}`}return n}const T$={};function E$(t){return T$[t]}function G_(t,e,n){typeof n.value=="object"&&(n.value=bt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function bt(t){if(typeof t!="object")return t;var e=0,n,r,s,i=Object.prototype.toString.call(t);if(i==="[object Object]"?s=Object.create(t.__proto__||null):i==="[object Array]"?s=Array(t.length):i==="[object Set]"?(s=new Set,t.forEach(function(o){s.add(bt(o))})):i==="[object Map]"?(s=new Map,t.forEach(function(o,a){s.set(bt(a),bt(o))})):i==="[object Date]"?s=new Date(+t):i==="[object RegExp]"?s=new RegExp(t.source,t.flags):i==="[object DataView]"?s=new t.constructor(bt(t.buffer)):i==="[object ArrayBuffer]"?s=t.slice(0):i.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)G_(s,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(s,n=r[e])&&s[n]===t[n]||G_(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}const U1=Symbol("vee-validate-form"),A$=typeof window<"u";function x$(t){return ir(t)&&!!t.__locatorRef}function Ls(t){return!!t&&ir(t.parse)&&t.__type==="VVTypedSchema"}function B1(t){return!!t&&ir(t.validate)}function I$(t){return t==="checkbox"||t==="radio"}function S$(t){return Xo(t)||Array.isArray(t)}function C$(t){return Array.isArray(t)?t.length===0:Xo(t)&&Object.keys(t).length===0}function cu(t){return/^\[.+\]$/i.test(t)}function P$(t){return j1(t)&&t.multiple}function j1(t){return t.tagName==="SELECT"}function R$(t){return H1(t)&&t.target&&"submit"in t.target}function H1(t){return t?!!(typeof Event<"u"&&ir(Event)&&t instanceof Event||t&&t.srcElement):!1}function qs(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!qs(t[r],e[r]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;for(r of t.entries())if(!qs(r[1],e.get(r[0])))return!1;return!0}if(Y_(t)&&Y_(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(s=Object.keys(t),n=s.length,r=n;r--!==0;){var i=s[r];if(!qs(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Y_(t){return A$?t instanceof File:!1}function Kd(t){return cu(t)?t.replace(/\[|\]/gi,""):t}function an(t,e,n){return t?cu(e)?t[Kd(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,i)=>S$(s)&&i in s?s[i]:n,t):n}function En(t,e,n){if(cu(e)){t[Kd(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let i=0;i<r.length;i++){if(i===r.length-1){s[r[i]]=n;return}(!(r[i]in s)||yo(s[r[i]]))&&(s[r[i]]=bg(r[i+1])?[]:{}),s=s[r[i]]}}function Qf(t,e){if(Array.isArray(t)&&bg(e)){t.splice(Number(e),1);return}Xo(t)&&delete t[e]}function K_(t,e){if(cu(e)){delete t[Kd(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<n.length;i++){if(i===n.length-1){Qf(r,n[i]);break}if(!(n[i]in r)||yo(r[n[i]]))break;r=r[n[i]]}const s=n.map((i,o)=>an(t,n.slice(0,o).join(".")));for(let i=s.length-1;i>=0;i--)if(C$(s[i])){if(i===0){Qf(t,n[0]);continue}Qf(s[i-1],n[i-1])}}function Gn(t){return Object.keys(t)}function k$(t,e=void 0){const n=$l();return(n==null?void 0:n.provides[t])||Xn(t,e)}function Q_(t,e=0){let n=null,r=[];return function(...s){return n&&clearTimeout(n),n=setTimeout(()=>{const i=t(...s);r.forEach(o=>o(i)),r=[]},e),new Promise(i=>r.push(i))}}function D$(t,e){let n;return async function(...s){const i=t(...s);n=i;const o=await i;return i!==n?o:(n=void 0,e(o,s))}}function O$({get:t,set:e}){const n=ae(bt(t()));return Ut(t,r=>{qs(r,n.value)||(n.value=bt(r))},{deep:!0}),Ut(n,r=>{qs(r,t())||e(bt(r))},{deep:!0}),n}function X_(t){return Array.isArray(t)?t:t?[t]:[]}function $u(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function M$(t){let e=null,n=[];return function(...r){const s=At(()=>{if(e!==s)return;const i=t(...r);n.forEach(o=>o(i)),n=[],e=null});return e=s,new Promise(i=>n.push(i))}}function Xf(t){if(q1(t))return t._value}function q1(t){return"_value"in t}function N$(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function J_(t){if(!H1(t))return t;const e=t.target;if(I$(e.type)&&q1(e))return Xf(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(P$(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Xf);if(j1(e)){const n=Array.from(e.options).find(r=>r.selected);return n?Xf(n):e.value}return N$(e)}function V$(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Xo(t)&&t._$$isNormalized?t:Xo(t)?Object.keys(t).reduce((n,r)=>{const s=L$(t[r]);return t[r]!==!1&&(n[r]=Z_(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const s=$$(r);return s.name&&(n[s.name]=Z_(s.params)),n},e):e}function L$(t){return t===!0?[]:Array.isArray(t)||Xo(t)?t:[t]}function Z_(t){const e=n=>typeof n=="string"&&n[0]==="@"?F$(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const $$=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function F$(t){const e=n=>an(n,t)||n[t];return e.__locatorRef=t,e}const U$={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let B$=Object.assign({},U$);const Da=()=>B$;async function j$(t,e,n={}){const r=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},o=(await H$(s,t)).errors;return{errors:o,valid:!o.length}}async function H$(t,e){if(Ls(t.rules)||B1(t.rules))return W$(e,t.rules);if(ir(t.rules)||Array.isArray(t.rules)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},a=Array.isArray(t.rules)?t.rules:[t.rules],l=a.length,u=[];for(let c=0;c<l;c++){const d=a[c],f=await d(e,o);if(!(typeof f!="string"&&!Array.isArray(f)&&f)){if(Array.isArray(f))u.push(...f);else{const p=typeof f=="string"?f:z1(o);u.push(p)}if(t.bails)return{errors:u}}}return{errors:u}}const n=Object.assign(Object.assign({},t),{rules:V$(t.rules)}),r=[],s=Object.keys(n.rules),i=s.length;for(let o=0;o<i;o++){const a=s[o],l=await z$(n,e,{name:a,params:n.rules[a]});if(l.error&&(r.push(l.error),t.bails))return{errors:r}}return{errors:r}}function q$(t){return!!t&&t.name==="ValidationError"}function W1(t){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(s){if(!q$(s))throw s;if(!(!((r=s.inner)===null||r===void 0)&&r.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const i=s.inner.reduce((o,a)=>{const l=a.path||"";return o[l]||(o[l]={errors:[],path:l}),o[l].errors.push(...a.errors),o},{});return{errors:Object.values(i)}}}}}async function W$(t,e){const r=await(Ls(e)?e:W1(e)).parse(t),s=[];for(const i of r.errors)i.errors.length&&s.push(...i.errors);return{errors:s}}async function z$(t,e,n){const r=E$(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const s=G$(n.params,t.formData),i={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},o=await r(e,s,i);return typeof o=="string"?{error:o}:{error:o?void 0:z1(i)}}function z1(t){const e=Da().generateMessage;return e?e(t):"Field is invalid"}function G$(t,e){const n=r=>x$(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{})}async function Y$(t,e){const r=await(Ls(t)?t:W1(t)).parse(bt(e)),s={},i={};for(const o of r.errors){const a=o.errors,l=(o.path||"").replace(/\["(\d+)"\]/g,(u,c)=>`[${c}]`);s[l]={valid:!a.length,errors:a},a.length&&(i[l]=a[0])}return{valid:!r.errors.length,results:s,errors:i,values:r.value}}async function K$(t,e,n){const s=Gn(t).map(async u=>{var c,d,f;const h=(c=n==null?void 0:n.names)===null||c===void 0?void 0:c[u],p=await j$(an(e,u),t[u],{name:(h==null?void 0:h.name)||u,label:h==null?void 0:h.label,values:e,bails:(f=(d=n==null?void 0:n.bailsMap)===null||d===void 0?void 0:d[u])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},p),{path:u})});let i=!0;const o=await Promise.all(s),a={},l={};for(const u of o)a[u.path]={valid:u.valid,errors:u.errors},u.valid||(i=!1,l[u.path]=u.errors[0]);return{valid:i,results:a,errors:l}}let Q$=0;const Fu=["bails","fieldsCount","id","multiple","type","validate"];function G1(t){const e=Object.assign({},Et((t==null?void 0:t.initialValues)||{})),n=g(t==null?void 0:t.validationSchema);return n&&Ls(n)&&ir(n.cast)?bt(n.cast(e)||{}):bt(e)}function Qd(t){var e;const n=Q$++;let r=0;const s=ae(!1),i=ae(!1),o=ae(0),a=[],l=en(G1(t)),u=ae([]),c=ae({}),d=ae({}),f=M$(()=>{d.value=u.value.reduce((H,W)=>(H[Lu(Et(W.path))]=W,H),{})});function h(H,W){const fe=A(H);if(!fe){typeof H=="string"&&(c.value[Lu(H)]=X_(W));return}if(typeof H=="string"){const $=Lu(H);c.value[$]&&delete c.value[$]}fe.errors=X_(W),fe.valid=!fe.errors.length}function p(H){Gn(H).forEach(W=>{h(W,H[W])})}t!=null&&t.initialErrors&&p(t.initialErrors);const y=ue(()=>{const H=u.value.reduce((W,fe)=>(fe.errors.length&&(W[fe.path]=fe.errors),W),{});return Object.assign(Object.assign({},c.value),H)}),T=ue(()=>Gn(y.value).reduce((H,W)=>{const fe=y.value[W];return fe!=null&&fe.length&&(H[W]=fe[0]),H},{})),C=ue(()=>u.value.reduce((H,W)=>(H[W.path]={name:W.path||"",label:W.label||""},H),{})),k=ue(()=>u.value.reduce((H,W)=>{var fe;return H[W.path]=(fe=W.bails)!==null&&fe!==void 0?fe:!0,H},{})),R=Object.assign({},(t==null?void 0:t.initialErrors)||{}),m=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:P,originalInitialValues:b,setInitialValues:_}=J$(u,l,t),I=X$(u,l,b,T),O=ue(()=>u.value.reduce((H,W)=>{const fe=an(l,W.path);return En(H,W.path,fe),H},{})),F=t==null?void 0:t.validationSchema;function Q(H,W){var fe,$;const re=ue(()=>an(P.value,Et(H))),N=d.value[Et(H)],oe=(W==null?void 0:W.type)==="checkbox"||(W==null?void 0:W.type)==="radio";if(N&&oe){N.multiple=!0;const Ct=r++;return Array.isArray(N.id)?N.id.push(Ct):N.id=[N.id,Ct],N.fieldsCount++,N.__flags.pendingUnmount[Ct]=!1,N}const ge=ue(()=>an(l,Et(H))),ee=Et(H),be=te.findIndex(Ct=>Ct===ee);be!==-1&&te.splice(be,1);const xe=ue(()=>{var Ct,dn,ts,ci,_r,pa;return Ls(F)?(ts=(dn=(Ct=F).describe)===null||dn===void 0?void 0:dn.call(Ct,Et(H)).required)!==null&&ts!==void 0?ts:!1:Ls(W==null?void 0:W.schema)&&(pa=(_r=(ci=W==null?void 0:W.schema).describe)===null||_r===void 0?void 0:_r.call(ci).required)!==null&&pa!==void 0?pa:!1}),tt=r++,dt=en({id:tt,path:H,touched:!1,pending:!1,valid:!0,validated:!!(!((fe=R[ee])===null||fe===void 0)&&fe.length),required:xe,initialValue:re,errors:Lp([]),bails:($=W==null?void 0:W.bails)!==null&&$!==void 0?$:!1,label:W==null?void 0:W.label,type:(W==null?void 0:W.type)||"default",value:ge,multiple:!1,__flags:{pendingUnmount:{[tt]:!1},pendingReset:!1},fieldsCount:1,validate:W==null?void 0:W.validate,dirty:ue(()=>!qs(g(ge),g(re)))});return u.value.push(dt),d.value[ee]=dt,f(),T.value[ee]&&!R[ee]&&At(()=>{Ee(ee,{mode:"silent"})}),ht(H)&&Ut(H,Ct=>{f();const dn=bt(ge.value);d.value[Ct]=dt,At(()=>{En(l,Ct,dn)})}),dt}const M=Q_(Ie,5),q=Q_(Ie,5),le=D$(async H=>await(H==="silent"?M():q()),(H,[W])=>{const fe=Gn(ne.errorBag.value),re=[...new Set([...Gn(H.results),...u.value.map(N=>N.path),...fe])].sort().reduce((N,oe)=>{var ge;const ee=oe,be=A(ee)||K(ee),xe=((ge=H.results[ee])===null||ge===void 0?void 0:ge.errors)||[],tt=Et(be==null?void 0:be.path)||ee,dt=Z$({errors:xe,valid:!xe.length},N.results[tt]);return N.results[tt]=dt,dt.valid||(N.errors[tt]=dt.errors[0]),be&&c.value[tt]&&delete c.value[tt],be?(be.valid=dt.valid,W==="silent"||W==="validated-only"&&!be.validated||h(be,dt.errors),N):(h(tt,xe),N)},{valid:H.valid,results:{},errors:{}});return H.values&&(re.values=H.values),Gn(re.results).forEach(N=>{var oe;const ge=A(N);ge&&W!=="silent"&&(W==="validated-only"&&!ge.validated||h(ge,(oe=re.results[N])===null||oe===void 0?void 0:oe.errors))}),re});function L(H){u.value.forEach(H)}function A(H){const W=typeof H=="string"?Lu(H):H;return typeof W=="string"?d.value[W]:W}function K(H){return u.value.filter(fe=>H.startsWith(fe.path)).reduce((fe,$)=>fe?$.path.length>fe.path.length?$:fe:$,void 0)}let te=[],Te;function de(H){return te.push(H),Te||(Te=At(()=>{[...te].sort().reverse().forEach(fe=>{K_(l,fe)}),te=[],Te=null})),Te}function z(H){return function(fe,$){return function(N){return N instanceof Event&&(N.preventDefault(),N.stopPropagation()),L(oe=>oe.touched=!0),s.value=!0,o.value++,X().then(oe=>{const ge=bt(l);if(oe.valid&&typeof fe=="function"){const ee=bt(O.value);let be=H?ee:ge;return oe.values&&(be=oe.values),fe(be,{evt:N,controlledValues:ee,setErrors:p,setFieldError:h,setTouched:U,setFieldTouched:Ae,setValues:D,setFieldValue:x,resetForm:Z,resetField:G})}!oe.valid&&typeof $=="function"&&$({values:ge,evt:N,errors:oe.errors,results:oe.results})}).then(oe=>(s.value=!1,oe),oe=>{throw s.value=!1,oe})}}}const E=z(!1);E.withControlled=z(!0);function B(H,W){const fe=u.value.findIndex(re=>re.path===H&&(Array.isArray(re.id)?re.id.includes(W):re.id===W)),$=u.value[fe];if(!(fe===-1||!$)){if(At(()=>{Ee(H,{mode:"silent",warn:!1})}),$.multiple&&$.fieldsCount&&$.fieldsCount--,Array.isArray($.id)){const re=$.id.indexOf(W);re>=0&&$.id.splice(re,1),delete $.__flags.pendingUnmount[W]}(!$.multiple||$.fieldsCount<=0)&&(u.value.splice(fe,1),he(H),f(),delete d.value[H])}}function ce(H){Gn(d.value).forEach(W=>{W.startsWith(H)&&delete d.value[W]}),u.value=u.value.filter(W=>!W.path.startsWith(H)),At(()=>{f()})}const ne={formId:n,values:l,controlledValues:O,errorBag:y,errors:T,schema:F,submitCount:o,meta:I,isSubmitting:s,isValidating:i,fieldArrays:a,keepValuesOnUnmount:m,validateSchema:g(F)?le:void 0,validate:X,setFieldError:h,validateField:Ee,setFieldValue:x,setValues:D,setErrors:p,setFieldTouched:Ae,setTouched:U,resetForm:Z,resetField:G,handleSubmit:E,useFieldModel:Oe,defineInputBinds:We,defineComponentBinds:et,defineField:Pe,stageInitialValue:me,unsetInitialValue:he,setFieldInitialValue:pe,createPathState:Q,getPathState:A,unsetPathValue:de,removePathState:B,initialValues:P,getAllPathStates:()=>u.value,destroyPath:ce,isFieldTouched:_e,isFieldDirty:v,isFieldValid:w};function x(H,W,fe=!0){const $=bt(W),re=typeof H=="string"?H:H.path;A(re)||Q(re),En(l,re,$),fe&&Ee(re)}function se(H,W=!0){Gn(l).forEach(fe=>{delete l[fe]}),Gn(H).forEach(fe=>{x(fe,H[fe],!1)}),W&&X()}function D(H,W=!0){Ol(l,H),a.forEach(fe=>fe&&fe.reset()),W&&X()}function j(H,W){const fe=A(Et(H))||Q(H);return ue({get(){return fe.value},set($){var re;const N=Et(H);x(N,$,(re=Et(W))!==null&&re!==void 0?re:!1)}})}function Ae(H,W){const fe=A(H);fe&&(fe.touched=W)}function _e(H){const W=A(H);return W?W.touched:u.value.filter(fe=>fe.path.startsWith(H)).some(fe=>fe.touched)}function v(H){const W=A(H);return W?W.dirty:u.value.filter(fe=>fe.path.startsWith(H)).some(fe=>fe.dirty)}function w(H){const W=A(H);return W?W.valid:u.value.filter(fe=>fe.path.startsWith(H)).every(fe=>fe.valid)}function U(H){if(typeof H=="boolean"){L(W=>{W.touched=H});return}Gn(H).forEach(W=>{Ae(W,!!H[W])})}function G(H,W){var fe;const $=W&&"value"in W?W.value:an(P.value,H),re=A(H);re&&(re.__flags.pendingReset=!0),pe(H,bt($),!0),x(H,$,!1),Ae(H,(fe=W==null?void 0:W.touched)!==null&&fe!==void 0?fe:!1),h(H,(W==null?void 0:W.errors)||[]),At(()=>{re&&(re.__flags.pendingReset=!1)})}function Z(H,W){let fe=bt(H!=null&&H.values?H.values:b.value);fe=W!=null&&W.force?fe:Ol(b.value,fe),fe=Ls(F)&&ir(F.cast)?F.cast(fe):fe,_(fe),L($=>{var re;$.__flags.pendingReset=!0,$.validated=!1,$.touched=((re=H==null?void 0:H.touched)===null||re===void 0?void 0:re[$.path])||!1,x($.path,an(fe,$.path),!1),h($.path,void 0)}),W!=null&&W.force?se(fe,!1):D(fe,!1),p((H==null?void 0:H.errors)||{}),o.value=(H==null?void 0:H.submitCount)||0,At(()=>{X({mode:"silent"}),L($=>{$.__flags.pendingReset=!1})})}async function X(H){const W=(H==null?void 0:H.mode)||"force";if(W==="force"&&L(N=>N.validated=!0),ne.validateSchema)return ne.validateSchema(W);i.value=!0;const fe=await Promise.all(u.value.map(N=>N.validate?N.validate(H).then(oe=>({key:N.path,valid:oe.valid,errors:oe.errors})):Promise.resolve({key:N.path,valid:!0,errors:[]})));i.value=!1;const $={},re={};for(const N of fe)$[N.key]={valid:N.valid,errors:N.errors},N.errors.length&&(re[N.key]=N.errors[0]);return{valid:fe.every(N=>N.valid),results:$,errors:re}}async function Ee(H,W){var fe;const $=A(H);if($&&(W==null?void 0:W.mode)!=="silent"&&($.validated=!0),F){const{results:re}=await le((W==null?void 0:W.mode)||"validated-only");return re[H]||{errors:[],valid:!0}}return $!=null&&$.validate?$.validate(W):(!$&&(fe=W==null?void 0:W.warn),Promise.resolve({errors:[],valid:!0}))}function he(H){K_(P.value,H)}function me(H,W,fe=!1){pe(H,W),En(l,H,W),fe&&!(t!=null&&t.initialValues)&&En(b.value,H,bt(W))}function pe(H,W,fe=!1){En(P.value,H,bt(W)),fe&&En(b.value,H,bt(W))}async function Ie(){const H=g(F);if(!H)return{valid:!0,results:{},errors:{}};i.value=!0;const W=B1(H)||Ls(H)?await Y$(H,l):await K$(H,l,{names:C.value,bailsMap:k.value});return i.value=!1,W}const Ne=E((H,{evt:W})=>{R$(W)&&W.target.submit()});Lt(()=>{if(t!=null&&t.initialErrors&&p(t.initialErrors),t!=null&&t.initialTouched&&U(t.initialTouched),t!=null&&t.validateOnMount){X();return}ne.validateSchema&&ne.validateSchema("silent")}),ht(F)&&Ut(F,()=>{var H;(H=ne.validateSchema)===null||H===void 0||H.call(ne,"validated-only")}),Va(U1,ne);function Pe(H,W){const fe=ir(W)||W==null?void 0:W.label,$=A(Et(H))||Q(H,{label:fe}),re=()=>ir(W)?W($u($,Fu)):W||{};function N(){var xe;$.touched=!0,((xe=re().validateOnBlur)!==null&&xe!==void 0?xe:Da().validateOnBlur)&&Ee($.path)}function oe(){var xe;((xe=re().validateOnInput)!==null&&xe!==void 0?xe:Da().validateOnInput)&&At(()=>{Ee($.path)})}function ge(){var xe;((xe=re().validateOnChange)!==null&&xe!==void 0?xe:Da().validateOnChange)&&At(()=>{Ee($.path)})}const ee=ue(()=>{const xe={onChange:ge,onInput:oe,onBlur:N};return ir(W)?Object.assign(Object.assign({},xe),W($u($,Fu)).props||{}):W!=null&&W.props?Object.assign(Object.assign({},xe),W.props($u($,Fu))):xe});return[j(H,()=>{var xe,tt,dt;return(dt=(xe=re().validateOnModelUpdate)!==null&&xe!==void 0?xe:(tt=Da())===null||tt===void 0?void 0:tt.validateOnModelUpdate)!==null&&dt!==void 0?dt:!0}),ee]}function Oe(H){return Array.isArray(H)?H.map(W=>j(W,!0)):j(H)}function We(H,W){const[fe,$]=Pe(H,W);function re(){$.value.onBlur()}function N(ge){const ee=J_(ge);x(Et(H),ee,!1),$.value.onInput()}function oe(ge){const ee=J_(ge);x(Et(H),ee,!1),$.value.onChange()}return ue(()=>Object.assign(Object.assign({},$.value),{onBlur:re,onInput:N,onChange:oe,value:fe.value}))}function et(H,W){const[fe,$]=Pe(H,W),re=A(Et(H));function N(oe){fe.value=oe}return ue(()=>{const oe=ir(W)?W($u(re,Fu)):W||{};return Object.assign({[oe.model||"modelValue"]:fe.value,[`onUpdate:${oe.model||"modelValue"}`]:N},$.value)})}return Object.assign(Object.assign({},ne),{values:Mp(l),handleReset:()=>Z(),submitForm:Ne})}function X$(t,e,n,r){const s={touched:"some",pending:"some",valid:"every"},i=ue(()=>!qs(e,g(n)));function o(){const l=t.value;return Gn(s).reduce((u,c)=>{const d=s[c];return u[c]=l[d](f=>f[c]),u},{})}const a=en(o());return Hp(()=>{const l=o();a.touched=l.touched,a.valid=l.valid,a.pending=l.pending}),ue(()=>Object.assign(Object.assign({initialValues:g(n)},a),{valid:a.valid&&!Gn(r.value).length,dirty:i.value}))}function J$(t,e,n){const r=G1(n),s=ae(r),i=ae(bt(r));function o(a,l=!1){s.value=Ol(bt(s.value)||{},bt(a)),i.value=Ol(bt(i.value)||{},bt(a)),l&&t.value.forEach(u=>{if(u.touched)return;const d=an(s.value,u.path);En(e,u.path,bt(d))})}return{initialValues:s,originalInitialValues:i,setInitialValues:o}}function Z$(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}function eF(t){const e=k$(U1,void 0),n=ae([]),r=()=>{},s={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!e||!g(t))return s;const i=e.fieldArrays.find(P=>g(P.path)===g(t));if(i)return i;let o=0;function a(){return an(e==null?void 0:e.values,Et(t),[])||[]}function l(){const P=a();Array.isArray(P)&&(n.value=P.map((b,_)=>c(b,_,n.value)),u())}l();function u(){const P=n.value.length;for(let b=0;b<P;b++){const _=n.value[b];_.isFirst=b===0,_.isLast=b===P-1}}function c(P,b,_){if(_&&!yo(b)&&_[b])return _[b];const I=o++;return{key:I,value:O$({get(){const F=an(e==null?void 0:e.values,Et(t),[])||[],Q=n.value.findIndex(M=>M.key===I);return Q===-1?P:F[Q]},set(F){const Q=n.value.findIndex(M=>M.key===I);Q!==-1&&C(Q,F)}}),isFirst:!1,isLast:!1}}function d(){u(),e==null||e.validate({mode:"silent"})}function f(P){const b=Et(t),_=an(e==null?void 0:e.values,b);if(!_||!Array.isArray(_))return;const I=[..._];I.splice(P,1);const O=b+`[${P}]`;e.destroyPath(O),e.unsetInitialValue(O),En(e.values,b,I),n.value.splice(P,1),d()}function h(P){const b=bt(P),_=Et(t),I=an(e==null?void 0:e.values,_),O=yo(I)?[]:I;if(!Array.isArray(O))return;const F=[...O];F.push(b),e.stageInitialValue(_+`[${F.length-1}]`,b),En(e.values,_,F),n.value.push(c(b)),d()}function p(P,b){const _=Et(t),I=an(e==null?void 0:e.values,_);if(!Array.isArray(I)||!(P in I)||!(b in I))return;const O=[...I],F=[...n.value],Q=O[P];O[P]=O[b],O[b]=Q;const M=F[P];F[P]=F[b],F[b]=M,En(e.values,_,O),n.value=F,u()}function y(P,b){const _=bt(b),I=Et(t),O=an(e==null?void 0:e.values,I);if(!Array.isArray(O)||O.length<P)return;const F=[...O],Q=[...n.value];F.splice(P,0,_),Q.splice(P,0,c(_)),En(e.values,I,F),n.value=Q,d()}function T(P){const b=Et(t);e.stageInitialValue(b,P),En(e.values,b,P),l(),d()}function C(P,b){const _=Et(t),I=an(e==null?void 0:e.values,_);!Array.isArray(I)||I.length-1<P||(En(e.values,`${_}[${P}]`,b),e==null||e.validate({mode:"validated-only"}))}function k(P){const b=bt(P),_=Et(t),I=an(e==null?void 0:e.values,_),O=yo(I)?[]:I;if(!Array.isArray(O))return;const F=[b,...O];En(e.values,_,F),e.stageInitialValue(_+"[0]",b),n.value.unshift(c(b)),d()}function R(P,b){const _=Et(t),I=an(e==null?void 0:e.values,_),O=yo(I)?[]:[...I];if(!Array.isArray(I)||!(P in I)||!(b in I))return;const F=[...n.value],Q=F[P];F.splice(P,1),F.splice(b,0,Q);const M=O[P];O.splice(P,1),O.splice(b,0,M),En(e.values,_,O),n.value=F,d()}const m={fields:n,remove:f,push:h,swap:p,insert:y,update:C,replace:T,prepend:k,move:R};return e.fieldArrays.push(Object.assign({path:t,reset:l},m)),zp(()=>{const P=e.fieldArrays.findIndex(b=>Et(b.path)===Et(t));P>=0&&e.fieldArrays.splice(P,1)}),Ut(a,P=>{const b=n.value.map(_=>_.value);qs(P,b)||l()}),m}/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const Fc=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function tF(t){return Number(t)>=0}function nF(t){return typeof t=="object"&&t!==null}function rF(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function e0(t){if(!nF(t)||rF(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Y1(t,e){return Object.keys(e).forEach(n=>{if(e0(e[n])&&e0(t[n])){t[n]||(t[n]={}),Y1(t[n],e[n]);return}t[n]=e[n]}),t}function Xd(t,e={abortEarly:!1}){return{__type:"VVTypedSchema",async parse(r){var s;try{return{value:await t.validate(r,Object.assign({},e)),errors:[]}}catch(i){const o=i;if(o.name!=="ValidationError")throw i;if(!(!((s=o.inner)===null||s===void 0)&&s.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const a=o.inner.reduce((l,u)=>{const c=u.path||"";return l[c]||(l[c]={errors:[],path:c}),l[c].errors.push(...u.errors),l},{});return{errors:Object.values(a)}}},cast(r){try{return t.cast(r)}catch{const i=t.getDefault();return Fc(i)&&Fc(r)?Y1(i,r):r}},describe(r){if(!r)return t0(t.spec);const s=sF(r,t);return s?t0(s):{required:!1,exists:!1}}}}function t0(t){return{required:!t.optional,exists:!0}}function sF(t,e){if(!n0(e))return null;if(cu(t)){const s=e.fields[Kd(t)];return(s==null?void 0:s.spec)||null}const n=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){const i=n[s];if(n0(r)&&i in r.fields?r=r.fields[i]:tF(i)&&iF(r)&&(r=r.innerType),s===n.length-1)return r.spec}return null}function n0(t){return Fc(t)&&t.type==="object"}function iF(t){return Fc(t)&&t.type==="array"}function oF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function no(t){this._maxSize=t,this.clear()}no.prototype.clear=function(){this._size=0,this._values=Object.create(null)};no.prototype.get=function(t){return this._values[t]};no.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var aF=/[^.^\]^[]+|(?=\[\]|\.\.)/g,K1=/^\d+$/,lF=/^\d/,uF=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,cF=/^\s*(['"]?)(.*?)(\1)\s*$/,wg=512,r0=new no(wg),s0=new no(wg),i0=new no(wg),Vi={Cache:no,split:mp,normalizePath:Jf,setter:function(t){var e=Jf(t);return s0.get(t)||s0.set(t,function(r,s){for(var i=0,o=e.length,a=r;i<o-1;){var l=e[i];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var n=Jf(t);return i0.get(t)||i0.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(Tg(n)||K1.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){dF(Array.isArray(t)?t:mp(t),e,n)}};function Jf(t){return r0.get(t)||r0.set(t,mp(t).map(function(e){return e.replace(cF,"$2")}))}function mp(t){return t.match(aF)||[""]}function dF(t,e,n){var r=t.length,s,i,o,a;for(i=0;i<r;i++)s=t[i],s&&(pF(s)&&(s='"'+s+'"'),a=Tg(s),o=!a&&/^\d+$/.test(s),e.call(n,s,a,o,i,t))}function Tg(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function fF(t){return t.match(lF)&&!t.match(K1)}function hF(t){return uF.test(t)}function pF(t){return!Tg(t)&&(fF(t)||hF(t))}const mF=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Jd=t=>t.match(mF)||[],Zd=t=>t[0].toUpperCase()+t.slice(1),Eg=(t,e)=>Jd(t).join(e).toLowerCase(),Q1=t=>Jd(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),gF=t=>Zd(Q1(t)),vF=t=>Eg(t,"_"),yF=t=>Eg(t,"-"),_F=t=>Zd(Eg(t," ")),bF=t=>Jd(t).map(Zd).join(" ");var Zf={words:Jd,upperFirst:Zd,camelCase:Q1,pascalCase:gF,snakeCase:vF,kebabCase:yF,sentenceCase:_F,titleCase:bF},Ag={exports:{}};Ag.exports=function(t){return X1(wF(t),t)};Ag.exports.array=X1;function X1(t,e){var n=t.length,r=new Array(n),s={},i=n,o=TF(e),a=EF(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||l(t[i],i,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[c]){s[c]=!0;var h=o.get(u)||new Set;if(h=Array.from(h),c=h.length){d.add(u);do{var p=h[--c];l(p,a.get(p),d)}while(c);d.delete(u)}r[--n]=u}}}function wF(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function TF(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function EF(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var AF=Ag.exports;const xF=oF(AF),IF=Object.prototype.toString,SF=Error.prototype.toString,CF=RegExp.prototype.toString,PF=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",RF=/^Symbol\((.*)\)(.*)$/;function kF(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function o0(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return kF(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return PF.call(t).replace(RF,"Symbol($1)");const r=IF.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+SF.call(t)+"]":r==="RegExp"?CF.call(t):null}function hs(t,e){let n=o0(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=o0(this[r],e);return i!==null?i:s},2)}function J1(t){return t==null?[]:[].concat(t)}let Z1,eA,tA,DF=/\$\{\s*(\w+)\s*\}/g;Z1=Symbol.toStringTag;class a0{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Z1]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],J1(e).forEach(i=>{if(Nn.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}eA=Symbol.hasInstance;tA=Symbol.toStringTag;class Nn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(DF,(s,i)=>hs(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,i){const o=new a0(e,n,r,s);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[tA]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Nn)}static[eA](e){return a0[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let wr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${hs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${hs(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${hs(n,!0)}\``+s}},On={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ss={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},gp={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},OF={isValue:"${path} field must be ${value}"},vp={noUnknown:"${path} field has unspecified keys: ${unknown}"},nc={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},MF={notType:t=>{const{path:e,value:n,spec:r}=t,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${hs(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${hs(n,!0)}\``}return Nn.formatError(wr.notType,t)}};Object.assign(Object.create(null),{mixed:wr,string:On,number:Ss,date:gp,object:vp,array:nc,boolean:OF,tuple:MF});const ef=t=>t&&t.__isYupSchema__;class Uc{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Uc(e,(a,l)=>{var u;let c=o(...a)?s:i;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!ef(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const Uu={context:"$",value:"."};class ro{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Uu.context,this.isValue=this.key[0]===Uu.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Uu.context:this.isValue?Uu.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Vi.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ro.prototype.__isYupRef=!0;const us=t=>t==null;function lo(t){function e({value:n,path:r="",options:s,originalValue:i,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:h}=t;let{parent:p,context:y,abortEarly:T=o.spec.abortEarly,disableStackTrace:C=o.spec.disableStackTrace}=s;function k(Q){return ro.isRef(Q)?Q.getValue(n,p,y):Q}function R(Q={}){const M=Object.assign({value:n,originalValue:i,label:o.spec.label,path:Q.path||r,spec:o.spec,disableStackTrace:Q.disableStackTrace||C},d,Q.params);for(const le of Object.keys(M))M[le]=k(M[le]);const q=new Nn(Nn.formatError(Q.message||f,M),n,M.path,Q.type||u,M.disableStackTrace);return q.params=M,q}const m=T?a:l;let P={path:r,parent:p,type:u,from:s.from,createError:R,resolve:k,options:s,originalValue:i,schema:o};const b=Q=>{Nn.isError(Q)?m(Q):Q?l(null):m(R())},_=Q=>{Nn.isError(Q)?m(Q):a(Q)};if(h&&us(n))return b(!0);let O;try{var F;if(O=c.call(P,n,P),typeof((F=O)==null?void 0:F.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(b,_)}}catch(Q){_(Q);return}b(O)}return e.OPTIONS=t,e}function NF(t,e,n,r=n){let s,i,o;return e?(Vi.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:s,value:n});let d=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=n,n=n&&n[c],t=t.fields[c]}i=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class Bc extends Set{describe(){const e=[];for(const n of this.values())e.push(ro.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Bc(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function _o(t,e=new Map){if(ef(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=_o(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,s]of t.entries())n.set(r,_o(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(_o(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,s]of Object.entries(t))n[r]=_o(s,e)}else throw Error(`Unable to clone ${t}`);return n}class rr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Bc,this._blacklist=new Bc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(wr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=_o(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(i=e.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",i=r._cast(e,n);if(n.assert!==!1&&!r.isType(i)){if(s&&us(i))return i;let o=hs(e),a=hs(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:i,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return s(c,l);this.runTests({path:i,value:l,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:i,value:o,originalValue:a,path:l,options:u}=e,c=y=>{s||(s=!0,n(y,o))},d=y=>{s||(s=!0,r(y,o))},f=i.length,h=[];if(!f)return d([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let y=0;y<i.length;y++){const T=i[y];T(p,c,function(k){k&&(Array.isArray(k)?h.push(...k):h.push(k)),--f<=0&&d(h)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:i,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${s||""}[${l?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,f,h)=>this.resolve(c)._validate(u,c,f,h)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,a)=>s._validate(e,n,(l,u)=>{Nn.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Nn(l,u,void 0,void 0,i)):o(u)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),i,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Nn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Nn(a,e,void 0,void 0,o);i=l}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Nn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Nn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):_o(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=lo({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=lo({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=wr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=wr.notNull){return this.nullability(!1,e)}required(e=wr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=wr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=lo(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=J1(e).map(i=>new ro(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Uc(s,n):Uc.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=lo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=wr.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=lo({message:n,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),r}notOneOf(e,n=wr.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=lo({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:i,nullable:o}=n.spec;return{meta:s,label:r,optional:i,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}rr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])rr.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=NF(this,e,n,r.context);return o[t](s&&s[i],Object.assign({},r,{parent:s,path:e}))};for(const t of["equals","is"])rr.prototype[t]=rr.prototype.oneOf;for(const t of["not","nope"])rr.prototype[t]=rr.prototype.notOneOf;const VF=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function LF(t){const e=yp(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function yp(t){var e,n;const r=VF.exec(t);return r?{year:rs(r[1]),month:rs(r[2],1)-1,day:rs(r[3],1),hour:rs(r[4]),minute:rs(r[5]),second:rs(r[6]),millisecond:r[7]?rs(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:rs(r[10]),minuteOffset:rs(r[11])}:null}function rs(t,e=0){return Number(t)||e}let $F=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,FF=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,UF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,BF="^\\d{4}-\\d{2}-\\d{2}",jF="\\d{2}:\\d{2}:\\d{2}",HF="(([+-]\\d{2}(:?\\d{2})?)|Z)",qF=new RegExp(`${BF}T${jF}(\\.\\d+)?${HF}$`),WF=t=>us(t)||t===t.trim(),zF={}.toString();function Ot(){return new nA}class nA extends rr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===zF?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||wr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=On.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=On.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=On.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||On.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=On.email){return this.matches($F,{name:"email",message:e,excludeEmptyString:!0})}url(e=On.url){return this.matches(FF,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=On.uuid){return this.matches(UF,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(qF,{name:"datetime",message:n||On.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||On.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const o=yp(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||On.datetime_precision,params:{precision:s},skipAbsent:!0,test:i=>{if(!i||s==null)return!0;const o=yp(i);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=On.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:WF})}lowercase(e=On.lowercase){return this.transform(n=>us(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>us(n)||n===n.toLowerCase()})}uppercase(e=On.uppercase){return this.transform(n=>us(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>us(n)||n===n.toUpperCase()})}}Ot.prototype=nA.prototype;let GF=t=>t!=+t;function rA(){return new sA}class sA extends rr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!GF(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Ss.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Ss.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Ss.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Ss.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Ss.positive){return this.moreThan(0,e)}negative(e=Ss.negative){return this.lessThan(0,e)}integer(e=Ss.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>us(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>us(s)?s:Math[e](s))}}rA.prototype=sA.prototype;let YF=new Date(""),KF=t=>Object.prototype.toString.call(t)==="[object Date]";class tf extends rr{constructor(){super({type:"date",check(e){return KF(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=LF(e),isNaN(e)?tf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ro.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=gp.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=gp.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}tf.INVALID_DATE=YF;tf.prototype;function QF(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let l=Vi.split(o)[0];r.add(l),s.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ro.isRef(a)&&a.isSibling?i(a.path,o):ef(a)&&"deps"in a&&a.deps.forEach(l=>i(l,o))}return xF.array(Array.from(r),n).reverse()}function l0(t,e){let n=1/0;return t.some((r,s)=>{var i;if((i=e.path)!=null&&i.includes(r))return n=s,!0}),n}function iA(t){return(e,n)=>l0(t,e)-l0(t,n)}const oA=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function rc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=rc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=rc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(rc)}):"optional"in t?t.optional():t}const XF=(t,e)=>{const n=[...Vi.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),s=Vi.getter(Vi.join(n),!0)(t);return!!(s&&r in s)};let u0=t=>Object.prototype.toString.call(t)==="[object Object]";function JF(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const ZF=iA([]);function Jo(t){return new aA(t)}class aA extends rr{constructor(e){super({type:"object",check(n){return u0(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=ZF,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=i[d],h=d in s;if(f){let p,y=s[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:y,context:n.context,parent:l});let T=f instanceof rr?f.spec:void 0,C=T==null?void 0:T.strict;if(T!=null&&T.strip){c=c||d in s;continue}p=!n.__validating||!C?f.cast(s[d],u):s[d],p!==void 0&&(l[d]=p)}else h&&!o&&(l[d]=s[d]);(h!==d in l||l[d]!==s[d])&&(c=!0)}return c?l:s}_validate(e,n={},r,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...i],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!u0(u)){s(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||ro.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{s(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?i:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const i=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=QF(e,n),r._sortErrors=iA(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return rc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Vi.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return XF(i,e)&&(o=Object.assign({},i),r||delete o[e],o[n]=s(i)),o})}json(){return this.transform(oA)}noUnknown(e=!0,n=vp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=JF(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=vp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(Zf.camelCase)}snakeCase(){return this.transformKeys(Zf.snakeCase)}constantCase(){return this.transformKeys(e=>Zf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[i,o]of Object.entries(n.fields)){var s;let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=o.describe(a)}return r}}Jo.prototype=aA.prototype;function lA(t){return new uA(t)}class uA extends rr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const i=r.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(s=!0),l});return s?i:r}_validate(e,n={},r,s){var i;let o=this.innerType,a=(i=n.recursive)!=null?i:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,u)=>{var c;if(!a||!o||!this._typeCheck(u)){s(l,u);return}let d=new Array(u.length);for(let h=0;h<u.length;h++){var f;d[h]=o.asNestedTest({options:n,index:h,parent:u,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:u,tests:d,originalValue:(c=n.originalValue)!=null?c:e,options:n},r,h=>s(h.concat(l),u))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(oA)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!ef(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+hs(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=nc.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||nc.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||nc.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,s,i)=>!e(r,s,i):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);if(n.innerType){var s;let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),r.innerType=n.innerType.describe(i)}return r}}lA.prototype=uA.prototype;function e3(t){return t.replace(/\[(\d+)\]/g,".$1")}function t3(t){const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(n.includes("[")&&n.includes("]")){const r=e3(n);e[r]=t[n]}else e[n]=t[n];return e}const n3=Xd(Jo().shape({firstName:Ot().required("El nombre es obligatorio"),lastName:Ot().required("El apellido es obligatorio"),phone:Ot().matches(/^\d{6,10}$/,"El número de teléfono debe tener 10 dígitos").required("El teléfono es obligatorio"),cars:lA().of(Jo().shape({brand:Ot().required("La marca del automóvil es obligatoria"),model:Ot().required("El modelo del automóvil es obligatorio"),year:rA().typeError("El año del automóvil es obligatorio").required("El año del automóvil es obligatorio").min(1900,"El año debe ser mayor a 1900").max(new Date().getFullYear(),"El año no puede ser mayor al actual"),mileage:Ot().required("El kilometraje es obligatorio"),fuelType:Ot().required("El tipo de combustible es obligatorio"),plate:Ot().required("La placa es obligatorio"),useType:Ot().required("El tipo de uso del vehículo es obligatorio"),soatExpiry:Ot().typeError("La fecha de vencimiento del SOAT es obligatoria").required("La fecha de vencimiento del SOAT es obligatoria"),ngvLpgCertificationDate:Ot().when("fuelType",([t],e)=>["glp","gnv"].includes(t)?e.required("La fecha de revisión técnica anual es obligatoria"):e.notRequired()),vehicleInspectionDate:Ot().typeError("La fecha de inspección técnica anual es obligatoria").required("La fecha de inspección técnica anual es obligatoria")}))})),es=Xi("user",()=>{const{errors:t,defineField:e,handleSubmit:n,meta:r,isSubmitting:s}=Qd({validationSchema:n3,initialValues:{firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}]}}),i=ue(()=>t3(t.value)),[o,a]=e("firstName"),[l,u]=e("lastName"),[c,d]=e("phone"),{remove:f,insert:h,fields:p,replace:y}=eF("cars"),T=ae(""),C=ae(""),k=en({latitude:"",longitude:""}),R=en({country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""}),m=q=>{Object.assign(R,{country:q.country||"",administrative_area_level_1:q.administrative_area_level_1||"",administrative_area_level_2:q.administrative_area_level_2||"",locality:q.locality||"",sublocality:q.sublocality||"",route:q.route||"",street_number:q.street_number||"",postal_code:q.postal_code||""})},P=q=>{Object.assign(k,{latitude:q.latitude||"",longitude:q.longitude||""})};function b(){h(0,{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""})}function _(q){f(q)}function I(q){C.value=q.uid||C.value||"",o.value=q.firstName||"",l.value=q.lastName||"",c.value=q.phone||"",y(q.cars||[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}])}function O(){C.value="",o.value="",l.value="",c.value="",y([{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}])}async function F(q){if(q){const le=fp(Ja,"users"),L=k1(le,D1("uid","==",q)),A=await M1(L);let K=null;A.docs.map(te=>{K=te.data(),T.value=te.id,I(K)})}else return[]}async function Q(q){try{const le=fp(Ja,"users"),L={uid:q,firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}]};I(L);const A=await qL(le,L);return T.value=A.id,A}catch(le){throw le}}async function M(q){try{const le={firstName:o.value,lastName:l.value,phone:c.value,...q};I(le);const L=cg(Ja,"users",T.value);await N1(L,le)}catch(le){throw le}}return{id:T,uid:C,firstName:o,firstNameProps:a,lastName:l,lastNameProps:u,phone:c,phoneProps:d,deleteCar:_,addCar:b,replaceCars:y,cars:p,errors:i,handleSubmit:n,meta:r,isSubmitting:s,setUser:I,getUserByUid:F,createUser:Q,updateUser:M,resetUser:O,location:R,setUserLocation:m,coordinates:k,setUserCoordinates:P}}),so=Xi("auth",()=>{const t=ae(""),e=ae(""),n=ae(""),r=ae(!1),s=ae(!1);function i(a){r.value=a}async function o(){return new Promise((a,l)=>{try{Qo.onAuthStateChanged(u=>{s.value=!!u,u&&(e.value=u.email,n.value=u.uid,t.value=u.displayName),a()})}catch(u){l(u)}})}return{isLoading:r,setIsLoading:i,email:e,uid:n,displayName:t,getFirebaseUser:o,isAuthenticated:s}}),nf=Xi("loginModal",()=>{const t=Xd(Jo({email:Ot().required().email(),password:Ot().min(6).required()})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i}=Qd({validationSchema:t}),o=ae(!1),a=ae(!1),[l,u]=n("email"),[c,d]=n("password");function f(y){o.value=y}function h(y){a.value=y}function p(){h(!0)}return{email:l,password:c,emailProps:u,passwordProps:d,errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,isLoading:o,showModal:a,setIsLoading:f,setShowModal:h,handleShowLoginModal:p}}),rf=Xi("registerModal",()=>{const t=Xd(Jo({email:Ot().required().email(),password:Ot().min(6).required()})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i}=Qd({validationSchema:t}),o=ae(!1),a=ae(!1),[l,u]=n("email"),[c,d]=n("password");function f(y){o.value=y}function h(y){a.value=y}function p(){h(!0)}return{email:l,password:c,emailProps:u,passwordProps:d,errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,isLoading:o,showModal:a,setIsLoading:f,setShowModal:h,handleShowRegisterModal:p}}),xg=Xi("locationModal",()=>{const t=ae(!1),e=ae(!1);function n(i){t.value=i}function r(i){e.value=i}function s(){r(!0)}return{isLoading:t,showModal:e,setIsLoading:n,setShowModal:r,handleShowRegisterModal:s}}),cA=Xi("contactModal",()=>{const t=Xd(Jo({selectedCar:Ot().required("Debe registrar por lo menos un atomóvil."),selectedMotive:Ot().when("key",([O],F)=>["tuning","brakingSystem","airConditioning"].includes(O)?F.required("Debe seleccionar un motivo"):F.notRequired()),selectedService:Ot().required(),motiveDetail:Ot().when(["key","selectedMotive"],([O,F],Q)=>F=="otros"||O=="generalConsultation"?Q.required("Por favor, proporcione algún detalle"):Q.notRequired()),key:Ot().required(),oilType:Ot().when("key",([O],F)=>O=="oilChange"?F.required("Debe seleccionar un tipo de aceite"):F.notRequired())})),{errors:e,defineField:n,handleSubmit:r,meta:s,isSubmitting:i,resetForm:o}=Qd({validationSchema:t}),a=ae(!1),l=ae(!1),[u,c]=n("selectedCar"),[d,f]=n("selectedMotive"),[h,p]=n("selectedService"),[y,T]=n("motiveDetail"),[C,k]=n("key"),[R,m]=n("oilType");function P(O){a.value=O}function b(O){l.value=O}function _(O){h.value=O.name,C.value=O.key,b(!0)}function I(O){u.value=O}return{selectedCar:u,selectedCarProps:c,selectedMotive:d,selectedMotiveProps:f,selectedService:h,selectedServiceProps:p,oilType:R,oilTypeProps:m,key:C,keyProps:k,motiveDetail:y,motiveDetailProps:T,setSelectedCar:I,errors:e,defineField:n,handleSubmit:r,resetForm:o,meta:s,isSubmitting:i,isLoading:a,showModal:l,setIsLoading:P,setShowModal:b,handleShowContactModal:_}}),r3=nt({__name:"App",setup(t){const e=xg(),n=es(),r=so();async function s(){navigator.geolocation?await new Promise((i,o)=>{navigator.geolocation.getCurrentPosition(async a=>{n.setUserCoordinates(a.coords);const{Geocoder:l}=await google.maps.importLibrary("geocoding");new l().geocode({location:{lat:a.coords.latitude,lng:a.coords.longitude}},function(c,d){if(d==="OK"){const f={country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""};c[0].address_components.map(h=>{h.types.includes("country")?f.country=h.long_name:h.types.includes("administrative_area_level_1")?f.administrative_area_level_1=h.long_name:h.types.includes("administrative_area_level_2")?f.administrative_area_level_2=h.long_name:h.types.includes("locality")?f.locality=h.long_name:h.types.includes("sublocality")?f.sublocality=h.long_name:h.types.includes("route")?f.route=h.long_name:h.types.includes("street_number")?f.street_number=h.long_name:h.types.includes("postal_code")&&(f.postal_code=h.long_name)}),n.setUserLocation(f)}else console.error("Error al geocodificar la dirección:",d)}),i()},a=>{a.code===a.PERMISSION_DENIED&&e.setShowModal(!0),o()})}):console.error("Geolocalización no es compatible con este navegador.")}return Lt(async()=>{r.setIsLoading(!0),await r.getFirebaseUser().then(async()=>{await n.getUserByUid(r==null?void 0:r.uid).then(()=>{r.setIsLoading(!1),s()})})}),(i,o)=>g(r).isLoading?(V(),Ue(VR,{key:0})):(V(),Ue(g(Tw),{key:1}))}}),s3={class:"z-10 flex sm:flex-row flex-col justify-between items-center bg-white w-full px-4 py-4 drop-shadow-xl sticky"},i3={class:"flex flex-row justify-start items-center sm:mb-0 mb-5"},o3=S("p",{class:"cursor-default text-blue-700 border-blue-700 text-4xl font-bold border-4 rounded-xl px-1 hidden sm:block"},"AUTOWASI",-1),a3={class:"flex flex-col justify-center items-center sm:mx-7"},l3=S("span",{class:"cursor-default flex flex-row items-center px-2 rounded-sm"},[S("p",{class:"text-blue-700 font-black mr-2"},"Ubicación"),S("i",{class:"fas fa-map-marker-alt text-blue-700"})],-1),u3={class:"flex flex-row items-center"},c3={class:"cursor-default w-fit px-2 text-center text-gray-700 font-semibold py-1"},d3={class:"flex flex-row justify-between items-center"},f3={class:"flex flex-row justify-between items-center"},h3={class:"flex flex-row justify-between items-center"},p3=S("i",{class:"fa-solid fa-user mr-2 text-blue-700"},null,-1),m3={class:"text-blue-700 font-black"},g3=S("div",{class:"absolute w-0 h-0",style:{top:"-8px",left:"60px","border-left":"7px solid transparent","border-right":"7px solid transparent","border-bottom":"7px solid #1e3a8a"}},null,-1),v3=nt({__name:"TopBar",setup(t){const{handleShowLoginModal:e}=nf(),{handleShowRegisterModal:n}=rf(),r=es(),s=so(),i=xg(),o=sa(),a=ae(!1);async function l(){try{s.setIsLoading(!0),await yO(Qo).then(()=>{r.resetUser(),o.push({name:"Home"})}).finally(()=>{s.setIsLoading(!1)})}catch(u){console.error("Error al cerrar sesión:",u)}}return(u,c)=>(V(),Y("div",s3,[S("div",i3,[o3,S("div",a3,[l3,S("span",u3,[S("p",c3,[g(r).location.postal_code?(V(),Y(Me,{key:0},[It(Le(g(r).location.administrative_area_level_2)+", "+Le(g(r).location.administrative_area_level_1),1)],64)):(V(),Y(Me,{key:1},[It("Seleccionar una ubicación")],64))]),S("i",{onClick:c[0]||(c[0]=d=>g(i).setShowModal(!0)),class:"fa-solid fa-pen-to-square cursor-pointer hover:text-blue-500"})])])]),S("div",d3,[S("div",f3,[g(s).isAuthenticated?(V(),Y("div",{key:0,class:"cursor-default bg-white rounded-md sm:mr-10 h-12 min-w-fit px-2 flex flex-col justify-center items-center",onMouseenter:c[1]||(c[1]=d=>a.value=!0),onMouseleave:c[2]||(c[2]=d=>a.value=!1)},[S("div",h3,[p3,S("p",m3,Le(String(g(s).displayName||"").split(" ")[0]||g(s).email||"-"),1)]),a.value?(V(),Y("button",{key:0,onClick:l,class:"cursor-pointer py-1 font-normal rounded-md border-blue-100 border-2 hover:bg-blue-100 text-blue-700 hover:border-blue-700 bg-white w-36 top-[9em] sm:top-[4.3em] absolute flex flex-col justify-between items-center"},[g3,It(" Cerrar sesión ")])):ie("",!0)],32)):(V(),Y(Me,{key:1},[S("button",{onClick:c[3]||(c[3]=(...d)=>g(e)&&g(e)(...d)),class:"font-bold w-40 px-5 py-2 rounded-lg hover:border-blue-700 border-2 text-blue-700 bg-blue-100 mr-3"},"INGRESAR"),S("button",{onClick:c[4]||(c[4]=(...d)=>g(n)&&g(n)(...d)),class:"font-bold w-40 px-5 py-2 rounded-lg hover:border-blue-700 border-2 text-blue-700 bg-blue-100"},"REGISTRARSE")],64))])])]))}}),y3={class:"z-20"},_3={key:0,class:"fas fa-times pl-2 pt-1 text-3xl bg-white"},b3={key:1,class:"fas fa-bars pl-2 pt-1 text-3xl bg-white"},w3=nt({__name:"SideBar",setup(t){const e=sa(),n=ae(!1),r=so(),s=es();function i(){n.value=!n.value}function o(a){return Object.is(e.currentRoute.value.name,a)}return(a,l)=>{const u=Bp("router-link");return V(),Y("div",y3,[S("div",{onClick:i,class:Ve([{"w-44":n.value,"w-6.5":!n.value},"bg-white cursor-pointer sm:hidden flex fixed top-0"])},[n.value?(V(),Y("i",_3)):(V(),Y("i",b3))],2),S("div",{class:Ve([{"flex top-[2.5rem]":n.value,"hidden sm:flex top-[5.5rem]":!n.value},"flex-col justify-start items-center h-full w-44 bg-white drop-shadow-xl fixed border-t-2 border-gray-100"])},[g(s).location.administrative_area_level_2=="Trujillo"?(V(),Ue(u,{key:0,class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("AllServices"),"text-blue-500 font-semibold bg-white border-gray-100":!o("AllServices")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"AllServices"}},{default:Fe(()=>[It("Servicios a domicilio")]),_:1},8,["class"])):ie("",!0),qe(u,{class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("CarWashServices"),"text-blue-500 font-semibold bg-white border-gray-100":!o("CarWashServices")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"CarWashServices"}},{default:Fe(()=>[It("Lavaderos")]),_:1},8,["class"]),g(r).isAuthenticated?(V(),Ue(u,{key:1,class:Ve([{"text-blue-700 font-bold bg-rose-100 border-rose-100":o("Profile"),"text-blue-500 font-semibold bg-white border-gray-100":!o("Profile")},"hover:text-blue-700 hover:font-bold drop-shadow-md py-1 border-b-2 w-full text-left pl-3"]),to:{name:"Profile"}},{default:Fe(()=>[It("Mi perfil")]),_:1},8,["class"])):ie("",!0)],2)])}}}),T3={class:"fixed w-screen h-screen top-0 left-0 flex flex-row justify-center items-center bg-black bg-opacity-80 z-30"},E3={key:0,class:"w-full flex flex-row justify-end items-center mb-1"},A3={class:"w-full h-full flex flex-col justify-center items-center mt-0 mb-5"},fa=nt({__name:"Modal",props:{width:{default:"w-1/2"},height:{default:"h-3/4"},showCloseIcon:{type:Boolean,default:!0}},emits:["closeModal"],setup(t,{emit:e}){const n=t;return(r,s)=>(V(),Y("div",T3,[S("div",{class:Ve(["flex flex-col justify-start items-center bg-white rounded-lg pt-2 px-4",n.width+" "+n.height])},[r.showCloseIcon?(V(),Y("div",E3,[S("i",{onClick:s[0]||(s[0]=i=>r.$emit("closeModal")),class:"fas fa-times text-lg font-bold cursor-pointer"})])):ie("",!0),S("div",A3,[De(r.$slots,"default",{},()=>[It("MODAL")])])],2)]))}}),x3={key:1,class:"w-full flex flex-col justify-center items-center"},I3={key:0,class:"text-sm flex flex-row justify-center items-center mb-10"},S3=S("p",{class:"rounded-xs font-semibold px-4 py-1 bg-red-100 text-red-800 cursor-default mr-1"},"El correo o la contraseña son incorrectos",-1),C3=[S3],P3={key:1,class:"text-sm flex flex-row justify-center items-center mb-10"},R3=S("p",{class:"cursor-default mr-1"},"¿No tienes una cuenta?",-1),k3={class:"flex flex-col rounded-md w-full"},D3={class:"flex flex-col w-full"},O3=["disabled"],M3=S("div",{class:"flex flex-row justify-between items-baseline"},[S("hr",{class:"h-[2px] w-24 bg-[#ededed]"}),S("p",{class:"my-4 mx-2 text-gray-500"},"o"),S("hr",{class:"h-[2px] w-24 bg-[#ededed]"})],-1),N3=S("svg",{class:"h-6",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[S("g",null,[S("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),S("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),S("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),S("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),S("path",{fill:"none",d:"M0 0h48v48H0z"})])],-1),V3=S("p",{class:"ml-3"},"Iniciar sesión con Google",-1),L3=[N3,V3],$3=nt({__name:"LoginModal",setup(t){const e=nf(),n=rf(),r=es(),s=so(),i=sa(),o=ae(!1);function a(){e.setShowModal(!1),n.setShowModal(!0)}const l=async()=>{try{e.setIsLoading(!0),o.value=!1;const d=new Ir;await pT(Qo,d).then(async({user:{uid:f}})=>{await r.getUserByUid(f).then(async()=>{r.uid?(e.setIsLoading(!1),e.setShowModal(!1)):await r.createUser(f).then(()=>{e.setIsLoading(!1),e.setShowModal(!1),i.push({name:"Profile"})})})})}catch(d){n.setIsLoading(!1),o.value=!0,console.error("Error al iniciar sesión con Google:",d)}},u=async()=>{try{o.value=!1,e.setIsLoading(!0),await mO(Qo,e.email||"",e.password||"").then(async()=>{await r.getUserByUid(s==null?void 0:s.uid),e.setIsLoading(!1),e.setShowModal(!1)})}catch(d){o.value=!0,e.setIsLoading(!1),console.error("Error al iniciar sesión con correo y contraseña:",d)}},c=e.handleSubmit(()=>{u()},()=>{s.setIsLoading(!1)});return(d,f)=>g(e).showModal?(V(),Ue(fa,{key:0,onCloseModal:f[3]||(f[3]=h=>g(e).setShowModal(!1)),width:"w-3/4",height:"h-3/4",showCloseIcon:!0},{default:Fe(()=>[g(e).isLoading?(V(),Ue(fd,{key:0})):(V(),Y("div",x3,[o.value?(V(),Y("span",I3,C3)):(V(),Y("span",P3,[R3,S("p",{class:"cursor-pointer bg-white font-semibold",onClick:a},"Registrate gratis")])),S("form",{onSubmit:f[2]||(f[2]=vt((...h)=>g(c)&&g(c)(...h),["prevent"])),class:"rounded-md w-full sm:w-2/5 flex flex-col justify-center items-center"},[S("div",k3,[S("label",{for:"email",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":g(e).meta.touched&&g(e).errors&&g(e).errors.email}])},"Correo electrónico",2),ut(S("input",Wt({class:[{"border-red-400 border-2 rounded-xs":g(e).meta.touched&&g(e).errors&&g(e).errors.email},"h-8 mb-2 pl-2 bg-blue-100 rounded-md"],style:{outline:"none"},type:"email",id:"email","onUpdate:modelValue":f[0]||(f[0]=h=>g(e).email=h)},g(e).emailProps),null,16),[[hn,g(e).email]])]),S("div",D3,[S("label",{for:"password",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":g(e).meta.touched&&g(e).errors&&g(e).errors.password}])},"Contraseña",2),ut(S("input",Wt({class:[{"border-red-400 border-2 rounded-xs":g(e).meta.touched&&g(e).errors&&g(e).errors.password},"h-8 mb-2 pl-2 bg-blue-100 rounded-md"],style:{outline:"none"},type:"password",id:"password","onUpdate:modelValue":f[1]||(f[1]=h=>g(e).password=h)},g(e).passwordProps,{placeholder:"Mínimo 6 carácteres"}),null,16),[[hn,g(e).password]])]),S("button",{disabled:g(e).isSubmitting,type:"submit",class:"w-full flex flex-row justify-center items-center mt-3 py-1 rounded-md bg-blue-600 hover:opacity-80 text-blue-100 font-bold"},Le(g(e).isSubmitting?"Cargando":"Iniciar sesión"),9,O3),M3],32),S("button",{type:"button",class:"mt-2 flex flex-row justify-evenly items-center bg-white border-blue-100 border-2 w-fit rounded-md px-3 py-1 hover:opacity-60",onClick:l},L3)]))]),_:1})):ie("",!0)}}),F3={key:1,class:"w-full flex flex-col justify-center items-center"},U3={key:0,class:"text-sm flex flex-row justify-center items-center mb-10"},B3=S("p",{class:"rounded-xs font-semibold px-4 py-1 bg-red-100 text-red-800 cursor-default mr-1"},"El correo o la contraseña son incorrectos",-1),j3=[B3],H3=S("p",{class:"cursor-default mr-1"},"¿Ya tienes una cuenta?",-1),q3={class:"flex flex-col rounded-md w-full"},W3={class:"flex flex-col w-full"},z3=["disabled"],G3=S("div",{class:"flex flex-row justify-between items-baseline"},[S("hr",{class:"h-[2px] w-24 bg-[#ededed]"}),S("p",{class:"my-4 mx-2 text-gray-500"},"o"),S("hr",{class:"h-[2px] w-24 bg-[#ededed]"})],-1),Y3=S("svg",{class:"h-6",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[S("g",null,[S("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),S("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),S("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),S("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),S("path",{fill:"none",d:"M0 0h48v48H0z"})])],-1),K3=S("p",{class:"ml-3"},"Registrarse con Google",-1),Q3=[Y3,K3],X3=nt({__name:"RegisterModal",setup(t){const e=sa(),n=rf(),r=nf(),s=es(),i=so(),o=ae(!1);function a(){n.setShowModal(!1),r.setShowModal(!0)}const l=async()=>{try{o.value=!1,n.setShowModal(!0),await pO(Qo,n.email||"",n.password||"").then(async({user:{uid:d}})=>{await s.createUser(d).then(()=>{n.setShowModal(!1),e.push({name:"Profile"})})})}catch(d){o.value=!0,console.error("Error al registrar el usuario:",d)}},u=async()=>{try{n.setIsLoading(!0),o.value=!1;const d=new Ir;await pT(Qo,d).then(async({user:{uid:f}})=>{await s.getUserByUid(f).then(async()=>{s.uid?(n.setShowModal(!1),n.setIsLoading(!1)):await s.createUser(f).then(()=>{n.setIsLoading(!1),n.setShowModal(!1),e.push({name:"Profile"})})})})}catch(d){o.value=!0,n.setIsLoading(!1),console.error("Error al iniciar sesión con Google:",d)}},c=n.handleSubmit(()=>l(),()=>i.setIsLoading(!1));return(d,f)=>g(n).showModal?(V(),Ue(fa,{key:0,onCloseModal:f[3]||(f[3]=h=>g(n).setShowModal(!1)),width:"w-3/4",height:"h-3/4",showCloseIcon:!0},{default:Fe(()=>[g(n).isLoading?(V(),Ue(fd,{key:0})):(V(),Y("div",F3,[o.value?(V(),Y("span",U3,j3)):ie("",!0),S("span",{class:"text-sm flex flex-row justify-center items-center mb-10"},[H3,S("p",{class:"cursor-pointer bg-white font-semibold",onClick:a},"Inicia sesión")]),S("form",{onSubmit:f[2]||(f[2]=vt((...h)=>g(c)&&g(c)(...h),["prevent"])),class:"rounded-md w-full sm:w-2/5 flex flex-col justify-center items-center"},[S("div",q3,[S("label",{for:"email",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":g(n).meta.touched&&g(n).errors&&g(n).errors.email}])},"Correo electrónico",2),ut(S("input",Wt({class:["h-8 mb-2 pl-2 bg-blue-100 rounded-md",{"border-red-400 border-2 rounded-xs":g(n).meta.touched&&g(n).errors&&g(n).errors.email}],style:{outline:"none"},type:"email",id:"email","onUpdate:modelValue":f[0]||(f[0]=h=>g(n).email=h)},g(n).emailProps),null,16),[[hn,g(n).email]])]),S("div",W3,[S("label",{for:"password",class:Ve(["bg-white font-semibold text-xs mb-1",{"text-xs text-red-700 font-medium pl-2":g(n).meta.touched&&g(n).errors&&g(n).errors.password}])},"Contraseña",2),ut(S("input",Wt({class:["h-8 mb-2 pl-2 bg-blue-100 rounded-md",{"border-red-400 border-2 rounded-xs":g(n).meta.touched&&g(n).errors&&g(n).errors.password}],style:{outline:"none"},type:"password",id:"password","onUpdate:modelValue":f[1]||(f[1]=h=>g(n).password=h)},g(n).passwordProps,{placeholder:"Mínimo 6 carácteres"}),null,16),[[hn,g(n).password]])]),S("button",{disabled:g(n).isSubmitting,type:"submit",class:"w-full flex flex-row justify-center items-center mt-3 py-1 rounded-md bg-blue-600 hover:opacity-80 text-blue-100 font-bold"},Le(g(r).isSubmitting?"Cargando":"Registrarse"),9,z3),G3],32),S("button",{type:"button",class:"mt-2 flex flex-row justify-evenly items-center bg-white border-blue-100 border-2 w-fit rounded-md px-3 py-1 hover:opacity-60",onClick:u},Q3)]))]),_:1})):ie("",!0)}}),J3={id:"address-form",class:"w-full h-full flex flex-col justify-between items-center"},Z3={class:"w-full h-full mt-10 px-10 flex flex-col justify-start items-center"},e4=S("label",{for:"autocomplete-input",class:"mb-3 text-center"},"Es necesario ingresar una dirección:",-1),t4={key:0,class:"w-full bg-blue-50 rounded-xs"},n4=["onClick"],r4={class:"py-2 px-4"},s4={class:"bg-black text-white text-sm py-1 px-2 rounded-lg absolute bottom-40"},i4=nt({__name:"LocationModal",setup(t){const e=xg(),n=es(),r=ae(""),s=ae({predictions:[{description:""}]}),i=ae({description:"",place_id:""}),o=ae(!1);let a=null;function l(){a&&(clearTimeout(a),i.value={description:"",place_id:""});try{a=setTimeout(async()=>{const{AutocompleteService:d}=await google.maps.importLibrary("places");s.value=await new d().getPlacePredictions({input:r.value})},200)}catch(d){console.log("error",d)}}async function u(d){const{Geocoder:f}=await google.maps.importLibrary("geocoding");new f().geocode({placeId:d},function(p,y){if(y==="OK"){const T=p[0].geometry.location,C={country:"",administrative_area_level_1:"",administrative_area_level_2:"",locality:"",sublocality:"",route:"",street_number:"",postal_code:""};p[0].address_components.map(k=>{k.types.includes("country")?C.country=k.long_name:k.types.includes("administrative_area_level_1")?C.administrative_area_level_1=k.long_name:k.types.includes("administrative_area_level_2")?C.administrative_area_level_2=k.long_name:k.types.includes("locality")?C.locality=k.long_name:k.types.includes("sublocality")?C.sublocality=k.long_name:k.types.includes("route")?C.route=k.long_name:k.types.includes("street_number")?C.street_number=k.long_name:k.types.includes("postal_code")&&(C.postal_code=k.long_name)}),n.setUserLocation(C),n.setUserCoordinates({latitude:T.lat(),longitude:T.lng()})}else console.error("Error al geocodificar la dirección:",y)})}function c(d){i.value=d,r.value=d.description,u(d.place_id)}return(d,f)=>g(e).showModal?(V(),Ue(fa,{key:0,onCloseModal:f[4]||(f[4]=h=>g(e).setShowModal(!1)),showCloseIcon:!1,width:"sm:w-1/3 w-full",height:"h-2/3"},{default:Fe(()=>[S("form",J3,[S("span",Z3,[e4,ut(S("input",{"onUpdate:modelValue":f[0]||(f[0]=h=>r.value=h),onInput:l,class:"pl-2 w-full h-10 bg-blue-100 rounded-md",style:{outline:"none"},type:"text",id:"autocomplete-input",name:"autocomplete-input"},null,544),[[hn,r.value]]),r.value&&!i.value.place_id?(V(),Y("ul",t4,[(V(!0),Y(Me,null,ct(s.value.predictions,(h,p)=>(V(),Y("li",{key:p,class:"cursor-pointer text-sm hover:bg-blue-100 hover:font-medium",onClick:y=>c(h)},[S("div",r4,Le(h.description),1)],8,n4))),128))])):ie("",!0)]),S("button",{class:Ve(["bg-blue-700 px-4 py-2 mb-10 text-blue-100 font-bold rounded-md hover:opacity-70",{"opacity-70":!i.value.place_id}]),type:"button",onClick:f[1]||(f[1]=h=>g(e).setShowModal(!1)),onMouseover:f[2]||(f[2]=h=>o.value=!i.value.place_id),onMouseleave:f[3]||(f[3]=h=>o.value=!1)},[It("ACEPTAR "),ut(S("span",s4,"Selecciona un opción sugerida.",512),[[Fa,o.value&&!i.value.place_id]])],34)])]),_:1})):ie("",!0)}}),o4={key:1,class:"w-2/3 h-4/5 flex flex-col sm:flex-row justify-evenly items-center"},a4=S("p",{class:"text-gray-700 font-bold"},"Es necesario",-1),l4=S("p",{class:"text-gray-700 font-bold"},"o",-1),u4=S("p",{class:"text-gray-700 font-bold"},"para continuar",-1),c4={key:2,class:"w-full h-full flex flex-col justify-center items-center"},d4={class:"w-full h-full flex flex-col justify-evenly items-center py-10"},f4={class:"text-gray-700 text-md text-center mb-2"},h4={class:"font-black text-blue-700 underline"},p4={class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},m4=S("label",{for:"car",class:"mb-2 text-xs text-left text-blue-700 font-black"},"Selecciona tu auto:",-1),g4=["value"],v4={class:"text-xs text-red-700 font-medium pl-2"},y4={key:0,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},_4=S("label",{for:"reason",class:"mb-2 text-xs text-blue-700 font-black"},"Motivo de la consulta:",-1),b4=S("option",{class:"text-xs",value:"prevención"},"Prevención",-1),w4=S("option",{class:"text-xs",value:"fallas existentes"},"Fallas existentes",-1),T4=S("option",{class:"text-xs",value:"mantenimiento"},"Mantenimiento preventivo",-1),E4=S("option",{class:"text-xs",value:"inspección"},"Inspección",-1),A4=S("option",{class:"text-xs",value:"fallas existentes"},"Fallas existentes",-1),x4=S("option",{class:"text-xs",value:"otros"},"Otros",-1),I4=S("option",{class:"text-xs",value:"mantenimiento"},"Mantenimiento preventivo",-1),S4=S("option",{class:"text-xs",value:"reparación"},"Reparación",-1),C4={key:0,class:"text-xs text-red-700 font-medium pl-2"},P4={key:1,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},R4=S("label",{for:"reason",class:"mb-2 text-xs text-blue-700 font-black"},"Tipo de aceite:",-1),k4=["value"],D4={key:0,class:"text-xs text-red-700 font-medium pl-2"},O4={key:2,class:"flex flex-col justify-center items-start bg-blue-200 px-10 py-4 rounded-md"},M4=S("label",{for:"model",class:"mb-2 text-xs text-blue-700 font-black"},"Detalle del motivo",-1),N4={key:0,class:"text-xs text-red-700 font-medium pl-2"},V4=947387067,L4=nt({__name:"ContactModal",setup(t){const e=nf(),n=rf(),r=cA(),s=es(),i=so();function o(){r.setShowModal(!1),e.setShowModal(!1),n.setShowModal(!0)}function a(){r.setShowModal(!1),n.setShowModal(!1),e.setShowModal(!0)}const l=["tuning","brakingSystem","airConditioning"],u=en(["Castrol EDGE (0W-20)","Castrol EDGE (5W-20)","Castrol EDGE (5W-30)","Castrol (GTX 5W-20)","Castrol (GTX 5W-30)","Mobil 1 (0W-20)","Mobil 1 (5W-20)","Mobil 1 (5W-30)","Pennzoil Platinum (0W-20)","Pennzoil Platinum (5W-20)","Pennzoil Platinum (5W-30)","Pennzoil High Mileage (5W-20)","Pennzoil High Mileage (5W-30)","Valvoline Full Synthetic (0W-20)","Valvoline Full Synthetic (5W-20)","Valvoline Full Synthetic (5W-30)","Valvoline High Mileage (5W-20)","Valvoline High Mileage (5W-30)","Shell Helix Ultra (0W-20)","Shell Helix Ultra (5W-20)","Shell Helix Ultra (5W-30)"]),c=ue(()=>{const h=`https://api.whatsapp.com/send?phone=${V4}&text=Mi%20nombre%20es%20*${s.firstName}*,%20ID%20*${s.uid}*,%20tengo%20un%20*${r.selectedCar}*%20y%20requiero%20servicio%20de%20*${r.selectedService}*`,p=r.selectedMotive?`%20por%20motivos%20de%20*${r.selectedMotive}*`:"",y=r.motiveDetail?`%20(Detalles%20*${r.motiveDetail}*)`:"",T=r.oilType?`%20con%20aceite%20*${r.oilType}*`:"";return h+p+y+T+"."});function d(){r.handleSubmit(h=>{window.open(c.value,"_blank")})()}function f(){r.resetForm(),r.setShowModal(!1)}return(h,p)=>{const y=Bp("router-link");return g(r).showModal?(V(),Ue(fa,{key:0,onCloseModal:p[4]||(p[4]=T=>g(r).setShowModal(!1)),width:"w-3/4",height:"h-4/5",showCloseIcon:!0},{default:Fe(()=>[g(r).isLoading?(V(),Ue(fd,{key:0})):g(i).isAuthenticated?(V(),Y("div",c4,[S("form",d4,[S("p",f4,[It("Elegiste el servicio de "),S("span",h4,Le(g(r).selectedService),1)]),S("span",p4,[m4,ut(S("select",{id:"car",name:"car","onUpdate:modelValue":p[0]||(p[0]=T=>g(r).selectedCar=T),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":g(r).meta.touched&&g(r).errors.selectedCar}])},[(V(!0),Y(Me,null,ct(g(s).cars,(T,C)=>(V(),Y("option",{class:"text-xs",key:C,value:`${T.value.brand} ${T.value.model}, ${T.value.year}`},Le(T.value.brand)+" "+Le(T.value.model)+", "+Le(T.value.year),9,g4))),128))],2),[[ur,g(r).selectedCar]]),g(r).meta.touched&&g(r).errors.selectedCar?(V(),Y("span",{key:0,onClick:f,class:"flex flex-col justify-start items-start"},[S("p",v4,Le(g(r).errors.selectedCar),1),qe(y,{to:{name:"Profile"},class:"pl-2 cursor-pointer text-xs text-red-700 font-extrabold"},{default:Fe(()=>[It("===> Ir a mi perfil")]),_:1})])):ie("",!0)]),l.includes(g(r).key||"")?(V(),Y("span",y4,[_4,ut(S("select",{id:"reason",name:"reason","onUpdate:modelValue":p[1]||(p[1]=T=>g(r).selectedMotive=T),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":g(r).meta.touched&&g(r).errors.selectedMotive}])},[g(r).key=="tuning"?(V(),Y(Me,{key:0},[b4,w4],64)):g(r).key=="brakingSystem"?(V(),Y(Me,{key:1},[T4,E4,A4,x4],64)):g(r).key=="airConditioning"?(V(),Y(Me,{key:2},[I4,S4],64)):ie("",!0)],2),[[ur,g(r).selectedMotive]]),g(r).meta.touched&&g(r).errors.selectedMotive?(V(),Y("p",C4,Le(g(r).errors.selectedMotive),1)):ie("",!0)])):ie("",!0),g(r).key=="oilChange"?(V(),Y("span",P4,[R4,ut(S("select",{id:"reason",name:"reason","onUpdate:modelValue":p[2]||(p[2]=T=>g(r).oilType=T),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-md",{"border-2 border-red-700":g(r).meta.touched&&g(r).errors.oilType}])},[(V(!0),Y(Me,null,ct(u,(T,C)=>(V(),Y("option",{class:"text-xs",key:C,value:T},Le(T),9,k4))),128))],2),[[ur,g(r).oilType]]),g(r).meta.touched&&g(r).errors.oilType?(V(),Y("p",D4,Le(g(r).errors.oilType),1)):ie("",!0)])):ie("",!0),g(r).selectedMotive=="otros"||g(r).key=="generalConsultation"?(V(),Y("span",O4,[M4,ut(S("textarea",{id:"motiveDetail","onUpdate:modelValue":p[3]||(p[3]=T=>g(r).motiveDetail=T),class:Ve(["outline-none focus:outline-none rounded-md bg-gray-50 w-fit min-w-64 text-xs",{"border-red-400 border-2 rounded-xs":g(r).meta.touched&&g(r).errors.motiveDetail}]),style:{outline:"none"},rows:"2",cols:"20"},null,2),[[hn,g(r).motiveDetail]]),g(r).meta.touched&&g(r).errors.motiveDetail?(V(),Y("p",N4,Le(g(r).errors.motiveDetail),1)):ie("",!0)])):ie("",!0),S("button",{type:"button",onClick:d,class:"mt-2 hover:opacity-80 text-center text-white text-md font-black mr-2 bg-blue-700 px-10 py-2 rounded-md w-fit min-w-52"},"CONTINUAR")])])):(V(),Y("div",o4,[a4,S("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black",onClick:a},"INICIAR SESIÓN"),l4,S("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black",onClick:o},"REGISTRARSE"),u4]))]),_:1})):ie("",!0)}}}),dA=Xi("alert",()=>{const t=ae(!1);function e(n){t.value=n,setTimeout(()=>{t.value=!1},1500)}return{showAlert:t,setShowAlert:e}}),$4=S("p",{class:"text-blue-700 font-bold"},"¡Los datos se actualizaron con éxito!",-1),F4=nt({__name:"Alert",setup(t){const e=dA();return(n,r)=>g(e).showAlert?(V(),Ue(fa,{key:0,onCloseModal:r[0]||(r[0]=s=>g(e).setShowAlert(!1)),width:"w-1/3",height:"h-40",showCloseIcon:!0},{default:Fe(()=>[$4]),_:1})):ie("",!0)}}),U4={},B4={class:"footer"},j4={class:"pt-10 pb-7 px-10 text-center bg-white font-bold"},H4={class:"text-gray-700"};function q4(t,e){return V(),Y("footer",B4,[S("div",j4,[S("p",H4,"© "+Le(new Date().getFullYear())+" AUTOWASI. Todos los derechos reservados.",1)])])}const W4=Ew(U4,[["render",q4]]),z4={class:"flex flex-col w-full h-screen overflow-hidden"},G4={class:"flex flex-row w-full h-full overflow-y-auto"},Y4={class:"md:container md:mx-auto w-full sm:pl-44"},K4={class:"w-full h-full"},sf=nt({__name:"Layout",setup(t){return(e,n)=>(V(),Y("div",z4,[qe($3),qe(X3),qe(i4),qe(L4),qe(F4),qe(v3),S("div",G4,[qe(w3),S("span",Y4,[S("div",K4,[De(e.$slots,"default",{},()=>[It("Add view")]),qe(W4)])])])]))}}),Q4="/assets/adjustable-wrench-R0lMtTwB.png",X4="/assets/fan-CsgU8Uvx.png",J4="/assets/brakes-dzGoctIr.png",Z4="/assets/oil-CdbIrvwP.png",e5="/assets/clean-Bi88ezXv.png",t5="/assets/searching-Cov3dSz6.png",n5={class:"md:container md:mx-auto bg-white pt-12"},r5=S("h1",{class:"text-2xl text-left px-5 text-blue-700 font-bold mb-4"},"SERVICIOS PARA AUTOMÓVILES A DOMICILIO",-1),s5=S("p",{class:"text-left px-5 font-normal text-gray-700 mb-12"},[It("Lista de servicios de mantenimiento y reparación de automóviles "),S("strong",null,"disponibles a domicilio"),It(".")],-1),i5={class:"flex flex-row flex-wrap justify-evenly items-center"},o5={key:0,class:"py-2 text-md flex flex-row justify-center items-baseline cursor-default"},a5=S("p",{class:"text-blue-700 mr-2 underline text-md"},"ver más",-1),l5=S("i",{class:"text-blue-700 fas fa-question-circle text-xs"},null,-1),u5=[a5,l5],c5={class:"my-4 rounded-lg p-2"},d5=["src"],f5=["innerHTML"],h5={key:2,class:"text-center text-base text-blue-500 py-0 mb-4 font-bold w-full"},p5=["onClick"],m5={class:"text-center text-white text-xl font-black mr-2"},g5=S("i",{class:"fab fa-whatsapp text-white font-black text-2xl"},null,-1),v5=nt({__name:"AllServices",setup(t){const e=sa(),n=es(),r=cA(),s=ae([{name:"LAVADO",key:"carWashes",imageSrc:e5,description:'<span class="text-rose-100">Encuentra talleres cerca de ti.</span>',CTAtext:"VER TALLERES",isCarWash:!0,showTooltipHelper:!1},{name:"Afinamiento",key:"tuning",imageSrc:Q4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Servicio regular para mantener el rendimiento óptimo del vehículo.</p>',price:"Desde S/150",rating:4.5,endedServices:37,mobile:"+51 987654321",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0},{name:"Cambio de Aceite",key:"oilChange",imageSrc:Z4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Cambio de aceite y filtro para garantizar un motor saludable.</p>',price:"Desde S/150 (Incluye filtro)",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0},{name:"Sistema de Frenos",key:"brakingSystem",imageSrc:J4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Inspección y reparación de sistemas de frenos para una conducción segura.</p>',price:"Desde S/200",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0},{name:"Sistema de Aire Acondicionado",key:"airConditioning",imageSrc:X4,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Recarga y mantenimiento del sistema de aire acondicionado para un clima interior cómodo.</p>',price:"Desde S/150",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0},{name:"Consulta general + escaneo",key:"generalConsultation",imageSrc:t5,description:'<p class="rounded-md text-md font-black p-2 text-white text-center">Diagnóstico completo para tu vehículo, garantizando su óptimo funcionamiento.</p>',price:"Desde S/50",CTAtext:"CONTACTAR",isCarWash:!1,showTooltipHelper:!0}]);Hp(()=>{n.location.administrative_area_level_2&&n.location.administrative_area_level_2!="Trujillo"&&e.push({name:"CarWashServices"})});function i(o){if(r.resetForm(),n.cars.length==1){const{value:{brand:a,model:l,year:u}}=n.cars[0];r.setSelectedCar(`${a} ${l}, ${u}`)}r.handleShowContactModal(o)}return(o,a)=>{const l=Bp("router-link"),u=Zx("tippy");return V(),Ue(sf,null,{default:Fe(()=>[S("div",n5,[r5,s5,S("div",i5,[(V(!0),Y(Me,null,ct(s.value,c=>(V(),Y("div",{key:c.name,class:Ve([{"bg-blue-900":c.isCarWash,"bg-rose-50":!c.isCarWash},"w-[21rem] h-[30rem] mb-6 p-2 mr-1 flex flex-col justify-center items-center rounded-lg shadow-xl"])},[S("p",{class:Ve(["text-center text-2xl font-black w-52",{"text-rose-100":c.isCarWash,"text-blue-700":!c.isCarWash}])},Le(c.name),3),c.showTooltipHelper?ut((V(),Y("div",o5,u5)),[[u,{content:c.description,maxWidth:200,placement:"bottom",arrow:!0,sticky:!0,offset:[0,0]}]]):ie("",!0),S("figure",c5,[S("img",{src:c.imageSrc,alt:"Car service",class:"h-24"},null,8,d5)]),c.showTooltipHelper?ie("",!0):(V(),Y("p",{key:1,class:"px-1 rounded mb-6 w-[19rem] text-center text-sm font-mono font-black",innerHTML:c.description},null,8,f5)),c.price?(V(),Y("p",h5,Le(c.price),1)):ie("",!0),c.isCarWash?(V(),Ue(l,{key:3,to:{name:"CarWashServices"},class:"hover:opacity-80 mb-3 p-1 w-[15rem] rounded-md text-center text-blue-600 text-xl font-black bg-rose-100"},{default:Fe(()=>[It(Le(c.CTAtext),1)]),_:2},1024)):(V(),Y("button",{key:4,onClick:d=>i(c),class:"flex flex-row justify-center items-center mb-3 p-1 w-[15rem] rounded-md bg-green-500 hover:opacity-70 border-2 border-blue-100"},[S("p",m5,Le(c.CTAtext),1),g5],8,p5))],2))),128))])])]),_:1})}}}),y5={class:"px-5"},_5={key:0,class:"relative flex justify-center items-center w-full h-96 text-lg font-bold text-gray-600"},b5=S("div",{id:"map",class:"h-[400px]"},null,-1),w5=nt({__name:"CarWashMap",setup(t){const e=ae(!0),n=es();let r=null,s=null;const i=[];function o(u,c,d,f){const p=a(u),y=a(d),T=a(d-u),C=a(f-c),k=Math.sin(T/2)*Math.sin(T/2)+Math.cos(p)*Math.cos(y)*Math.sin(C/2)*Math.sin(C/2),m=6371*(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)));return Math.round(m*10)/10}function a(u){return u*Math.PI/180}async function l(){const{latitude:u,longitude:c}=n.coordinates,d=u&&c?{lat:u,lng:c}:{lat:-8.1169477,lng:-79.021662},{Map:f}=await google.maps.importLibrary("maps"),{PlacesService:h}=await google.maps.importLibrary("places"),{AdvancedMarkerView:p,PinView:y}=await google.maps.importLibrary("marker");r=new f(document.getElementById("map"),{zoom:14,center:d,mapId:"f9e9a07281e43ce7"});var T=new google.maps.LatLng(d.lat,d.lng),C={type:"car_wash",location:T,radius:5e3},k=new h(r);await k.nearbySearch(C,async(R,m)=>{if(m===google.maps.places.PlacesServiceStatus.OK)for(var P=0;P<R.length;P++){var b=R[P];const _=await new y({glyphColor:"#811411",background:"#e94335",borderColor:"#811411"}),I=new y({glyphColor:"#811411",background:"#e94335",borderColor:"#811411",scale:1.2}),O=await new p({map:r,position:b.geometry.location,content:_.element,zIndex:P}),F=new google.maps.InfoWindow({content:`<ul class="py-2">
            <li class="flex flex-row items-center"><p class="mb-2"><span class="font-semibold">Taller:</span> ${b.name||""} <span class="font-semibold">(${o(d.lat,d.lng,b.geometry.location.lat(),b.geometry.location.lng())} Km)</span></p></li>
            <li class="flex flex-row items-center">${b.business_status?'<p class="mb-2"><span class="font-semibold">Estado:</span> Operacional</p>':""}</li>
            <li class="flex flex-row items-center">${b.isOpen?'<p class="mb-2 font-semibold">Abierto ahora</p>':""}</li>
            <li class="flex flex-row items-center">${b.vicinity?`<p class="mb-2"><span class="font-semibold">Dirección: </span>${b.vicinity}</p>`:""}</li>
            <li class="flex flex-row items-center">${b.user_ratings_total?`<p class="mb-2"><span class="font-semibold">Rating: </span>⭐ ${b.rating} (${b.user_ratings_total})</p>`:""}</li>
            <li class="mt-2"><a class="text-sm text-blue-700 font-black rounded-md py-1" href="https://www.google.com/maps/place/?q=place_id:${b.place_id}" target="_blank" rel="noopener noreferrer">Abrir en Google Maps</a></li>
          </ul>`});O.addListener("gmp-click",()=>{(s==null?void 0:s.zIndex)!=O.zIndex&&(s&&(s.content=_.element),O.content=I.element,s=O,i.forEach(Q=>Q.close()),F.open({anchor:O,map:r}),i.push(F))})}}),r.addListener("bounds_changed",async function(){const R=r.getBounds();await k.nearbySearch({radius:5e3,bounds:R,location:T,type:"car_wash"},async(m,P)=>{if(P===google.maps.places.PlacesServiceStatus.OK)for(var b=0;b<m.length;b++){var _=m[b];const I=await new y({glyphColor:"#811411",background:"#e94335",borderColor:"#811411"}),O=new y({glyphColor:"#811411",background:"#e94335",borderColor:"#811411",scale:1.2}),F=await new p({map:r,position:_.geometry.location,content:I.element,zIndex:b}),Q=new google.maps.InfoWindow({content:`<ul class="py-2">
              <li class="flex flex-row items-center"><p class="mb-2"><span class="font-semibold">Taller:</span> ${_.name||""} <span class="font-semibold">(${o(d.lat,d.lng,_.geometry.location.lat(),_.geometry.location.lng())} Km)</span></p></li>
              <li class="flex flex-row items-center">${_.business_status?'<p class="mb-2"><span class="font-semibold">Estado:</span> Operacional</p>':""}</li>
              <li class="flex flex-row items-center">${_.isOpen?'<p class="mb-2 font-semibold">Abierto ahora</p>':""}</li>
              <li class="flex flex-row items-center">${_.vicinity?`<p class="mb-2"><span class="font-semibold">Dirección: </span>${_.vicinity}</p>`:""}</li>
              <li class="flex flex-row items-center">${_.user_ratings_total?`<p class="mb-2"><span class="font-semibold">Rating: </span>⭐ ${_.rating} (${_.user_ratings_total})</p>`:""}</li>
              <li class="mt-2"><a class="text-sm text-blue-700 font-black rounded-md py-1" href="https://www.google.com/maps/dir/?api=1&destination=${_.geometry.location.lat},${_.geometry.location.lng}" target="_blank" rel="noopener noreferrer">Abrir en Google Maps</a></li>
            </ul>`});F.addListener("gmp-click",()=>{(s==null?void 0:s.zIndex)!=F.zIndex&&(s&&(s.content=I.element),F.content=O.element,s=F,i.forEach(M=>M.close()),Q.open({anchor:F,map:r}),i.push(Q))})}})})}return Hp(async()=>{n.location.postal_code&&(await l(),e.value=!1)}),(u,c)=>(V(),Y("div",y5,[e.value?(V(),Y("div",_5,"Cargando el mapa...")):ie("",!0),b5]))}}),T5={class:"md:container md:mx-auto pt-12"},E5=S("h1",{class:"text-2xl text-left px-5 font-bold text-blue-700 mb-4"},"LAVADO DE AUTOMÓVILES",-1),A5=S("p",{class:"text-left px-5 font-normal text-gray-700 mb-12"},"Encuentra talleres de lavado cerca de ti.",-1),x5=nt({__name:"CarWashServices",setup(t){return(e,n)=>(V(),Ue(sf,null,{default:Fe(()=>[S("div",T5,[E5,A5,qe(w5)])]),_:1}))}});function He(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function or(t,e){const n=He(t);return isNaN(e)?mt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function fr(t,e){const n=He(t);if(isNaN(e))return mt(t,NaN);if(!e)return n;const r=n.getDate(),s=mt(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function fA(t,e){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=He(t),c=r||n?fr(u,r+n*12):u,d=i||s?or(c,i+s*7):c,f=a+o*60,p=(l+f*60)*1e3;return mt(t,d.getTime()+p)}function I5(t,e){const n=+He(t);return mt(t,n+e)}const hA=6048e5,S5=864e5,C5=6e4,pA=36e5,P5=1e3;function R5(t,e){return I5(t,e*pA)}let k5={};function io(){return k5}function Xr(t,e){var a,l,u,c;const n=io(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Zo(t){return Xr(t,{weekStartsOn:1})}function mA(t){const e=He(t),n=e.getFullYear(),r=mt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Zo(r),i=mt(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Zo(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function c0(t){const e=He(t);return e.setHours(0,0,0,0),e}function jc(t){const e=He(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gA(t,e){const n=c0(t),r=c0(e),s=+n-jc(n),i=+r-jc(r);return Math.round((s-i)/S5)}function D5(t){const e=mA(t),n=mt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Zo(n)}function O5(t,e){const n=e*3;return fr(t,n)}function Ig(t,e){return fr(t,e*12)}function vA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Za(t){if(!vA(t)&&typeof t!="number")return!1;const e=He(t);return!isNaN(Number(e))}function d0(t){const e=He(t);return Math.trunc(e.getMonth()/3)+1}function yA(t,e){const n=He(t.start),r=He(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=(e==null?void 0:e.step)??1;if(!a)return[];a<0&&(a=-a,s=!s);const l=[];for(;+o<=i;)l.push(He(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function Pi(t){const e=He(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function M5(t,e){const n=He(t.start),r=He(t.end);let s=+n>+r;const i=s?+Pi(n):+Pi(r);let o=Pi(s?r:n),a=(e==null?void 0:e.step)??1;if(!a)return[];a<0&&(a=-a,s=!s);const l=[];for(;+o<=i;)l.push(He(o)),o=O5(o,a);return s?l.reverse():l}function N5(t){const e=He(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function _A(t){const e=He(t),n=mt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function V5(t,e){var a,l,u,c;const n=io(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=He(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function f0(t){const e=He(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const L5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$5=(t,e,n)=>{let r;const s=L5[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const F5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j5={date:eh({formats:F5,defaultWidth:"full"}),time:eh({formats:U5,defaultWidth:"full"}),dateTime:eh({formats:B5,defaultWidth:"full"})},H5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q5=(t,e,n,r)=>H5[t];function Ta(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const W5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},J5={ordinalNumber:X5,era:Ta({values:W5,defaultWidth:"wide"}),quarter:Ta({values:z5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ta({values:G5,defaultWidth:"wide"}),day:Ta({values:Y5,defaultWidth:"wide"}),dayPeriod:Ta({values:K5,defaultWidth:"wide",formattingValues:Q5,defaultFormattingWidth:"wide"})};function Ea(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?eU(a,d=>d.test(o)):Z5(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Z5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tU(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const nU=/^(\d+)(th|st|nd|rd)?/i,rU=/\d+/i,sU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iU={any:[/^b/i,/^(a|c)/i]},oU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aU={any:[/1/i,/2/i,/3/i,/4/i]},lU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pU={ordinalNumber:tU({matchPattern:nU,parsePattern:rU,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:iU,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:oU,defaultMatchWidth:"wide",parsePatterns:aU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:lU,defaultMatchWidth:"wide",parsePatterns:uU,defaultParseWidth:"any"}),day:Ea({matchPatterns:cU,defaultMatchWidth:"wide",parsePatterns:dU,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:fU,defaultMatchWidth:"any",parsePatterns:hU,defaultParseWidth:"any"})},bA={code:"en-US",formatDistance:$5,formatLong:j5,formatRelative:q5,localize:J5,match:pU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mU(t){const e=He(t);return gA(e,_A(e))+1}function Sg(t){const e=He(t),n=+Zo(e)-+D5(e);return Math.round(n/hA)+1}function Cg(t,e){var c,d,f,h;const n=He(t),r=n.getFullYear(),s=io(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=mt(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Xr(o,e),l=mt(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Xr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function gU(t,e){var a,l,u,c;const n=io(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=Cg(t,e),i=mt(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Xr(i,e)}function Pg(t,e){const n=He(t),r=+Xr(n,e)-+gU(n,e);return Math.round(r/hA)+1}function yt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Es={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return yt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):yt(n+1,2)},d(t,e){return yt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return yt(t.getHours()%12||12,e.length)},H(t,e){return yt(t.getHours(),e.length)},m(t,e){return yt(t.getMinutes(),e.length)},s(t,e){return yt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return yt(s,e.length)}},uo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},h0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Es.y(t,e)},Y:function(t,e,n,r){const s=Cg(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return yt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):yt(i,e.length)},R:function(t,e){const n=mA(t);return yt(n,e.length)},u:function(t,e){const n=t.getFullYear();return yt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return yt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return yt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Es.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return yt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Pg(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):yt(s,e.length)},I:function(t,e,n){const r=Sg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):yt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Es.d(t,e)},D:function(t,e,n){const r=mU(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):yt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return yt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return yt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return yt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=uo.noon:r===0?s=uo.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=uo.evening:r>=12?s=uo.afternoon:r>=4?s=uo.morning:s=uo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Es.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Es.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):yt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Es.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Es.s(t,e)},S:function(t,e){return Es.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return m0(r);case"XXXX":case"XX":return gi(r);case"XXXXX":case"XXX":default:return gi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return m0(r);case"xxxx":case"xx":return gi(r);case"xxxxx":case"xxx":default:return gi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+p0(r,":");case"OOOO":default:return"GMT"+gi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+p0(r,":");case"zzzz":default:return"GMT"+gi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return yt(r,e.length)},T:function(t,e,n){const r=t.getTime();return yt(r,e.length)}};function p0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+yt(i,2)}function m0(t,e){return t%60===0?(t>0?"-":"+")+yt(Math.abs(t)/60,2):gi(t,e)}function gi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=yt(Math.trunc(r/60),2),i=yt(r%60,2);return n+s+e+i}const g0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},wA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vU=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return g0(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",g0(r,e)).replace("{{time}}",wA(s,e))},_p={p:wA,P:vU},yU=/^D+$/,_U=/^Y+$/,bU=["D","DD","YY","YYYY"];function TA(t){return yU.test(t)}function EA(t){return _U.test(t)}function bp(t,e,n){const r=wU(t,e,n);if(console.warn(r),bU.includes(t))throw new RangeError(r)}function wU(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AU=/^'([^]*?)'?$/,xU=/''/g,IU=/[a-zA-Z]/;function Hr(t,e,n){var c,d,f,h,p,y,T,C;const r=io(),s=(n==null?void 0:n.locale)??r.locale??bA,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((C=(T=r.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??0,a=He(t);if(!Za(a))throw new RangeError("Invalid time value");let l=e.match(EU).map(k=>{const R=k[0];if(R==="p"||R==="P"){const m=_p[R];return m(k,s.formatLong)}return k}).join("").match(TU).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const R=k[0];if(R==="'")return{isToken:!1,value:SU(k)};if(h0[R])return{isToken:!0,value:k};if(R.match(IU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(k=>{if(!k.isToken)return k.value;const R=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&EA(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&TA(R))&&bp(R,e,String(t));const m=h0[R[0]];return m(a,R,s.localize,u)}).join("")}function SU(t){const e=t.match(AU);return e?e[1].replace(xU,"'"):t}function CU(t){return He(t).getDay()}function PU(t){const e=He(t),n=e.getFullYear(),r=e.getMonth(),s=mt(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function RU(){return Object.assign({},io())}function hr(t){return He(t).getHours()}function kU(t){let n=He(t).getDay();return n===0&&(n=7),n}function qr(t){return He(t).getMinutes()}function it(t){return He(t).getMonth()}function ea(t){return He(t).getSeconds()}function Ze(t){return He(t).getFullYear()}function Ml(t,e){const n=He(t),r=He(e);return n.getTime()>r.getTime()}function Nl(t,e){const n=He(t),r=He(e);return+n<+r}function bo(t,e){const n=He(t),r=He(e);return+n==+r}function DU(t,e){const n=e instanceof Date?mt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const OU=10;class AA{constructor(){Re(this,"subPriority",0)}validate(e,n){return!0}}class MU extends AA{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class NU extends AA{constructor(){super(...arguments);Re(this,"priority",OU);Re(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:mt(n,DU(n,Date))}}class gt{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new MU(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class VU extends gt{constructor(){super(...arguments);Re(this,"priority",140);Re(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Mt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Pr(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*pA+i*C5+o*P5),rest:e.slice(n[0].length)}}function xA(t){return Mt(zt.anyDigitsSigned,t)}function jt(t,e){switch(t){case 1:return Mt(zt.singleDigit,e);case 2:return Mt(zt.twoDigits,e);case 3:return Mt(zt.threeDigits,e);case 4:return Mt(zt.fourDigits,e);default:return Mt(new RegExp("^\\d{1,"+t+"}"),e)}}function Hc(t,e){switch(t){case 1:return Mt(zt.singleDigitSigned,e);case 2:return Mt(zt.twoDigitsSigned,e);case 3:return Mt(zt.threeDigitsSigned,e);case 4:return Mt(zt.fourDigitsSigned,e);default:return Mt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Rg(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function IA(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,o=Math.trunc(i/100)*100,a=t>=i%100;s=t+o-(a?100:0)}return n?s:1-s}function SA(t){return t%400===0||t%4===0&&t%100!==0}class LU extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Gt(jt(4,n),i);case"yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(jt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const a=IA(s.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class $U extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Gt(jt(4,n),i);case"Yo":return Gt(s.ordinalNumber(n,{unit:"year"}),i);default:return Gt(jt(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const o=Cg(n,i);if(s.isTwoDigitYear){const l=IA(s.year,o);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Xr(n,i)}}class FU extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Hc(r==="R"?4:r.length,n)}set(n,r,s){const i=mt(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Zo(i)}}class UU extends gt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Hc(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class BU extends gt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return jt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class jU extends gt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return jt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class HU extends gt{constructor(){super(...arguments);Re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Re(this,"priority",110)}parse(n,r,s){const i=o=>o-1;switch(r){case"M":return Gt(Mt(zt.month,n),i);case"MM":return Gt(jt(2,n),i);case"Mo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class qU extends gt{constructor(){super(...arguments);Re(this,"priority",110);Re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=o=>o-1;switch(r){case"L":return Gt(Mt(zt.month,n),i);case"LL":return Gt(jt(2,n),i);case"Lo":return Gt(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function WU(t,e,n){const r=He(t),s=Pg(r,n)-e;return r.setDate(r.getDate()-s*7),r}class zU extends gt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Mt(zt.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Xr(WU(n,s,i),i)}}function GU(t,e){const n=He(t),r=Sg(n)-e;return n.setDate(n.getDate()-r*7),n}class YU extends gt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Mt(zt.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Zo(GU(n,s))}}const KU=[31,28,31,30,31,30,31,31,30,31,30,31],QU=[31,29,31,30,31,30,31,31,30,31,30,31];class XU extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subPriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Mt(zt.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return jt(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=SA(s),o=n.getMonth();return i?r>=1&&r<=QU[o]:r>=1&&r<=KU[o]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class JU extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subpriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Mt(zt.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return jt(r.length,n)}}validate(n,r){const s=n.getFullYear();return SA(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function kg(t,e,n){var d,f,h,p;const r=io(),s=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=He(t),o=i.getDay(),l=(e%7+7)%7,u=7-s,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return or(i,c)}class ZU extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=kg(n,s,i),n.setHours(0,0,0,0),n}}class e6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Gt(jt(r.length,n),o);case"eo":return Gt(s.ordinalNumber(n,{unit:"day"}),o);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=kg(n,s,i),n.setHours(0,0,0,0),n}}class t6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Gt(jt(r.length,n),o);case"co":return Gt(s.ordinalNumber(n,{unit:"day"}),o);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=kg(n,s,i),n.setHours(0,0,0,0),n}}function n6(t,e){const n=He(t),r=kU(n),s=e-r;return or(n,s)}class r6 extends gt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return jt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Gt(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gt(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gt(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gt(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=n6(n,s),n.setHours(0,0,0,0),n}}class s6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Rg(s),0,0,0),n}}class i6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Rg(s),0,0,0),n}}class o6 extends gt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(Rg(s),0,0,0),n}}class a6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Mt(zt.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class l6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Mt(zt.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class u6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Mt(zt.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class c6 extends gt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Mt(zt.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return jt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class d6 extends gt{constructor(){super(...arguments);Re(this,"priority",60);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Mt(zt.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class f6 extends gt{constructor(){super(...arguments);Re(this,"priority",50);Re(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Mt(zt.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return jt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class h6 extends gt{constructor(){super(...arguments);Re(this,"priority",30);Re(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Gt(jt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class p6 extends gt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Pr(Cr.basicOptionalMinutes,n);case"XX":return Pr(Cr.basic,n);case"XXXX":return Pr(Cr.basicOptionalSeconds,n);case"XXXXX":return Pr(Cr.extendedOptionalSeconds,n);case"XXX":default:return Pr(Cr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:mt(n,n.getTime()-jc(n)-s)}}class m6 extends gt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Pr(Cr.basicOptionalMinutes,n);case"xx":return Pr(Cr.basic,n);case"xxxx":return Pr(Cr.basicOptionalSeconds,n);case"xxxxx":return Pr(Cr.extendedOptionalSeconds,n);case"xxx":default:return Pr(Cr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:mt(n,n.getTime()-jc(n)-s)}}class g6 extends gt{constructor(){super(...arguments);Re(this,"priority",40);Re(this,"incompatibleTokens","*")}parse(n){return xA(n)}set(n,r,s){return[mt(n,s*1e3),{timestampIsSet:!0}]}}class v6 extends gt{constructor(){super(...arguments);Re(this,"priority",20);Re(this,"incompatibleTokens","*")}parse(n){return xA(n)}set(n,r,s){return[mt(n,s),{timestampIsSet:!0}]}}const y6={G:new VU,y:new LU,Y:new $U,R:new FU,u:new UU,Q:new BU,q:new jU,M:new HU,L:new qU,w:new zU,I:new YU,d:new XU,D:new JU,E:new ZU,e:new e6,c:new t6,i:new r6,a:new s6,b:new i6,B:new o6,h:new a6,H:new l6,K:new u6,k:new c6,m:new d6,s:new f6,S:new h6,X:new p6,x:new m6,t:new g6,T:new v6},_6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w6=/^'([^]*?)'?$/,T6=/''/g,E6=/\S/,A6=/[a-zA-Z]/;function wp(t,e,n,r){var y,T,C,k,R,m,P,b;const s=RU(),i=(r==null?void 0:r.locale)??s.locale??bA,o=(r==null?void 0:r.firstWeekContainsDate)??((T=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:T.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(C=s.locale)==null?void 0:C.options)==null?void 0:k.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(R=r==null?void 0:r.locale)==null?void 0:R.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((b=(P=s.locale)==null?void 0:P.options)==null?void 0:b.weekStartsOn)??0;if(e==="")return t===""?He(n):mt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:i},u=[new NU],c=e.match(b6).map(_=>{const I=_[0];if(I in _p){const O=_p[I];return O(_,i.formatLong)}return _}).join("").match(_6),d=[];for(let _ of c){!(r!=null&&r.useAdditionalWeekYearTokens)&&EA(_)&&bp(_,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&TA(_)&&bp(_,e,t);const I=_[0],O=y6[I];if(O){const{incompatibleTokens:F}=O;if(Array.isArray(F)){const M=d.find(q=>F.includes(q.token)||q.token===I);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${_}\` at the same time`)}else if(O.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);d.push({token:I,fullToken:_});const Q=O.run(t,_,i.match,l);if(!Q)return mt(n,NaN);u.push(Q.setter),t=Q.rest}else{if(I.match(A6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(_==="''"?_="'":I==="'"&&(_=x6(_)),t.indexOf(_)===0)t=t.slice(_.length);else return mt(n,NaN)}}if(t.length>0&&E6.test(t))return mt(n,NaN);const f=u.map(_=>_.priority).sort((_,I)=>I-_).filter((_,I,O)=>O.indexOf(_)===I).map(_=>u.filter(I=>I.priority===_).sort((I,O)=>O.subPriority-I.subPriority)).map(_=>_[0]);let h=He(n);if(isNaN(h.getTime()))return mt(n,NaN);const p={};for(const _ of f){if(!_.validate(h,l))return mt(n,NaN);const I=_.set(h,p,l);Array.isArray(I)?(h=I[0],Object.assign(p,I[1])):h=I}return mt(n,h)}function x6(t){return t.match(w6)[1].replace(T6,"'")}function v0(t,e){const n=Pi(t),r=Pi(e);return+n==+r}function I6(t,e){return or(t,-e)}function CA(t,e){const n=He(t),r=n.getFullYear(),s=n.getDate(),i=mt(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=PU(i);return n.setMonth(e,Math.min(s,o)),n}function xt(t,e){let n=He(t);return isNaN(+n)?mt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=CA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function PA(t,e){const n=He(t);return n.setHours(e),n}function Dg(t,e){const n=He(t);return n.setMilliseconds(e),n}function RA(t,e){const n=He(t);return n.setMinutes(e),n}function Og(t,e){const n=He(t);return n.setSeconds(e),n}function Or(t,e){const n=He(t);return isNaN(+n)?mt(t,NaN):(n.setFullYear(e),n)}function ta(t,e){return fr(t,-e)}function S6(t,e){const{years:n=0,months:r=0,weeks:s=0,days:i=0,hours:o=0,minutes:a=0,seconds:l=0}=e,u=ta(t,r+n*12),c=I6(u,i+s*7),d=a+o*60,h=(l+d*60)*1e3;return mt(t,c.getTime()-h)}function kA(t,e){return Ig(t,-e)}function ha(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),S("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),S("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),S("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ha.compatConfig={MODE:3};function DA(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),S("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}DA.compatConfig={MODE:3};function Mg(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Mg.compatConfig={MODE:3};function Ng(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Ng.compatConfig={MODE:3};function Vg(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),S("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Vg.compatConfig={MODE:3};function Lg(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Lg.compatConfig={MODE:3};function $g(){return V(),Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[S("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}$g.compatConfig={MODE:3};function y0(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function C6(t){return e=>Hr(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const P6=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=r.map(C6(t))}catch{s=r.map(y0(e))}else s=r.map(y0(e));const i=s.slice(0,n),o=s.slice(n+1,s.length);return[s[n]].concat(...o).concat(...i)},Fg=(t,e,n)=>{const r=[];for(let s=+t[0];s<=+t[1];s++)r.push({value:+s,text:VA(s,e)});return n?r.reverse():r},OA=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const o=i<10?`0${i}`:i;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const i=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Hr(o,i,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const s=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((i,o)=>{const a=s.format(i);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},R6=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],nn=t=>{const e=g(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},k6=t=>({type:"dot",...t??{}}),MA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ug={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},sn=t=>t,_0=t=>t===0?t:!t||isNaN(+t)?null:+t,b0=t=>t===null,NA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},D6=t=>{const e=[],n=r=>r.filter(s=>s);for(let r=0;r<t.length;r+=3){const s=[t[r],t[r+1],t[r+2]];e.push(n(s))}return e},Vl=(t,e,n)=>{const r=n!=null,s=e!=null;if(!r&&!s)return!1;const i=+n,o=+e;return r&&s?+t>i||+t<o:r?+t>i:s?+t<o:!1},na=(t,e)=>D6(t).map(n=>n.map(r=>{const{active:s,disabled:i,isBetween:o,highlighted:a}=e(r);return{...r,active:s,disabled:i,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&s,dp__cell_in_between:o,"dp--highlighted":a}}})),Ws=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},O6=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function M6(t,e){let n=[...document.querySelectorAll(O6())];n=n.filter(s=>!t.contains(s)||s.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const N6=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),VA=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),Bg=t=>Hr(t,"dd-MM-yyyy"),th=t=>Array.isArray(t),qc=(t,e)=>e.get(Bg(t)),V6=(t,e)=>t?e?e instanceof Map?!!qc(t,e):e(we(t)):!1:!0,w0=(t,e,n,r,s,i)=>{const o=wp(t,e.slice(0,t.length),new Date,{locale:i});return Za(o)&&vA(o)?r||s?o:xt(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},L6=(t,e,n,r,s,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return w0(t,e,o,r,s,i);if(Array.isArray(e)){let a=null;for(const l of e)if(a=w0(t,l,o,r,s,i),a)break;return a}return typeof e=="function"?e(t):null},we=t=>t?new Date(t):new Date,$6=(t,e,n)=>{if(e){const s=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${i}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Wn=t=>{let e=we(JSON.parse(JSON.stringify(t)));return e=PA(e,0),e=RA(e,0),e=Og(e,0),e=Dg(e,0),e},zs=(t,e,n,r)=>{let s=t?we(t):we();return(e||e===0)&&(s=PA(s,+e)),(n||n===0)&&(s=RA(s,+n)),(r||r===0)&&(s=Og(s,+r)),Dg(s,0)},Ft=(t,e)=>!t||!e?!1:Nl(Wn(t),Wn(e)),rt=(t,e)=>!t||!e?!1:bo(Wn(t),Wn(e)),qt=(t,e)=>!t||!e?!1:Ml(Wn(t),Wn(e)),of=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?qt(n,t[0])&&Ft(n,t[1]):t!=null&&t[0]&&e?qt(n,t[0])&&Ft(n,e)||Ft(n,t[0])&&qt(n,e):!1,ar=t=>{const e=xt(new Date(t),{date:1});return Wn(e)},nh=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Li=t=>({hours:hr(t),minutes:qr(t),seconds:ea(t)}),LA=(t,e)=>{if(e){const n=Ze(we(e));if(n>t)return 12;if(n===t)return it(we(e))}},$A=(t,e)=>{if(e){const n=Ze(we(e));return n<t?-1:n===t?it(we(e)):void 0}},ra=t=>{if(t)return Ze(we(t))},FA=(t,e)=>{const n=qt(t,e)?e:t,r=qt(e,t)?e:t;return yA({start:n,end:r})},F6=t=>{const e=fr(t,1);return{month:it(e),year:Ze(e)}},is=(t,e)=>{const n=Xr(t,{weekStartsOn:+e}),r=V5(t,{weekStartsOn:+e});return[n,r]},UA=(t,e)=>{const n={hours:hr(we()),minutes:qr(we()),seconds:e?ea(we()):0};return Object.assign(n,t)},$s=(t,e,n)=>[xt(we(t),{date:1}),xt(we(),{month:e,year:n,date:1})],cs=(t,e,n)=>{let r=t?we(t):we();return(e||e===0)&&(r=CA(r,e)),n&&(r=Or(r,n)),r},BA=(t,e,n,r,s)=>{if(!r||s&&!e||!s&&!n)return!1;const i=s?fr(t,1):ta(t,1),o=[it(i),Ze(i)];return s?!B6(...o,e):!U6(...o,n)},U6=(t,e,n)=>Ft(...$s(n,t,e))||rt(...$s(n,t,e)),B6=(t,e,n)=>qt(...$s(n,t,e))||rt(...$s(n,t,e)),jA=(t,e,n,r,s,i,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Hr(t[0],i,a)}${s&&!t[1]?"":r}${t[1]?Hr(t[1],i,a):""}`:Hr(t,i,a)},co=t=>{if(t)return null;throw new Error(Ug.prop("partial-range"))},Bu=(t,e)=>{if(e)return t();throw new Error(Ug.prop("range"))},Tp=t=>Array.isArray(t)?Za(t[0])&&(t[1]?Za(t[1]):!0):t?Za(t):!1,j6=(t,e)=>xt(e??we(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),rh=(t,e,n,r)=>{if(!t)return!0;if(r){const s=n==="max"?Nl(t,e):Ml(t,e),i={seconds:0,milliseconds:0};return s||bo(xt(t,i),xt(e,i))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},sh=(t,e,n)=>t?j6(t,e):we(n??e),T0=(t,e,n,r,s)=>{if(Array.isArray(r)){const o=sh(t,r[0],e),a=sh(t,r[1],e);return rh(r[0],o,n,!!e)&&rh(r[1],a,n,!!e)&&s}const i=sh(t,r,e);return rh(r,i,n,!!e)&&s},ih=t=>xt(we(),Li(t)),H6=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>Ze(we(n))===e).map(n=>it(n)):[],HA=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),jg=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Aa=en({menuFocused:!1,shiftKeyInMenu:!1}),qA=()=>{const t=n=>{Aa.menuFocused=n},e=n=>{Aa.shiftKeyInMenu!==n&&(Aa.shiftKeyInMenu=n)};return{control:ue(()=>({shiftKeyInMenu:Aa.shiftKeyInMenu,menuFocused:Aa.menuFocused})),setMenuFocused:t,setShiftKey:e}},Pt=en({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),oh=ae(null),ju=ae(!1),ah=ae(!1),lh=ae(!1),uh=ae(!1),wn=ae(0),Ht=ae(0),li=()=>{const t=ue(()=>ju.value?[...Pt.selectionGrid,Pt.actionRow].filter(d=>d.length):ah.value?[...Pt.timePicker[0],...Pt.timePicker[1],uh.value?[]:[oh.value],Pt.actionRow].filter(d=>d.length):lh.value?[...Pt.monthPicker,Pt.actionRow]:[Pt.monthYear,...Pt.calendar,Pt.time,Pt.actionRow].filter(d=>d.length)),e=d=>{wn.value=d?wn.value+1:wn.value-1;let f=null;t.value[Ht.value]&&(f=t.value[Ht.value][wn.value]),!f&&t.value[Ht.value+(d?1:-1)]?(Ht.value=Ht.value+(d?1:-1),wn.value=d?0:t.value[Ht.value].length-1):f||(wn.value=d?wn.value-1:wn.value+1)},n=d=>{Ht.value===0&&!d||Ht.value===t.value.length&&d||(Ht.value=d?Ht.value+1:Ht.value-1,t.value[Ht.value]?t.value[Ht.value]&&!t.value[Ht.value][wn.value]&&wn.value!==0&&(wn.value=t.value[Ht.value].length-1):Ht.value=d?Ht.value-1:Ht.value+1)},r=d=>{let f=null;t.value[Ht.value]&&(f=t.value[Ht.value][wn.value]),f?f.focus({preventScroll:!ju.value}):wn.value=d?wn.value-1:wn.value+1},s=()=>{e(!0),r(!0)},i=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{Pt[f]=d},u=(d,f)=>{Pt[f]=d},c=()=>{wn.value=0,Ht.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{oh.value=d},setSelectionGrid:d=>{ju.value=d,c(),d||(Pt.selectionGrid=[])},setTimePicker:(d,f=!1)=>{ah.value=d,uh.value=f,c(),d||(Pt.timePicker[0]=[],Pt.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{Pt.timePicker[f]=d},arrowRight:s,arrowLeft:i,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Pt.monthYear=[],Pt.calendar=[],Pt.time=[],Pt.actionRow=[],Pt.selectionGrid=[],Pt.timePicker[0]=[],Pt.timePicker[1]=[],ju.value=!1,ah.value=!1,uh.value=!1,lh.value=!1,c(),oh.value=null},setMonthPicker:d=>{lh.value=d,c()},refSets:Pt}},ps=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),WA=(t,e)=>Ep(t,e)||we(),q6=(t,e)=>e.dateInTz?ps(new Date(t),e.dateInTz):we(t),Ep=(t,e)=>{if(!t)return null;if(!e)return we(t);const n=we(t);return e.exactMatch?q6(t,e):ps(n,e.timezone)},W6=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),s=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-s},E0=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),z6=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),A0=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,G6=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:A0(!1)};const r=e?t:{},s=e?r.count??!0:t,i=A0(s);return Object.assign(n,r,{count:i})},Y6=(t,e,n)=>t||(typeof n=="string"?n:e),K6=t=>typeof t=="boolean"?t?E0({}):!1:E0(t),Q6=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},X6=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),J6=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Z6=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},eB=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,...t??{}}),tB=t=>{const e={dates:Array.isArray(t)?t.map(n=>we(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},nB=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},rB=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},sB=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},ch=(t,e)=>new Map(t.map(n=>{const r=WA(n,e);return[Bg(r),r]})),iB=(t,e)=>t.length?new Map(t.map(n=>{const r=WA(n.date,e);return[Bg(r),n]})):null,oB=(t,e,n,r,s,i,o)=>({minDate:Ep(t,o),maxDate:Ep(e,o),disabledDates:th(n)?ch(n,o):n,allowedDates:th(r)?ch(r,o):null,highlight:typeof s=="object"&&th(s==null?void 0:s.dates)?ch(s.dates,o):s,markers:iB(i,o)}),aB=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},$t=t=>{const e=()=>{const P=t.enableSeconds?":ss":"";return t.is24?`HH:mm${P}`:`hh:mm${P} aa`},n=()=>{var P;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((P=T.value)==null?void 0:P.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=P=>UA(P,t.enableSeconds),s=()=>m.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,i=ue(()=>G6(t.multiCalendars)),o=ue(()=>s()),a=ue(()=>z6(t.ariaLabels)),l=ue(()=>X6(t.filters)),u=ue(()=>K6(t.transitions)),c=ue(()=>J6(t.actionRow)),d=ue(()=>Y6(t.previewFormat,t.format,n())),f=ue(()=>Q6(t.textInput)),h=ue(()=>Z6(t.inline)),p=ue(()=>eB(t.config)),y=ue(()=>tB(t.highlight)),T=ue(()=>nB(t.weekNumbers)),C=ue(()=>sB(t.timezone,t.emitTimezone)),k=ue(()=>aB(t.multiDates,t.multiDatesLimit)),R=ue(()=>oB(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,y.value,t.markers,C.value)),m=ue(()=>rB(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:u,defaultedMultiCalendars:i,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:y,defaultedWeekNumbers:T,defaultedRange:m,propDates:R,defaultedTz:C,defaultedMultiDates:k,getDefaultPattern:n,getDefaultStartTime:s}};var sr=(t=>(t.month="month",t.year="year",t))(sr||{}),vi=(t=>(t.top="top",t.bottom="bottom",t))(vi||{}),$i=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))($i||{}),Tr=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Tr||{});const lB=["timestamp","date","iso"],uB=(t,e,n)=>{const r=ae(),{defaultedTextInput:s,defaultedRange:i,defaultedTz:o,defaultedMultiDates:a,getDefaultPattern:l}=$t(e),u=ae(""),c=rl(e,"format"),d=rl(e,"formatLocale");Ut(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,ne(!0))},{deep:!0}),Ut(c,()=>{te()});const f=x=>o.value.timezone&&o.value.convertModel?ps(x,o.value.timezone):x,h=x=>{if(o.value.timezone&&o.value.convertModel){const se=W6(o.value.timezone);return R5(x,se)}return x},p=(x,se,D=!1)=>jA(x,e.format,e.formatLocale,s.value.rangeSeparator,e.modelAuto,se??l(),D),y=x=>x?e.modelType?de(x):{hours:hr(x),minutes:qr(x),seconds:e.enableSeconds?ea(x):0}:null,T=x=>e.modelType?de(x):{month:it(x),year:Ze(x)},C=x=>Array.isArray(x)?a.value.enabled?x.map(se=>k(se,Or(we(),se))):Bu(()=>[Or(we(),x[0]),x[1]?Or(we(),x[1]):co(i.value.partialRange)],i.value.enabled):Or(we(),+x),k=(x,se)=>(typeof x=="string"||typeof x=="number")&&e.modelType?Te(x):se,R=x=>Array.isArray(x)?[k(x[0],zs(null,+x[0].hours,+x[0].minutes,x[0].seconds)),k(x[1],zs(null,+x[1].hours,+x[1].minutes,x[1].seconds))]:k(x,zs(null,x.hours,x.minutes,x.seconds)),m=x=>{const se=xt(we(),{date:1});return Array.isArray(x)?a.value.enabled?x.map(D=>k(D,cs(se,+D.month,+D.year))):Bu(()=>[k(x[0],cs(se,+x[0].month,+x[0].year)),k(x[1],x[1]?cs(se,+x[1].month,+x[1].year):co(i.value.partialRange))],i.value.enabled):k(x,cs(se,+x.month,+x.year))},P=x=>{if(Array.isArray(x))return x.map(se=>Te(se));throw new Error(Ug.dateArr("multi-dates"))},b=x=>{if(Array.isArray(x)&&i.value.enabled){const se=x[0],D=x[1];return[we(Array.isArray(se)?se[0]:null),we(Array.isArray(D)?D[0]:null)]}return we(x[0])},_=x=>e.modelAuto?Array.isArray(x)?[Te(x[0]),Te(x[1])]:e.autoApply?[Te(x)]:[Te(x),null]:Array.isArray(x)?Bu(()=>x[1]?[Te(x[0]),x[1]?Te(x[1]):co(i.value.partialRange)]:[Te(x[0])],i.value.enabled):Te(x),I=()=>{Array.isArray(r.value)&&i.value.enabled&&r.value.length===1&&r.value.push(co(i.value.partialRange))},O=()=>{const x=r.value;return[de(x[0]),x[1]?de(x[1]):co(i.value.partialRange)]},F=()=>r.value[1]?O():de(sn(r.value[0])),Q=()=>(r.value||[]).map(x=>de(x)),M=(x=!1)=>(x||I(),e.modelAuto?F():a.value.enabled?Q():Array.isArray(r.value)?Bu(()=>O(),i.value.enabled):de(sn(r.value))),q=x=>!x||Array.isArray(x)&&!x.length?null:e.timePicker?R(sn(x)):e.monthPicker?m(sn(x)):e.yearPicker?C(sn(x)):a.value.enabled?P(sn(x)):e.weekPicker?b(sn(x)):_(sn(x)),le=x=>{const se=q(x);Tp(sn(se))?(r.value=sn(se),te()):(r.value=null,u.value="")},L=()=>{const x=se=>Hr(se,s.value.format);return`${x(r.value[0])} ${s.value.rangeSeparator} ${r.value[1]?x(r.value[1]):""}`},A=()=>n.value&&r.value?Array.isArray(r.value)?L():Hr(r.value,s.value.format):p(r.value),K=()=>r.value?a.value.enabled?r.value.map(x=>p(x)).join("; "):s.value.enabled&&typeof s.value.format=="string"?A():p(r.value):"",te=()=>{!e.format||typeof e.format=="string"||s.value.enabled&&typeof s.value.format=="string"?u.value=K():u.value=e.format(r.value)},Te=x=>{if(e.utc){const se=new Date(x);return e.utc==="preserve"?new Date(se.getTime()+se.getTimezoneOffset()*6e4):se}return e.modelType?lB.includes(e.modelType)?f(new Date(x)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?f(wp(x,l(),new Date,{locale:d.value})):f(wp(x,e.modelType,new Date,{locale:d.value})):f(new Date(x))},de=x=>x?e.utc?$6(x,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+h(x):e.modelType==="iso"?h(x).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(h(x)):p(h(x),e.modelType,!0):h(x):"",z=(x,se=!1,D=!1)=>{if(D)return x;if(t("update:model-value",x),o.value.emitTimezone&&se){const j=Array.isArray(x)?x.map(Ae=>ps(sn(Ae),o.value.emitTimezone)):ps(sn(x),o.value.emitTimezone);t("update:model-timezone-value",j)}},J=x=>Array.isArray(r.value)?a.value.enabled?r.value.map(se=>x(se)):[x(r.value[0]),r.value[1]?x(r.value[1]):co(i.value.partialRange)]:x(sn(r.value)),E=()=>{if(Array.isArray(r.value)){const x=is(r.value[0],e.weekStart),se=r.value[1]?is(r.value[1],e.weekStart):[];return[x.map(D=>we(D)),se.map(D=>we(D))]}return is(r.value,e.weekStart).map(x=>we(x))},B=(x,se)=>z(sn(J(x)),!1,se),ce=x=>{const se=E();return x?se:t("update:model-value",E())},ne=(x=!1)=>(te(),e.monthPicker?B(T,x):e.timePicker?B(y,x):e.yearPicker?B(Ze,x):e.weekPicker?ce(x):z(M(x),!0,x));return{inputValue:u,internalModelValue:r,checkBeforeEmit:()=>r.value?i.value.enabled?i.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:le,formatInputValue:te,emitModelValue:ne}},cB=(t,e)=>{const{defaultedFilters:n,propDates:r}=$t(t),{validateMonthYearInRange:s}=ui(t),i=(c,d)=>{let f=c;return n.value.months.includes(it(f))?(f=d?fr(c,1):ta(c,1),i(f,d)):f},o=(c,d)=>{let f=c;return n.value.years.includes(Ze(f))?(f=d?Ig(c,1):kA(c,1),o(f,d)):f},a=(c,d=!1)=>{const f=xt(we(),{month:t.month,year:t.year});let h=c?fr(f,1):ta(f,1);t.disableYearSelect&&(h=Or(h,t.year));let p=it(h),y=Ze(h);n.value.months.includes(p)&&(h=i(h,c),p=it(h),y=Ze(h)),n.value.years.includes(y)&&(h=o(h,c),y=Ze(h)),s(p,y,c,t.preventMinMaxNavigation)&&l(p,y,d)},l=(c,d,f)=>{e("update-month-year",{month:c,year:d,fromNav:f})},u=ue(()=>c=>BA(xt(we(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:a,isDisabled:u,updateMonthYear:l}};var go=(t=>(t.center="center",t.left="left",t.right="right",t))(go||{});const dB=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:s,emit:i,props:o,slots:a})=>{const l=ae({}),u=ae(!1),c=ae({top:"0",left:"0"}),d=ae(!1),f=rl(o,"teleportCenter");Ut(f,()=>{c.value=JSON.parse(JSON.stringify({})),m()});const h=L=>{if(o.teleport){const A=L.getBoundingClientRect();return{left:A.left+window.scrollX,top:A.top+window.scrollY}}return{top:0,left:0}},p=(L,A)=>{c.value.left=`${L+A-l.value.width}px`},y=L=>{c.value.left=`${L}px`},T=(L,A)=>{o.position===go.left&&y(L),o.position===go.right&&p(L,A),o.position===go.center&&(c.value.left=`${L+A/2-l.value.width/2}px`)},C=L=>{const{width:A,height:K}=L.getBoundingClientRect(),{top:te,left:Te}=o.altPosition?o.altPosition(L):h(L);return{top:+te,left:+Te,width:A,height:K}},k=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},R=()=>{const L=nn(n),{top:A,left:K,transform:te}=o.altPosition(L);c.value={top:`${A}px`,left:`${K}px`,transform:te??""}},m=(L=!0)=>{var A;if(!s.value.enabled){if(f.value)return k();if(o.altPosition!==null)return R();if(L){const K=o.teleport?(A=e.value)==null?void 0:A.$el:t.value;K&&(l.value=K.getBoundingClientRect()),i("recalculate-position")}return Q()}},P=({inputEl:L,left:A,width:K})=>{window.screen.width>768&&!u.value&&T(A,K),I(L)},b=L=>{const{top:A,left:K,height:te,width:Te}=C(L);c.value.top=`${te+A+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${K+Te/2-l.value.width/2}px`),P({inputEl:L,left:K,width:Te})},_=L=>{const{top:A,left:K,width:te}=C(L);c.value.top=`${A-+o.offset-l.value.height}px`,d.value=!0,P({inputEl:L,left:K,width:te})},I=L=>{if(o.autoPosition){const{left:A,width:K}=C(L),{left:te,right:Te}=l.value;if(!u.value){if(Math.abs(te)!==Math.abs(Te)){if(te<=0)return u.value=!0,y(A);if(Te>=document.documentElement.clientWidth)return u.value=!0,p(A,K)}return T(A,K)}}},O=()=>{const L=nn(n);if(L){const{height:A}=l.value,{top:K,height:te}=L.getBoundingClientRect(),Te=window.innerHeight-K-te,de=K;return A<=Te?vi.bottom:A>Te&&A<=de?vi.top:Te>=de?vi.bottom:vi.top}return vi.bottom},F=L=>O()===vi.bottom?b(L):_(L),Q=()=>{const L=nn(n);if(L)return o.autoPosition?F(L):b(L)},M=function(L){if(L){const A=L.scrollHeight>L.clientHeight,K=window.getComputedStyle(L).overflowY.indexOf("hidden")!==-1;return A&&!K}return!0},q=function(L){return!L||L===document.body||L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:M(L)?L:q(L.parentNode)},le=L=>{if(L)switch(o.position){case go.left:return{left:0,transform:"translateX(0)"};case go.right:return{left:`${L.width}px`,transform:"translateX(-100%)"};default:return{left:`${L.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:m,getScrollableParent:q,shadowRender:(L,A)=>{var K,te,Te;const de=document.createElement("div"),z=(K=nn(n))==null?void 0:K.getBoundingClientRect();de.setAttribute("id","dp--temp-container");const J=(te=r.value)!=null&&te.clientWidth?r.value:document.body;J.append(de);const E=le(z),B=Rr(L,{...A,shadow:!0,style:{opacity:0,position:"absolute",...E}},Object.fromEntries(Object.keys(a).filter(ce=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(ce)).map(ce=>[ce,a[ce]])));Mv(B,de),l.value=(Te=B.el)==null?void 0:Te.getBoundingClientRect(),Mv(null,de),J.removeChild(de)}}},As=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]}],fB=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],hB={all:()=>As,monthYear:()=>As.filter(t=>t.use.includes("month-year")),input:()=>fB,timePicker:()=>As.filter(t=>t.use.includes("time")),action:()=>As.filter(t=>t.use.includes("action")),calendar:()=>As.filter(t=>t.use.includes("calendar")),menu:()=>As.filter(t=>t.use.includes("menu")),shared:()=>As.filter(t=>t.use.includes("shared")),yearMode:()=>As.filter(t=>t.use.includes("year-mode"))},jn=(t,e,n)=>{const r=[];return hB[e]().forEach(s=>{t[s.name]&&r.push(s.name)}),n!=null&&n.length&&n.forEach(s=>{s.slot&&r.push(s.slot)}),r},du=t=>{const e=ue(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ue(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},fu=(t,e)=>{const{defaultedRange:n,defaultedTz:r}=$t(t),s=we(ps(we(),r.value.timezone)),i=ae([{month:it(s),year:Ze(s)}]),o=en({hours:n.value.enabled?[hr(s),hr(s)]:hr(s),minutes:n.value.enabled?[qr(s),qr(s)]:qr(s),seconds:n.value.enabled?[0,0]:0}),a=ue({get:()=>t.internalModelValue,set:c=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",c)}}),l=ue(()=>c=>i.value[c]?i.value[c].month:0),u=ue(()=>c=>i.value[c]?i.value[c].year:0);return{calendars:i,time:o,modelValue:a,month:l,year:u}},pB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedHighlight:s,defaultedTz:i,propDates:o,defaultedRange:a}=$t(e),{isDisabled:l}=ui(e),u=ae(null),c=ae(ps(new Date,i.value.timezone)),d=E=>{!E.current&&e.hideOffsetDates||(u.value=E.value)},f=()=>{u.value=null},h=E=>Array.isArray(t.value)&&a.value.enabled&&t.value[0]&&u.value?E?qt(u.value,t.value[0]):Ft(u.value,t.value[0]):!0,p=(E,B)=>{const ce=()=>t.value?B?t.value[0]||null:t.value[1]:null,ne=t.value&&Array.isArray(t.value)?ce():null;return rt(we(E.value),ne)},y=E=>{const B=Array.isArray(t.value)?t.value[0]:null;return E?!Ft(u.value??null,B):!0},T=(E,B=!0)=>(a.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!E.current?!1:rt(we(E.value),t.value[B?0:1]):a.value.enabled?p(E,B)&&y(B)||rt(E.value,Array.isArray(t.value)?t.value[0]:null)&&h(B):!1,C=(E,B)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const ce=rt(E.value,u.value);return B?qt(t.value[0],E.value)&&ce:Ft(t.value[0],E.value)&&ce}return!1},k=E=>!t.value||e.hideOffsetDates&&!E.current?!1:a.value.enabled?e.modelAuto&&Array.isArray(t.value)?rt(E.value,t.value[0]?t.value[0]:c.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(B=>rt(B,E.value)):rt(E.value,t.value?t.value:c.value),R=E=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!E.current)return!1;const B=or(u.value,+a.value.autoRange),ce=is(we(u.value),e.weekStart);return e.weekPicker?rt(ce[1],we(E.value)):rt(B,we(E.value))}return!1}return!1},m=E=>{if(a.value.autoRange||e.weekPicker){if(u.value){const B=or(u.value,+a.value.autoRange);if(e.hideOffsetDates&&!E.current)return!1;const ce=is(we(u.value),e.weekStart);return e.weekPicker?qt(E.value,ce[0])&&Ft(E.value,ce[1]):qt(E.value,u.value)&&Ft(E.value,B)}return!1}return!1},P=E=>{if(a.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!E.current)return!1;const B=is(we(u.value),e.weekStart);return e.weekPicker?rt(B[0],E.value):rt(u.value,E.value)}return!1}return!1},b=E=>of(t.value,u.value,E.value),_=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,I=()=>e.modelAuto?MA(e.internalModelValue):!0,O=E=>{if(e.weekPicker)return!1;const B=a.value.enabled?!T(E)&&!T(E,!1):!0;return!l(E.value)&&!k(E)&&!(!E.current&&e.hideOffsetDates)&&B},F=E=>a.value.enabled?e.modelAuto?_()&&k(E):!1:k(E),Q=E=>s.value?V6(E.value,o.value.highlight):!1,M=E=>{const B=l(E.value);return B&&(typeof s.value=="function"?!s.value(E.value,B):!s.value.options.highlightDisabled)},q=E=>{var B;return typeof s.value=="function"?s.value(E.value):(B=s.value.weekdays)==null?void 0:B.includes(E.value.getDay())},le=E=>(a.value.enabled||e.weekPicker)&&(!(n.value.count>0)||E.current)&&I()&&!(!E.current&&e.hideOffsetDates)&&!k(E)?b(E):!1,L=E=>{const{isRangeStart:B,isRangeEnd:ce}=Te(E),ne=a.value.enabled?B||ce:!1;return{dp__cell_offset:!E.current,dp__pointer:!e.disabled&&!(!E.current&&e.hideOffsetDates)&&!l(E.value),dp__cell_disabled:l(E.value),dp__cell_highlight:!M(E)&&(Q(E)||q(E))&&!F(E)&&!ne&&!P(E)&&!(le(E)&&e.weekPicker)&&!ce,dp__cell_highlight_active:!M(E)&&(Q(E)||q(E))&&F(E),dp__today:!e.noToday&&rt(E.value,c.value)&&E.current,"dp--past":Ft(E.value,c.value),"dp--future":qt(E.value,c.value)}},A=E=>({dp__active_date:F(E),dp__date_hover:O(E)}),K=E=>{if(t.value&&!Array.isArray(t.value)){const B=is(t.value,e.weekStart);return{...z(E),dp__range_start:rt(B[0],E.value),dp__range_end:rt(B[1],E.value),dp__range_between_week:qt(E.value,B[0])&&Ft(E.value,B[1])}}return{...z(E)}},te=E=>{if(t.value&&Array.isArray(t.value)){const B=is(t.value[0],e.weekStart),ce=t.value[1]?is(t.value[1],e.weekStart):[];return{...z(E),dp__range_start:rt(B[0],E.value)||rt(ce[0],E.value),dp__range_end:rt(B[1],E.value)||rt(ce[1],E.value),dp__range_between_week:qt(E.value,B[0])&&Ft(E.value,B[1])||qt(E.value,ce[0])&&Ft(E.value,ce[1]),dp__range_between:qt(E.value,B[1])&&Ft(E.value,ce[0])}}return{...z(E)}},Te=E=>{const B=n.value.count>0?E.current&&T(E)&&I():T(E)&&I(),ce=n.value.count>0?E.current&&T(E,!1)&&I():T(E,!1)&&I();return{isRangeStart:B,isRangeEnd:ce}},de=E=>{const{isRangeStart:B,isRangeEnd:ce}=Te(E);return{dp__range_start:B,dp__range_end:ce,dp__range_between:le(E),dp__date_hover:rt(E.value,u.value)&&!B&&!ce&&!e.weekPicker,dp__date_hover_start:C(E,!0),dp__date_hover_end:C(E,!1)}},z=E=>({...de(E),dp__cell_auto_range:m(E),dp__cell_auto_range_start:P(E),dp__cell_auto_range_end:R(E)}),J=E=>a.value.enabled?a.value.autoRange?z(E):e.modelAuto?{...A(E),...de(E)}:e.weekPicker?te(E):de(E):e.weekPicker?K(E):A(E);return{setHoverDate:d,clearHoverDate:f,getDayClassData:E=>e.hideOffsetDates&&!E.current?{}:{...L(E),...J(E),[e.dayClass?e.dayClass(E.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},ui=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:s}=$t(t),i=M=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(we(M)):!!qc(M,r.value.disabledDates):!1,o=M=>{const q=r.value.maxDate?qt(M,r.value.maxDate):!1,le=r.value.minDate?Ft(M,r.value.minDate):!1,L=i(M),A=e.value.months.map(z=>+z).includes(it(M)),K=t.disabledWeekDays.length?t.disabledWeekDays.some(z=>+z===CU(M)):!1,te=d(M),Te=Ze(M),de=Te<+t.yearRange[0]||Te>+t.yearRange[1];return!(q||le||L||A||de||K||te)},a=(M,q)=>Ft(...$s(r.value.minDate,M,q))||rt(...$s(r.value.minDate,M,q)),l=(M,q)=>qt(...$s(r.value.maxDate,M,q))||rt(...$s(r.value.maxDate,M,q)),u=(M,q,le)=>{let L=!1;return r.value.maxDate&&le&&l(M,q)&&(L=!0),r.value.minDate&&!le&&a(M,q)&&(L=!0),L},c=(M,q,le,L)=>{let A=!1;return L?r.value.minDate&&r.value.maxDate?A=u(M,q,le):(r.value.minDate&&a(M,q)||r.value.maxDate&&l(M,q))&&(A=!0):A=!0,A},d=M=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!qc(M,r.value.allowedDates):!1,f=M=>!o(M),h=M=>n.value.noDisabledRange?!yA({start:M[0],end:M[1]}).some(q=>f(q)):!0,p=M=>{if(M){const q=Ze(M);return q>=+t.yearRange[0]&&q<=t.yearRange[1]}return!0},y=(M,q)=>!!(Array.isArray(M)&&M[q]&&(n.value.maxRange||n.value.minRange)&&p(M[q])),T=(M,q,le=0)=>{if(y(q,le)&&p(M)){const L=gA(M,q[le]),A=FA(q[le],M),K=A.length===1?0:A.filter(Te=>f(Te)).length,te=Math.abs(L)-(n.value.minMaxRawRange?0:K);if(n.value.minRange&&n.value.maxRange)return te>=+n.value.minRange&&te<=+n.value.maxRange;if(n.value.minRange)return te>=+n.value.minRange;if(n.value.maxRange)return te<=+n.value.maxRange}return!0},C=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,k=M=>Array.isArray(M)?[M[0]?ih(M[0]):null,M[1]?ih(M[1]):null]:ih(M),R=(M,q,le)=>M.find(L=>+L.hours===hr(q)&&L.minutes==="*"?!0:+L.minutes===qr(q)&&+L.hours===hr(q))&&le,m=(M,q,le)=>{const[L,A]=M,[K,te]=q;return!R(L,K,le)&&!R(A,te,le)&&le},P=(M,q)=>{const le=Array.isArray(q)?q:[q];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?m(t.disabledTimes,le,M):!le.some(L=>R(t.disabledTimes,L,M)):M},b=(M,q)=>{const le=Array.isArray(q)?[Li(q[0]),q[1]?Li(q[1]):void 0]:Li(q),L=!t.disabledTimes(le);return M&&L},_=(M,q)=>t.disabledTimes?Array.isArray(t.disabledTimes)?P(q,M):b(q,M):q,I=M=>{let q=!0;if(!M||C())return!0;const le=!r.value.minDate&&!r.value.maxDate?k(M):M;return(t.maxTime||r.value.maxDate)&&(q=T0(t.maxTime,r.value.maxDate,"max",sn(le),q)),(t.minTime||r.value.minDate)&&(q=T0(t.minTime,r.value.minDate,"min",sn(le),q)),_(M,q)},O=M=>{if(!t.monthPicker)return!0;let q=!0;const le=we(ar(M));if(r.value.minDate&&r.value.maxDate){const L=we(ar(r.value.minDate)),A=we(ar(r.value.maxDate));return qt(le,L)&&Ft(le,A)||rt(le,L)||rt(le,A)}if(r.value.minDate){const L=we(ar(r.value.minDate));q=qt(le,L)||rt(le,L)}if(r.value.maxDate){const L=we(ar(r.value.maxDate));q=Ft(le,L)||rt(le,L)}return q},F=ue(()=>M=>!t.enableTimePicker||t.ignoreTimeValidation?!0:I(M)),Q=ue(()=>M=>t.monthPicker?Array.isArray(M)&&(n.value.enabled||s.value.enabled)?!M.filter(q=>!O(q)).length:O(M):!0);return{isDisabled:f,validateDate:o,validateMonthYearInRange:c,isDateRangeAllowed:h,checkMinMaxRange:T,isValidTime:I,isTimeValid:F,isMonthValid:Q}},af=()=>{const t=ue(()=>(r,s)=>r==null?void 0:r.includes(s)),e=ue(()=>(r,s)=>r.count?r.solo?!0:s===0:!0),n=ue(()=>(r,s)=>r.count?r.solo?!0:s===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},mB=(t,e,n)=>{const r=ae(0),s=en({[$i.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[$i.calendar]:!1,[$i.header]:!1}),i=ue(()=>t.monthPicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&i.value)return c();s[d]=!0,Object.keys(s).filter(h=>!s[h]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,f,...h)=>{var p,y;t.flow[r.value]===d&&n.value&&((y=(p=n.value)[f])==null||y.call(p,...h))},c=()=>{u(Tr.month,"toggleMonthPicker",!0),u(Tr.year,"toggleYearPicker",!0),u(Tr.calendar,"toggleTimePicker",!1,!0),u(Tr.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Tr.hours||d===Tr.minutes||d===Tr.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},lf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null}},yr={...lf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})}},gB={key:1,class:"dp__input_wrap"},vB=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],yB={key:2,class:"dp__clear_icon"},_B=nt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...lf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,s=t,{defaultedTextInput:i,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d,getDefaultStartTime:f}=$t(s),{checkMinMaxRange:h}=ui(s),p=ae(),y=ae(null),T=ae(!1),C=ae(!1),k=ue(()=>({dp__pointer:!s.disabled&&!s.readonly&&!i.value.enabled,dp__disabled:s.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!s.hideInputIcon,dp__input_valid:!!s.state,dp__input_invalid:s.state===!1,dp__input_focus:T.value||s.isMenuOpen,dp__input_reg:!i.value.enabled,[s.inputClassName]:!!s.inputClassName})),R=()=>{r("set-input-date",null),s.clearable&&s.autoApply&&(r("set-empty-date"),p.value=null)},m=A=>{const K=f();return L6(A,i.value.format??d(),K??UA({},s.enableSeconds),s.inputValue,C.value,s.formatLocale)},P=A=>{const{rangeSeparator:K}=i.value,[te,Te]=A.split(`${K}`);if(te){const de=m(te.trim()),z=Te?m(Te.trim()):null,J=de&&z?[de,z]:[de];h(z,J,0)&&(p.value=de?J:null)}},b=()=>{C.value=!0},_=A=>{if(u.value.enabled)P(A);else if(c.value.enabled){const K=A.split(";");p.value=K.map(te=>m(te.trim())).filter(te=>te)}else p.value=m(A)},I=A=>{var K;const te=typeof A=="string"?A:(K=A.target)==null?void 0:K.value;te!==""?(i.value.openMenu&&!s.isMenuOpen&&r("open"),_(te),r("set-input-date",p.value)):R(),C.value=!1,r("update:input-value",te)},O=A=>{i.value.enabled?(_(A.target.value),i.value.enterSubmit&&Tp(p.value)&&s.inputValue!==""?(r("set-input-date",p.value,!0),p.value=null):i.value.enterSubmit&&s.inputValue===""&&(p.value=null,r("clear"))):M(A)},F=A=>{i.value.enabled&&i.value.tabSubmit&&_(A.target.value),i.value.tabSubmit&&Tp(p.value)&&s.inputValue!==""?(r("set-input-date",p.value,!0,!0),p.value=null):i.value.tabSubmit&&s.inputValue===""&&(p.value=null,r("clear",!0))},Q=()=>{T.value=!0,r("focus"),At().then(()=>{var A;i.value.enabled&&i.value.selectOnFocus&&((A=y.value)==null||A.select())})},M=A=>{A.preventDefault(),Ws(A,l.value,!0),i.value.enabled&&i.value.openMenu&&!a.value.input&&!s.isMenuOpen?r("open"):i.value.enabled||r("toggle")},q=()=>{r("real-blur"),T.value=!1,(!s.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),s.autoApply&&i.value.enabled&&p.value&&!s.isMenuOpen&&(r("set-input-date",p.value),r("select-date"),p.value=null)},le=A=>{Ws(A,l.value,!0),r("clear")},L=A=>{if(!i.value.enabled){if(A.code==="Tab")return;A.preventDefault()}};return e({focusInput:()=>{var A;(A=y.value)==null||A.focus({preventScroll:!0})},setParsedDate:A=>{p.value=A}}),(A,K)=>{var te;return V(),Y("div",{onClick:M},[A.$slots.trigger&&!A.$slots["dp-input"]&&!g(a).enabled?De(A.$slots,"trigger",{key:0}):ie("",!0),!A.$slots.trigger&&(!g(a).enabled||g(a).input)?(V(),Y("div",gB,[A.$slots["dp-input"]&&!A.$slots.trigger&&(!g(a).enabled||g(a).enabled&&g(a).input)?De(A.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:I,onEnter:O,onTab:F,onClear:le,onBlur:q,onKeypress:L,onPaste:b,openMenu:()=>A.$emit("open"),closeMenu:()=>A.$emit("close"),toggleMenu:()=>A.$emit("toggle")}):ie("",!0),A.$slots["dp-input"]?ie("",!0):(V(),Y("input",{key:1,id:A.uid?`dp-input-${A.uid}`:void 0,ref_key:"inputRef",ref:y,name:A.name,class:Ve(k.value),inputmode:g(i).enabled?"text":"none",placeholder:A.placeholder,disabled:A.disabled,readonly:A.readonly,required:A.required,value:t.inputValue,autocomplete:A.autocomplete,"aria-label":(te=g(o))==null?void 0:te.input,"aria-disabled":A.disabled||void 0,"aria-invalid":A.state===!1?!0:void 0,onInput:I,onKeydown:[Xe(O,["enter"]),Xe(F,["tab"]),L],onBlur:q,onFocus:Q,onKeypress:L,onPaste:b},null,42,vB)),S("div",{onClick:K[2]||(K[2]=Te=>r("toggle"))},[A.$slots["input-icon"]&&!A.hideInputIcon?(V(),Y("span",{key:0,class:"dp__input_icon",onClick:K[0]||(K[0]=Te=>r("toggle"))},[De(A.$slots,"input-icon")])):ie("",!0),!A.$slots["input-icon"]&&!A.hideInputIcon&&!A.$slots["dp-input"]?(V(),Ue(g(ha),{key:1,class:"dp__input_icon dp__input_icons",onClick:K[1]||(K[1]=Te=>r("toggle"))})):ie("",!0)]),A.$slots["clear-icon"]&&t.inputValue&&A.clearable&&!A.disabled&&!A.readonly?(V(),Y("span",yB,[De(A.$slots,"clear-icon",{clear:le})])):ie("",!0),A.clearable&&!A.$slots["clear-icon"]&&t.inputValue&&!A.disabled&&!A.readonly?(V(),Ue(g(DA),{key:3,class:"dp__clear_icon dp__input_icons",onClick:K[3]||(K[3]=vt(Te=>le(Te),["prevent"]))})):ie("",!0)])):ie("",!0)])}}}),bB=["title"],wB=["disabled"],TB=nt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...yr},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:s,defaultedPreviewFormat:i,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=$t(r),{isTimeValid:f,isMonthValid:h}=ui(r),{buildMatrix:p}=li(),y=ae(null),T=ae(null),C=ae(!1),k=ae({}),R=ae(null),m=ae(null);Lt(()=>{r.arrowNavigation&&p([nn(y),nn(T)],"actionRow"),P(),window.addEventListener("resize",P)}),Ki(()=>{window.removeEventListener("resize",P)});const P=()=>{C.value=!1,setTimeout(()=>{var L,A;const K=(L=R.value)==null?void 0:L.getBoundingClientRect(),te=(A=m.value)==null?void 0:A.getBoundingClientRect();K&&te&&(k.value.maxWidth=`${te.width-K.width-20}px`),C.value=!0},0)},b=ue(()=>u.value.enabled&&!u.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),_=ue(()=>!f.value(r.internalModelValue)||!h.value(r.internalModelValue)||!b.value),I=()=>{const L=i.value;return r.timePicker||r.monthPicker,L(sn(r.internalModelValue))},O=()=>{const L=r.internalModelValue;return o.value.count>0?`${F(L[0])} - ${F(L[1])}`:[F(L[0]),F(L[1])]},F=L=>jA(L,i.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,d()),Q=ue(()=>!r.internalModelValue||!r.menuMount?"":typeof i.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?O():c.value.enabled?r.internalModelValue.map(L=>`${F(L)}`):r.modelAuto?`${F(r.internalModelValue[0])}`:`${F(r.internalModelValue[0])} -`:F(r.internalModelValue):I()),M=()=>c.value.enabled?"; ":" - ",q=ue(()=>Array.isArray(Q.value)?Q.value.join(M()):Q.value),le=()=>{f.value(r.internalModelValue)&&h.value(r.internalModelValue)&&b.value?n("select-date"):n("invalid-select")};return(L,A)=>(V(),Y("div",{ref_key:"actionRowRef",ref:m,class:"dp__action_row"},[L.$slots["action-row"]?De(L.$slots,"action-row",Xt(Wt({key:0},{internalModelValue:L.internalModelValue,disabled:_.value,selectDate:()=>L.$emit("select-date"),closePicker:()=>L.$emit("close-picker")}))):(V(),Y(Me,{key:1},[g(s).showPreview?(V(),Y("div",{key:0,class:"dp__selection_preview",title:q.value,style:In(k.value)},[L.$slots["action-preview"]&&C.value?De(L.$slots,"action-preview",{key:0,value:L.internalModelValue}):ie("",!0),!L.$slots["action-preview"]&&C.value?(V(),Y(Me,{key:1},[It(Le(q.value),1)],64)):ie("",!0)],12,bB)):ie("",!0),S("div",{ref_key:"actionBtnContainer",ref:R,class:"dp__action_buttons","data-dp-element":"action-row"},[L.$slots["action-buttons"]?De(L.$slots,"action-buttons",{key:0,value:L.internalModelValue}):ie("",!0),L.$slots["action-buttons"]?ie("",!0):(V(),Y(Me,{key:1},[!g(l).enabled&&g(s).showCancel?(V(),Y("button",{key:0,ref_key:"cancelButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[0]||(A[0]=K=>L.$emit("close-picker")),onKeydown:[A[1]||(A[1]=Xe(K=>L.$emit("close-picker"),["enter"])),A[2]||(A[2]=Xe(K=>L.$emit("close-picker"),["space"]))]},Le(L.cancelText),545)):ie("",!0),g(s).showNow?(V(),Y("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[3]||(A[3]=K=>L.$emit("select-now")),onKeydown:[A[4]||(A[4]=Xe(K=>L.$emit("select-now"),["enter"])),A[5]||(A[5]=Xe(K=>L.$emit("select-now"),["space"]))]},Le(L.nowButtonLabel),33)):ie("",!0),g(s).showSelect?(V(),Y("button",{key:2,ref_key:"selectButtonRef",ref:T,type:"button",class:"dp__action_button dp__action_select",disabled:_.value,onKeydown:[Xe(le,["enter"]),Xe(le,["space"])],onClick:le},Le(L.selectText),41,wB)):ie("",!0)],64))],512)],64))],512))}}),EB=["onKeydown"],AB={class:"dp__selection_grid_header"},xB=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],IB=["aria-label"],hu=nt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:s,setMonthPicker:i}=li(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=$t(a),{hideNavigationButtons:d}=af(),f=ae(!1),h=ae(null),p=ae(null),y=ae([]),T=ae(),C=ae(null),k=ae(0),R=ae(null);fb(()=>{h.value=null}),Lt(()=>{At().then(()=>Q()),a.noOverlayFocus||P(),m(!0)}),Ki(()=>m(!1));const m=de=>{var z;a.arrowNavigation&&((z=a.headerRefs)!=null&&z.length?i(de):r(de))},P=()=>{var de;const z=nn(p);z&&(u.value.enabled||(h.value?(de=h.value)==null||de.focus({preventScroll:!0}):z.focus({preventScroll:!0})),f.value=z.clientHeight<z.scrollHeight)},b=ue(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),_=ue(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),I=ue(()=>({dp__overlay_col:!0})),O=ue(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),F=ue(()=>{var de,z;return{dp__overlay_container:!0,dp__container_flex:((de=a.items)==null?void 0:de.length)<=6,dp__container_block:((z=a.items)==null?void 0:z.length)>6}});Ut(()=>a.items,()=>Q(!1),{deep:!0});const Q=(de=!0)=>{At().then(()=>{const z=nn(h),J=nn(p),E=nn(C),B=nn(R),ce=E?E.getBoundingClientRect().height:0;J&&(J.getBoundingClientRect().height?k.value=J.getBoundingClientRect().height-ce:k.value=c.value.modeHeight-ce),z&&B&&de&&(B.scrollTop=z.offsetTop-B.offsetTop-(k.value/2-z.getBoundingClientRect().height)-ce)})},M=de=>{de.disabled||o("selected",de.value)},q=()=>{o("toggle"),o("reset-flow")},le=()=>{a.escClose&&q()},L=(de,z,J,E)=>{de&&((z.active||z.value===a.focusValue)&&(h.value=de),a.arrowNavigation&&(Array.isArray(y.value[J])?y.value[J][E]=de:y.value[J]=[de],A()))},A=()=>{var de,z;const J=(de=a.headerRefs)!=null&&de.length?[a.headerRefs].concat(y.value):y.value.concat([a.skipButtonRef?[]:[C.value]]);s(sn(J),(z=a.headerRefs)!=null&&z.length?"monthPicker":"selectionGrid")},K=de=>{a.arrowNavigation||Ws(de,c.value,!0)},te=de=>{T.value=de,o("hover-value",de)},Te=()=>{if(q(),!a.isLast){const de=N6(a.menuWrapRef??null,"action-row");if(de){const z=NA(de);z==null||z.focus()}}};return e({focusGrid:P}),(de,z)=>{var J;return V(),Y("div",{ref_key:"gridWrapRef",ref:p,class:Ve(b.value),style:In(_.value),role:"dialog",tabindex:"0",onKeydown:[Xe(vt(le,["prevent"]),["esc"]),z[0]||(z[0]=Xe(vt(E=>K(E),["prevent"]),["left"])),z[1]||(z[1]=Xe(vt(E=>K(E),["prevent"]),["up"])),z[2]||(z[2]=Xe(vt(E=>K(E),["prevent"]),["down"])),z[3]||(z[3]=Xe(vt(E=>K(E),["prevent"]),["right"]))]},[S("div",{ref_key:"containerRef",ref:R,class:Ve(F.value),role:"grid",style:In({height:`${k.value}px`})},[S("div",AB,[De(de.$slots,"header")]),de.$slots.overlay?De(de.$slots,"overlay",{key:0}):(V(!0),Y(Me,{key:1},ct(de.items,(E,B)=>(V(),Y("div",{key:B,class:Ve(["dp__overlay_row",{dp__flex_row:de.items.length>=3}]),role:"row"},[(V(!0),Y(Me,null,ct(E,(ce,ne)=>(V(),Y("div",{key:ce.value,ref_for:!0,ref:x=>L(x,ce,B,ne),role:"gridcell",class:Ve(I.value),"aria-selected":ce.active||void 0,"aria-disabled":ce.disabled||void 0,tabindex:"0",onClick:x=>M(ce),onKeydown:[Xe(vt(x=>M(ce),["prevent"]),["enter"]),Xe(vt(x=>M(ce),["prevent"]),["space"])],onMouseover:x=>te(ce.value)},[S("div",{class:Ve(ce.className)},[de.$slots.item?De(de.$slots,"item",{key:0,item:ce}):ie("",!0),de.$slots.item?ie("",!0):(V(),Y(Me,{key:1},[It(Le(ce.text),1)],64))],2)],42,xB))),128))],2))),128))],6),de.$slots["button-icon"]?ut((V(),Y("button",{key:0,ref_key:"toggleButton",ref:C,type:"button","aria-label":(J=g(l))==null?void 0:J.toggleOverlay,class:Ve(O.value),tabindex:"0",onClick:q,onKeydown:[Xe(q,["enter"]),Xe(Te,["tab"])]},[De(de.$slots,"button-icon")],42,IB)),[[Fa,!g(d)(de.hideNavigation,de.type)]]):ie("",!0)],46,EB)}}}),uf=nt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=ue(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ue(()=>({dp__instance_calendar:e.multiCalendars>0}));return(s,i)=>(V(),Y("div",{class:Ve({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0,"dp--flex-display-collapsed":s.collapse})},[(V(!0),Y(Me,null,ct(n.value,(o,a)=>(V(),Y("div",{key:o,class:Ve(r.value)},[De(s.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),SB=["aria-label","aria-disabled"],el=nt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ae(null);return Lt(()=>n("set-ref",r)),(s,i)=>(V(),Y("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":s.ariaLabel,"aria-disabled":s.disabled||void 0,onClick:i[0]||(i[0]=o=>s.$emit("activate")),onKeydown:[i[1]||(i[1]=Xe(vt(o=>s.$emit("activate"),["prevent"]),["enter"])),i[2]||(i[2]=Xe(vt(o=>s.$emit("activate"),["prevent"]),["space"]))]},[S("span",{class:Ve(["dp__inner_nav",{dp__inner_nav_disabled:s.disabled}])},[De(s.$slots,"default")],2)],40,SB))}}),CB={class:"dp--year-mode-picker"},PB=["aria-label"],zA=nt({__name:"YearModePicker",props:{...yr,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:s,showLeftIcon:i}=af(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=$t(r),{showTransition:c,transitionName:d}=du(u),f=(y=!1,T)=>{n("toggle-year-picker",{flow:y,show:T})},h=y=>{n("year-select",y)},p=(y=!1)=>{n("handle-year",y)};return(y,T)=>{var C,k,R;return V(),Y("div",CB,[g(i)(g(a),t.instance)?(V(),Ue(el,{key:0,ref:"mpPrevIconRef","aria-label":(C=g(l))==null?void 0:C.prevYear,disabled:t.isDisabled(!1),onActivate:T[0]||(T[0]=m=>p(!1))},{default:Fe(()=>[y.$slots["arrow-left"]?De(y.$slots,"arrow-left",{key:0}):ie("",!0),y.$slots["arrow-left"]?ie("",!0):(V(),Ue(g(Mg),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),S("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(k=g(l))==null?void 0:k.openYearsOverlay,onClick:T[1]||(T[1]=()=>f(!1)),onKeydown:T[2]||(T[2]=Xe(()=>f(!1),["enter"]))},[y.$slots.year?De(y.$slots,"year",{key:0,year:t.year}):ie("",!0),y.$slots.year?ie("",!0):(V(),Y(Me,{key:1},[It(Le(t.year),1)],64))],40,PB),g(s)(g(a),t.instance)?(V(),Ue(el,{key:1,ref:"mpNextIconRef","aria-label":(R=g(l))==null?void 0:R.nextYear,disabled:t.isDisabled(!0),onActivate:T[3]||(T[3]=m=>p(!0))},{default:Fe(()=>[y.$slots["arrow-right"]?De(y.$slots,"arrow-right",{key:0}):ie("",!0),y.$slots["arrow-right"]?ie("",!0):(V(),Ue(g(Ng),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),qe(ei,{name:g(d)(t.showYearPicker),css:g(c)},{default:Fe(()=>[t.showYearPicker?(V(),Ue(hu,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!g(o).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,type:"year",onToggle:f,onSelected:T[4]||(T[4]=m=>h(m))},Dn({"button-icon":Fe(()=>[y.$slots["calendar-icon"]?De(y.$slots,"calendar-icon",{key:0}):ie("",!0),y.$slots["calendar-icon"]?ie("",!0):(V(),Ue(g(ha),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:m})=>[De(y.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ie("",!0)]),_:3},8,["name","css"])])}}}),Hg=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>rt(t,r))){const r=e.value.filter(s=>!rt(s,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},qg=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Ft(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},cf=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},GA=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>ps(we(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=ps(we(t.value),t.timezone))},YA=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(qt(t,e.value[0])||rt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(Ft(t,e.value[1])||rt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],KA=({multiCalendars:t,highlight:e,propDates:n,calendars:r,modelValue:s,props:i,filters:o,year:a,month:l,emit:u})=>{const c=ue(()=>Fg(i.yearRange,i.locale,i.reverseYears)),d=ae([!1]),f=ue(()=>(b,_)=>{const I=xt(ar(new Date),{month:l.value(b),year:a.value(b)});return BA(I,n.value.maxDate,n.value.minDate,i.preventMinMaxNavigation,_)}),h=()=>{for(let b=0;b<t.value.count;b++)if(b===0)r.value[b]=r.value[0];else{const _=xt(we(),r.value[b-1]);r.value[b]={month:it(_),year:Ze(Ig(_,1))}}},p=b=>{if(!b)return h();const _=xt(we(),r.value[b]);return r.value[0].year=Ze(kA(_,t.value.count-1)),h()},y=b=>i.focusStartDate?b[0]:b[1]?b[1]:b[0],T=()=>{if(s.value){const b=Array.isArray(s.value)?y(s.value):s.value;r.value[0]={month:it(b),year:Ze(b)}}};Lt(()=>{T(),t.value.count&&h()});const C=(b,_)=>{r.value[_].year=b,t.value.count&&!t.value.solo&&p(_)},k=ue(()=>b=>na(c.value,_=>{var I;const O=a.value(b)===_.value,F=Vl(_.value,ra(n.value.minDate),ra(n.value.maxDate))||((I=o.value.years)==null?void 0:I.includes(a.value(b))),Q=jg(e.value,_.value);return{active:O,disabled:F,highlighted:Q}})),R=(b,_)=>{C(b,_),P(_)},m=(b,_=!1)=>{if(!f.value(b,_)){const I=_?a.value(b)+1:a.value(b)-1;C(I,b)}},P=(b,_=!1,I)=>{_||u("reset-flow"),I!==void 0?d.value[b]=I:d.value[b]=!d.value[b],d.value||u("overlay-closed")};return{isDisabled:f,groupedYears:k,showYearPicker:d,selectYear:C,toggleYearPicker:P,handleYearSelect:R,handleYear:m}},RB=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,defaultedRange:o,defaultedHighlight:a,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=$t(t),{modelValue:f,year:h,month:p,calendars:y}=fu(t,e),T=ue(()=>OA(t.formatLocale,t.locale,t.monthNameFormat)),C=ae(null),{checkMinMaxRange:k}=ui(t),{selectYear:R,groupedYears:m,showYearPicker:P,toggleYearPicker:b,handleYearSelect:_,handleYear:I,isDisabled:O}=KA({modelValue:f,multiCalendars:n,highlight:a,calendars:y,year:h,propDates:l,month:p,filters:c,props:t,emit:e});Lt(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&R(Ze(we(t.startDate)),0)});const F=E=>E?{month:it(E),year:Ze(E)}:{month:null,year:null},Q=()=>f.value?Array.isArray(f.value)?f.value.map(E=>F(E)):F(f.value):F(),M=(E,B)=>{const ce=y.value[E],ne=Q();return Array.isArray(ne)?ne.some(x=>x.year===(ce==null?void 0:ce.year)&&x.month===B):(ce==null?void 0:ce.year)===ne.year&&B===ne.month},q=(E,B,ce)=>{var ne,x;const se=Q();return Array.isArray(se)?h.value(B)===((ne=se[ce])==null?void 0:ne.year)&&E===((x=se[ce])==null?void 0:x.month):!1},le=(E,B)=>{if(o.value.enabled){const ce=Q();if(Array.isArray(f.value)&&Array.isArray(ce)){const ne=q(E,B,0)||q(E,B,1),x=cs(ar(we()),E,h.value(B));return of(f.value,C.value,x)&&!ne}return!1}return!1},L=ue(()=>E=>na(T.value,B=>{var ce;const ne=M(E,B.value),x=Vl(B.value,LA(h.value(E),l.value.minDate),$A(h.value(E),l.value.maxDate))||H6(l.value.disabledDates,h.value(E)).includes(B.value)||((ce=c.value.months)==null?void 0:ce.includes(B.value)),se=le(B.value,E),D=HA(a.value,B.value,h.value(E));return{active:ne,disabled:x,isBetween:se,highlighted:D}})),A=(E,B)=>cs(ar(we()),E,h.value(B)),K=(E,B)=>{const ce=f.value?f.value:ar(new Date);f.value=cs(ce,E,h.value(B)),e("auto-apply"),e("update-flow-step")},te=(E,B)=>{const ce=A(E,B);o.value.fixedEnd||o.value.fixedStart?f.value=YA(ce,f,e,o):f.value?k(ce,f.value)&&(f.value=qg(f,A(E,B),e)):f.value=[A(E,B)],At().then(()=>{cf(f.value,e,t.autoApply,t.modelAuto)})},Te=(E,B)=>{Hg(A(E,B),f,d.value.limit),e("auto-apply",!0)},de=(E,B)=>(y.value[B].month=E,J(B,y.value[B].year,E),d.value.enabled?Te(E,B):o.value.enabled?te(E,B):K(E,B)),z=(E,B)=>{R(E,B),J(B,E,null)},J=(E,B,ce)=>{let ne=ce;if(!ne&&ne!==0){const x=Q();ne=Array.isArray(x)?x[E].month:x.month}e("update-month-year",{instance:E,year:B,month:ne})};return{groupedMonths:L,groupedYears:m,year:h,isDisabled:O,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:s,defaultedConfig:i,showYearPicker:P,modelValue:f,presetDate:(E,B)=>{GA({value:E,modelValue:f,range:o.value.enabled,timezone:B?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(E,B)=>{C.value=A(E,B)},selectMonth:de,selectYear:z,toggleYearPicker:b,handleYearSelect:_,handleYear:I,getModelMonthYear:Q}},kB=nt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...yr},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:e,emit:n}){const r=n,s=Qi(),i=jn(s,"yearMode"),o=t;Lt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:y,setHoverDate:T,selectMonth:C,selectYear:k,toggleYearPicker:R,handleYearSelect:m,handleYear:P,getModelMonthYear:b}=RB(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:b,selectMonth:C,selectYear:k,handleYear:P}),presetDate:y,toggleYearPicker:_=>R(0,_)}),(_,I)=>(V(),Ue(uf,{"multi-calendars":g(d).count,collapse:_.collapse,stretch:""},{default:Fe(({instance:O})=>[_.$slots["top-extra"]?De(_.$slots,"top-extra",{key:0,value:_.internalModelValue}):ie("",!0),_.$slots["month-year"]?De(_.$slots,"month-year",Xt(Wt({key:1},{year:g(u),months:g(a)(O),years:g(l)(O),selectMonth:g(C),selectYear:g(k),instance:O}))):(V(),Ue(hu,{key:2,items:g(a)(O),"arrow-navigation":_.arrowNavigation,"is-last":_.autoApply&&!g(f).keepActionRow,"esc-close":_.escClose,height:g(f).modeHeight,config:_.config,"no-overlay-focus":!!(_.noOverlayFocus||_.textInput),"use-relative":"",type:"month",onSelected:F=>g(C)(F,O),onHoverValue:F=>g(T)(F,O)},{header:Fe(()=>[qe(zA,Wt(_.$props,{items:g(l)(O),instance:O,"show-year-picker":g(h)[O],year:g(u)(O),"is-disabled":F=>g(c)(O,F),onHandleYear:F=>g(P)(O,F),onYearSelect:F=>g(m)(F,O),onToggleYearPicker:F=>g(R)(O,F==null?void 0:F.flow,F==null?void 0:F.show)}),Dn({_:2},[ct(g(i),(F,Q)=>({name:F,fn:Fe(M=>[De(_.$slots,F,Xt(gn(M)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),DB=(t,e)=>{const{modelValue:n}=fu(t,e),r=ae(null),{defaultedHighlight:s,defaultedMultiDates:i,defaultedFilters:o,defaultedRange:a,propDates:l}=$t(t),u=ae();Lt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(u.value=Ze(we(t.startDate)))});const c=p=>Array.isArray(n.value)?n.value.some(y=>Ze(y)===p):n.value?Ze(n.value)===p:!1,d=p=>a.value.enabled&&Array.isArray(n.value)?of(n.value,r.value,h(p)):!1,f=ue(()=>na(Fg(t.yearRange,t.locale,t.reverseYears),p=>{const y=c(p.value),T=Vl(p.value,ra(l.value.minDate),ra(l.value.maxDate))||o.value.years.includes(p.value),C=d(p.value)&&!y,k=jg(s.value,p.value);return{active:y,disabled:T,isBetween:C,highlighted:k}})),h=p=>Or(ar(new Date),p);return{groupedYears:f,modelValue:n,focusYear:u,setHoverValue:p=>{r.value=Or(ar(new Date),p)},selectYear:p=>{var y;if(e("update-month-year",{instance:0,year:p}),i.value.enabled)return n.value?Array.isArray(n.value)&&(((y=n.value)==null?void 0:y.map(T=>Ze(T))).includes(p)?n.value=n.value.filter(T=>Ze(T)!==p):n.value.push(Or(Wn(we()),p))):n.value=[Or(Wn(we()),p)],e("auto-apply",!0);a.value.enabled?(n.value=qg(n,h(p),e),At().then(()=>{cf(n.value,e,t.autoApply,t.modelAuto)})):(n.value=h(p),e("auto-apply"))}}},OB=nt({compatConfig:{MODE:3},__name:"YearPicker",props:{...yr},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,s=t,{groupedYears:i,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=DB(s,r),{defaultedConfig:c}=$t(s);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(V(),Y("div",null,[d.$slots["top-extra"]?De(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):ie("",!0),d.$slots["month-year"]?De(d.$slots,"month-year",Xt(Wt({key:1},{years:g(i),selectYear:g(l)}))):(V(),Ue(hu,{key:2,items:g(i),"is-last":d.autoApply&&!g(c).keepActionRow,height:g(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":g(a),type:"year","use-relative":"",onSelected:g(l),onHoverValue:g(u)},Dn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:h})=>[De(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),MB={key:0,class:"dp__time_input"},NB=["aria-label","onKeydown","onClick"],VB=S("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),LB=S("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),$B=["aria-label","disabled","onKeydown","onClick"],FB=["aria-label","onKeydown","onClick"],UB=S("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),BB=S("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),jB={key:0},HB=["aria-label","onKeydown"],qB=nt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...yr},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,{setTimePickerElements:i,setTimePickerBackRef:o}=li(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=$t(s),{transitionName:f,showTransition:h}=du(l),p=en({hours:!1,minutes:!1,seconds:!1}),y=ae("AM"),T=ae(null),C=ae([]);Lt(()=>{r("mounted")});const k=D=>xt(new Date,{hours:D.hours,minutes:D.minutes,seconds:s.enableSeconds?D.seconds:0,milliseconds:0}),R=ue(()=>D=>L(D,s[D])||P(D,s[D])),m=ue(()=>({hours:s.hours,minutes:s.minutes,seconds:s.seconds})),P=(D,j)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!s.validateTime(D,j):!1,b=(D,j)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const Ae=j?+s[`${D}Increment`]:-+s[`${D}Increment`],_e=s[D]+Ae;return!s.validateTime(D,_e)}return!1},_=ue(()=>D=>!Te(+s[D]+ +s[`${D}Increment`],D)||b(D,!0)),I=ue(()=>D=>!Te(+s[D]-+s[`${D}Increment`],D)||b(D,!1)),O=(D,j)=>fA(xt(we(),D),j),F=(D,j)=>S6(xt(we(),D),j),Q=ue(()=>({dp__time_col:!0,dp__time_col_block:!s.timePickerInline,dp__time_col_reg_block:!s.enableSeconds&&s.is24&&!s.timePickerInline,dp__time_col_reg_inline:!s.enableSeconds&&s.is24&&s.timePickerInline,dp__time_col_reg_with_button:!s.enableSeconds&&!s.is24,dp__time_col_sec:s.enableSeconds&&s.is24,dp__time_col_sec_with_button:s.enableSeconds&&!s.is24})),M=ue(()=>{const D=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return s.enableSeconds?D.concat([{type:"",separator:!0},{type:"seconds"}]):D}),q=ue(()=>M.value.filter(D=>!D.separator)),le=ue(()=>D=>{if(D==="hours"){const j=B(+s.hours);return{text:j<10?`0${j}`:`${j}`,value:j}}return{text:s[D]<10?`0${s[D]}`:`${s[D]}`,value:s[D]}}),L=(D,j)=>{var Ae;if(!s.disabledTimesConfig)return!1;const _e=s.disabledTimesConfig(s.order,D==="hours"?j:void 0);return _e[D]?!!((Ae=_e[D])!=null&&Ae.includes(j)):!0},A=D=>{const j=s.is24?24:12,Ae=D==="hours"?j:60,_e=+s[`${D}GridIncrement`],v=D==="hours"&&!s.is24?_e:0,w=[];for(let U=v;U<Ae;U+=_e)w.push({value:U,text:U<10?`0${U}`:`${U}`});return D==="hours"&&!s.is24&&w.push({value:0,text:"12"}),na(w,U=>({active:!1,disabled:u.value.times[D].includes(U.value)||!Te(U.value,D)||L(D,U.value)||P(D,U.value)}))},K=D=>D>=0?D:59,te=D=>D>=0?D:23,Te=(D,j)=>{const Ae=s.minTime?k(nh(s.minTime)):null,_e=s.maxTime?k(nh(s.maxTime)):null,v=k(nh(m.value,j,j==="minutes"||j==="seconds"?K(D):te(D)));return Ae&&_e?(Nl(v,_e)||bo(v,_e))&&(Ml(v,Ae)||bo(v,Ae)):Ae?Ml(v,Ae)||bo(v,Ae):_e?Nl(v,_e)||bo(v,_e):!0},de=D=>s[`no${D[0].toUpperCase()+D.slice(1)}Overlay`],z=D=>{de(D)||(p[D]=!p[D],p[D]||r("overlay-closed"))},J=D=>D==="hours"?hr:D==="minutes"?qr:ea,E=(D,j=!0)=>{const Ae=j?O:F,_e=j?+s[`${D}Increment`]:-+s[`${D}Increment`];Te(+s[D]+_e,D)&&r(`update:${D}`,J(D)(Ae({[D]:+s[D]},{[D]:+s[`${D}Increment`]})))},B=D=>s.is24?D:(D>=12?y.value="PM":y.value="AM",R6(D)),ce=()=>{y.value==="PM"?(y.value="AM",r("update:hours",s.hours-12)):(y.value="PM",r("update:hours",s.hours+12)),r("am-pm-change",y.value)},ne=D=>{p[D]=!0},x=(D,j,Ae)=>{if(D&&s.arrowNavigation){Array.isArray(C.value[j])?C.value[j][Ae]=D:C.value[j]=[D];const _e=C.value.reduce((v,w)=>w.map((U,G)=>[...v[G]||[],w[G]]),[]);o(s.closeTimePickerBtn),T.value&&(_e[1]=_e[1].concat(T.value)),i(_e,s.order)}},se=(D,j)=>(z(D),D==="hours"&&!s.is24?r(`update:${D}`,y.value==="PM"?j+12:j):r(`update:${D}`,j));return e({openChildCmp:ne}),(D,j)=>{var Ae;return D.disabled?ie("",!0):(V(),Y("div",MB,[(V(!0),Y(Me,null,ct(M.value,(_e,v)=>{var w,U,G;return V(),Y("div",{key:v,class:Ve(Q.value)},[_e.separator?(V(),Y(Me,{key:0},[It(" : ")],64)):(V(),Y(Me,{key:1},[S("button",{ref_for:!0,ref:Z=>x(Z,v,0),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!D.timePickerInline,dp__inc_dec_button_inline:D.timePickerInline,dp__tp_inline_btn_top:D.timePickerInline,dp__inc_dec_button_disabled:_.value(_e.type)}),"aria-label":(w=g(a))==null?void 0:w.incrementValue(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>E(_e.type),["prevent"]),["enter"]),Xe(vt(Z=>E(_e.type),["prevent"]),["space"])],onClick:Z=>E(_e.type)},[s.timePickerInline?(V(),Y(Me,{key:1},[VB,LB],64)):(V(),Y(Me,{key:0},[D.$slots["arrow-up"]?De(D.$slots,"arrow-up",{key:0}):ie("",!0),D.$slots["arrow-up"]?ie("",!0):(V(),Ue(g(Lg),{key:1}))],64))],42,NB),S("button",{ref_for:!0,ref:Z=>x(Z,v,1),type:"button","aria-label":(U=g(a))==null?void 0:U.openTpOverlay(_e.type),class:Ve({dp__time_display:!0,dp__time_display_block:!D.timePickerInline,dp__time_display_inline:D.timePickerInline,"dp--time-invalid":R.value(_e.type),"dp--time-overlay-btn":!R.value(_e.type)}),disabled:de(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>z(_e.type),["prevent"]),["enter"]),Xe(vt(Z=>z(_e.type),["prevent"]),["space"])],onClick:Z=>z(_e.type)},[D.$slots[_e.type]?De(D.$slots,_e.type,{key:0,text:le.value(_e.type).text,value:le.value(_e.type).value}):ie("",!0),D.$slots[_e.type]?ie("",!0):(V(),Y(Me,{key:1},[It(Le(le.value(_e.type).text),1)],64))],42,$B),S("button",{ref_for:!0,ref:Z=>x(Z,v,2),type:"button",class:Ve({dp__btn:!0,dp__inc_dec_button:!D.timePickerInline,dp__inc_dec_button_inline:D.timePickerInline,dp__tp_inline_btn_bottom:D.timePickerInline,dp__inc_dec_button_disabled:I.value(_e.type)}),"aria-label":(G=g(a))==null?void 0:G.decrementValue(_e.type),tabindex:"0",onKeydown:[Xe(vt(Z=>E(_e.type,!1),["prevent"]),["enter"]),Xe(vt(Z=>E(_e.type,!1),["prevent"]),["space"])],onClick:Z=>E(_e.type,!1)},[s.timePickerInline?(V(),Y(Me,{key:1},[UB,BB],64)):(V(),Y(Me,{key:0},[D.$slots["arrow-down"]?De(D.$slots,"arrow-down",{key:0}):ie("",!0),D.$slots["arrow-down"]?ie("",!0):(V(),Ue(g($g),{key:1}))],64))],42,FB)],64))],2)}),128)),D.is24?ie("",!0):(V(),Y("div",jB,[D.$slots["am-pm-button"]?De(D.$slots,"am-pm-button",{key:0,toggle:ce,value:y.value}):ie("",!0),D.$slots["am-pm-button"]?ie("",!0):(V(),Y("button",{key:1,ref_key:"amPmButton",ref:T,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(Ae=g(a))==null?void 0:Ae.amPmButton,tabindex:"0",onClick:ce,onKeydown:[Xe(vt(ce,["prevent"]),["enter"]),Xe(vt(ce,["prevent"]),["space"])]},Le(y.value),41,HB))])),(V(!0),Y(Me,null,ct(q.value,(_e,v)=>(V(),Ue(ei,{key:v,name:g(f)(p[_e.type]),css:g(h)},{default:Fe(()=>[p[_e.type]?(V(),Ue(hu,{key:0,items:A(_e.type),"is-last":D.autoApply&&!g(c).keepActionRow,"esc-close":D.escClose,type:_e.type,"text-input":D.textInput,config:D.config,"arrow-navigation":D.arrowNavigation,"aria-labels":D.ariaLabels,onSelected:w=>se(_e.type,w),onToggle:w=>z(_e.type),onResetFlow:j[0]||(j[0]=w=>D.$emit("reset-flow"))},Dn({"button-icon":Fe(()=>[D.$slots["clock-icon"]?De(D.$slots,"clock-icon",{key:0}):ie("",!0),D.$slots["clock-icon"]?ie("",!0):(V(),Ue(ed(D.timePickerInline?g(ha):g(Vg)),{key:1}))]),_:2},[D.$slots[`${_e.type}-overlay-value`]?{name:"item",fn:Fe(({item:w})=>[De(D.$slots,`${_e.type}-overlay-value`,{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ie("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),WB={class:"dp--tp-wrap"},zB=["aria-label","tabindex"],GB=["tabindex"],YB=["aria-label"],QA=nt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...yr},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,{buildMatrix:i,setTimePicker:o}=li(),a=Qi(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:f}=$t(s),{transitionName:h,showTransition:p}=du(l),{hideNavigationButtons:y}=af(),T=ae(null),C=ae(null),k=ae([]),R=ae(null);Lt(()=>{r("mount"),!s.timePicker&&s.arrowNavigation?i([nn(T.value)],"time"):o(!0,s.timePicker)});const m=ue(()=>f.value.enabled&&s.modelAuto?MA(s.internalModelValue):!0),P=ae(!1),b=A=>({hours:Array.isArray(s.hours)?s.hours[A]:s.hours,minutes:Array.isArray(s.minutes)?s.minutes[A]:s.minutes,seconds:Array.isArray(s.seconds)?s.seconds[A]:s.seconds}),_=ue(()=>{const A=[];if(f.value.enabled)for(let K=0;K<2;K++)A.push(b(K));else A.push(b(0));return A}),I=(A,K=!1,te="")=>{K||r("reset-flow"),P.value=A,r(A?"overlay-opened":"overlay-closed"),s.arrowNavigation&&o(A),At(()=>{te!==""&&k.value[0]&&k.value[0].openChildCmp(te)})},O=ue(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!d.value.keepActionRow})),F=jn(a,"timePicker"),Q=(A,K,te)=>f.value.enabled?K===0?[A,_.value[1][te]]:[_.value[0][te],A]:A,M=A=>{r("update:hours",A)},q=A=>{r("update:minutes",A)},le=A=>{r("update:seconds",A)},L=()=>{if(R.value&&!c.value.enabled&&!s.noOverlayFocus){const A=NA(R.value);A&&A.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),(A,K)=>{var te;return V(),Y("div",WB,[!A.timePicker&&!A.timePickerInline?ut((V(),Y("button",{key:0,ref_key:"openTimePickerBtn",ref:T,type:"button",class:Ve(O.value),"aria-label":(te=g(u))==null?void 0:te.openTimePicker,tabindex:A.noOverlayFocus?void 0:0,onKeydown:[K[0]||(K[0]=Xe(Te=>I(!0),["enter"])),K[1]||(K[1]=Xe(Te=>I(!0),["space"]))],onClick:K[2]||(K[2]=Te=>I(!0))},[A.$slots["clock-icon"]?De(A.$slots,"clock-icon",{key:0}):ie("",!0),A.$slots["clock-icon"]?ie("",!0):(V(),Ue(g(Vg),{key:1}))],42,zB)),[[Fa,!g(y)(A.hideNavigation,"time")]]):ie("",!0),qe(ei,{name:g(h)(P.value),css:g(p)&&!A.timePickerInline},{default:Fe(()=>{var Te;return[P.value||A.timePicker||A.timePickerInline?(V(),Y("div",{key:0,ref_key:"overlayRef",ref:R,class:Ve({dp__overlay:!A.timePickerInline,"dp--overlay-absolute":!s.timePicker&&!A.timePickerInline,"dp--overlay-relative":s.timePicker}),style:In(A.timePicker?{height:`${g(d).modeHeight}px`}:void 0),tabindex:A.timePickerInline?void 0:0},[S("div",{class:Ve(A.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[A.$slots["time-picker-overlay"]?De(A.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:q,setSeconds:le}):ie("",!0),A.$slots["time-picker-overlay"]?ie("",!0):(V(),Y("div",{key:1,class:Ve(A.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(V(!0),Y(Me,null,ct(_.value,(de,z)=>ut((V(),Ue(qB,Wt({key:z},{...A.$props,order:z,hours:de.hours,minutes:de.minutes,seconds:de.seconds,closeTimePickerBtn:C.value,disabledTimesConfig:t.disabledTimesConfig,disabled:z===0?A.fixedStart:A.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:k,"validate-time":(J,E)=>t.validateTime(J,Q(E,z,J)),"onUpdate:hours":J=>M(Q(J,z,"hours")),"onUpdate:minutes":J=>q(Q(J,z,"minutes")),"onUpdate:seconds":J=>le(Q(J,z,"seconds")),onMounted:L,onOverlayClosed:L,onAmPmChange:K[3]||(K[3]=J=>A.$emit("am-pm-change",J))}),Dn({_:2},[ct(g(F),(J,E)=>({name:J,fn:Fe(B=>[De(A.$slots,J,Xt(gn(B)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Fa,z===0?!0:m.value]])),128))],2)),!A.timePicker&&!A.timePickerInline?ut((V(),Y("button",{key:2,ref_key:"closeTimePickerBtn",ref:C,type:"button",class:Ve(O.value),"aria-label":(Te=g(u))==null?void 0:Te.closeTimePicker,tabindex:"0",onKeydown:[K[4]||(K[4]=Xe(de=>I(!1),["enter"])),K[5]||(K[5]=Xe(de=>I(!1),["space"]))],onClick:K[6]||(K[6]=de=>I(!1))},[A.$slots["calendar-icon"]?De(A.$slots,"calendar-icon",{key:0}):ie("",!0),A.$slots["calendar-icon"]?ie("",!0):(V(),Ue(g(ha),{key:1}))],42,YB)),[[Fa,!g(y)(A.hideNavigation,"time")]]):ie("",!0)],2)],14,GB)):ie("",!0)]}),_:3},8,["name","css"])])}}}),XA=(t,e,n,r)=>{const{defaultedRange:s}=$t(t),i=(R,m)=>Array.isArray(e[R])?e[R][m]:e[R],o=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,a=(R,m)=>R?m!==void 0?zs(R,i("hours",m),i("minutes",m),o(m)):zs(R,e.hours,e.minutes,o()):Og(we(),o(m)),l=(R,m)=>{e[R]=m},u=ue(()=>t.modelAuto&&s.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:s.value.enabled),c=(R,m)=>{const P=Object.fromEntries(Object.keys(e).map(b=>b===R?[b,m]:[b,e[b]].slice()));if(u.value&&!s.value.disableTimeRangeValidation){const b=I=>n.value?zs(n.value[I],P.hours[I],P.minutes[I],P.seconds[I]):null,_=I=>Dg(n.value[I],0);return!(rt(b(0),b(1))&&(Ml(b(0),_(1))||Nl(b(1),_(0))))}return!0},d=(R,m)=>{c(R,m)&&(l(R,m),r&&r())},f=R=>{d("hours",R)},h=R=>{d("minutes",R)},p=R=>{d("seconds",R)},y=(R,m,P,b)=>{m&&f(R),!m&&!P&&h(R),P&&p(R),n.value&&b(n.value)},T=R=>{if(R){const m=Array.isArray(R),P=m?[+R[0].hours,+R[1].hours]:+R.hours,b=m?[+R[0].minutes,+R[1].minutes]:+R.minutes,_=m?[+R[0].seconds,+R[1].seconds]:+R.seconds;l("hours",P),l("minutes",b),t.enableSeconds&&l("seconds",_)}},C=(R,m)=>{const P={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(m||m===0)&&(P.hours=m),Array.isArray(t.disabledTimes)&&(P.disabledArr=s.value.enabled&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),P},k=ue(()=>(R,m)=>{var P;if(Array.isArray(t.disabledTimes)){const{disabledArr:b,hours:_}=C(R,m),I=b.filter(O=>+O.hours===_);return((P=I[0])==null?void 0:P.minutes)==="*"?{hours:[_],minutes:void 0,seconds:void 0}:{hours:[],minutes:(I==null?void 0:I.map(O=>+O.minutes))??[],seconds:(I==null?void 0:I.map(O=>O.seconds?+O.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:f,updateMinutes:h,updateSeconds:p,getSetDateTime:a,updateTimeValues:y,getSecondsValue:o,assignStartTime:T,validateTime:c,disabledTimesConfig:k}},KB=(t,e)=>{const{modelValue:n,time:r}=fu(t,e),{defaultedStartTime:s,defaultedRange:i}=$t(t),{updateTimeValues:o,getSetDateTime:a,setTime:l,assignStartTime:u,disabledTimesConfig:c,validateTime:d}=XA(t,r,n),f=R=>{const{hours:m,minutes:P,seconds:b}=R;return{hours:+m,minutes:+P,seconds:b?+b:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const m=f(t.startTime[0]),P=f(t.startTime[1]);return[xt(we(),m),xt(we(),P)]}const R=f(t.startTime);return xt(we(),R)}return i.value.enabled?[null,null]:null},p=()=>{if(i.value.enabled){const[R,m]=h();n.value=[a(R,0),a(m,1)]}else n.value=a(h())},y=R=>Array.isArray(R)?[Li(we(R[0])),Li(we(R[1]))]:[Li(R??we())],T=(R,m,P)=>{l("hours",R),l("minutes",m),l("seconds",t.enableSeconds?P:0)},C=()=>{const[R,m]=y(n.value);return i.value.enabled?T([R.hours,m.hours],[R.minutes,m.minutes],[R.seconds,m.seconds]):T(R.hours,R.minutes,R.seconds)};Lt(()=>{if(!t.shadow)return u(s.value),n.value?C():p()});const k=()=>{Array.isArray(n.value)?n.value=n.value.map((R,m)=>R&&a(R,m)):n.value=a(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:c,updateTime:(R,m=!0,P=!1)=>{o(R,m,P,k)},validateTime:d}},QB=nt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...yr},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=Qi(),o=jn(i,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=KB(s,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,h)=>(V(),Ue(uf,{"multi-calendars":0,stretch:""},{default:Fe(()=>[qe(QA,Wt(f.$props,{hours:g(a).hours,minutes:g(a).minutes,seconds:g(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":g(u),"validate-time":g(d),"onUpdate:hours":h[0]||(h[0]=p=>g(c)(p)),"onUpdate:minutes":h[1]||(h[1]=p=>g(c)(p,!1)),"onUpdate:seconds":h[2]||(h[2]=p=>g(c)(p,!1,!0)),onAmPmChange:h[3]||(h[3]=p=>f.$emit("am-pm-change",p))}),Dn({_:2},[ct(g(o),(p,y)=>({name:p,fn:Fe(T=>[De(f.$slots,p,Xt(gn(T)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),XB={class:"dp--header-wrap"},JB={key:0,class:"dp__month_year_wrap"},ZB={key:0},e9={class:"dp__month_year_wrap"},t9=["aria-label","onClick","onKeydown"],n9=nt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...yr},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,s=t,{defaultedTransitions:i,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d}=$t(s),{transitionName:f,showTransition:h}=du(i),{buildMatrix:p}=li(),{handleMonthYearChange:y,isDisabled:T,updateMonthYear:C}=cB(s,r),{showLeftIcon:k,showRightIcon:R}=af(),m=ae(!1),P=ae(!1),b=ae([null,null,null,null]);Lt(()=>{r("mount")});const _=z=>({get:()=>s[z],set:J=>{const E=z===sr.month?sr.year:sr.month;r("update-month-year",{[z]:J,[E]:s[E]}),z===sr.month?L(!0):A(!0)}}),I=ue(_(sr.month)),O=ue(_(sr.year)),F=ue(()=>z=>({month:s.month,year:s.year,items:z===sr.month?s.months:s.years,instance:s.instance,updateMonthYear:C,toggle:z===sr.month?L:A})),Q=ue(()=>s.months.find(J=>J.value===s.month)||{text:"",value:0}),M=ue(()=>na(s.months,z=>{const J=s.month===z.value,E=Vl(z.value,LA(s.year,d.value.minDate),$A(s.year,d.value.maxDate))||l.value.months.includes(z.value),B=HA(c.value,z.value,s.year);return{active:J,disabled:E,highlighted:B}})),q=ue(()=>na(s.years,z=>{const J=s.year===z.value,E=Vl(z.value,ra(d.value.minDate),ra(d.value.maxDate))||l.value.years.includes(z.value),B=jg(c.value,z.value);return{active:J,disabled:E,highlighted:B}})),le=(z,J)=>{J!==void 0?z.value=J:z.value=!z.value,z.value||r("overlay-closed")},L=(z=!1,J)=>{K(z),le(m,J)},A=(z=!1,J)=>{K(z),le(P,J)},K=z=>{z||r("reset-flow")},te=(z,J)=>{s.arrowNavigation&&(b.value[J]=nn(z),p(b.value,"monthYear"))},Te=ue(()=>{var z,J;return[{type:sr.month,index:1,toggle:L,modelValue:I.value,updateModelValue:E=>I.value=E,text:Q.value.text,showSelectionGrid:m.value,items:M.value,ariaLabel:(z=o.value)==null?void 0:z.openMonthsOverlay},{type:sr.year,index:2,toggle:A,modelValue:O.value,updateModelValue:E=>O.value=E,text:VA(s.year,s.locale),showSelectionGrid:P.value,items:q.value,ariaLabel:(J=o.value)==null?void 0:J.openYearsOverlay}]}),de=ue(()=>s.disableYearSelect?[Te.value[0]]:s.yearFirst?[...Te.value].reverse():Te.value);return e({toggleMonthPicker:L,toggleYearPicker:A,handleMonthYearChange:y}),(z,J)=>{var E,B,ce;return V(),Y("div",XB,[z.$slots["month-year"]?(V(),Y("div",JB,[De(z.$slots,"month-year",Xt(gn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:g(C),handleMonthYearChange:g(y),instance:t.instance})))])):(V(),Y(Me,{key:1},[z.$slots["top-extra"]?(V(),Y("div",ZB,[De(z.$slots,"top-extra",{value:z.internalModelValue})])):ie("",!0),S("div",e9,[g(k)(g(a),t.instance)&&!z.vertical?(V(),Ue(el,{key:0,"aria-label":(E=g(o))==null?void 0:E.prevMonth,disabled:g(T)(!1),onActivate:J[0]||(J[0]=ne=>g(y)(!1,!0)),onSetRef:J[1]||(J[1]=ne=>te(ne,0))},{default:Fe(()=>[z.$slots["arrow-left"]?De(z.$slots,"arrow-left",{key:0}):ie("",!0),z.$slots["arrow-left"]?ie("",!0):(V(),Ue(g(Mg),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),S("div",{class:Ve(["dp__month_year_wrap",{dp__year_disable_select:z.disableYearSelect}])},[(V(!0),Y(Me,null,ct(de.value,(ne,x)=>(V(),Y(Me,{key:ne.type},[S("button",{ref_for:!0,ref:se=>te(se,x+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ne.ariaLabel,onClick:ne.toggle,onKeydown:[Xe(vt(ne.toggle,["prevent"]),["enter"]),Xe(vt(ne.toggle,["prevent"]),["space"])]},[z.$slots[ne.type]?De(z.$slots,ne.type,{key:0,text:ne.text,value:s[ne.type]}):ie("",!0),z.$slots[ne.type]?ie("",!0):(V(),Y(Me,{key:1},[It(Le(ne.text),1)],64))],40,t9),qe(ei,{name:g(f)(ne.showSelectionGrid),css:g(h)},{default:Fe(()=>[ne.showSelectionGrid?(V(),Ue(hu,{key:0,items:ne.items,"arrow-navigation":z.arrowNavigation,"hide-navigation":z.hideNavigation,"is-last":z.autoApply&&!g(u).keepActionRow,"skip-button-ref":!1,config:z.config,type:ne.type,"header-refs":[],"esc-close":z.escClose,"menu-wrap-ref":z.menuWrapRef,"text-input":z.textInput,"aria-labels":z.ariaLabels,onSelected:ne.updateModelValue,onToggle:ne.toggle},Dn({"button-icon":Fe(()=>[z.$slots["calendar-icon"]?De(z.$slots,"calendar-icon",{key:0}):ie("",!0),z.$slots["calendar-icon"]?ie("",!0):(V(),Ue(g(ha),{key:1}))]),_:2},[z.$slots[`${ne.type}-overlay-value`]?{name:"item",fn:Fe(({item:se})=>[De(z.$slots,`${ne.type}-overlay-value`,{text:se.text,value:se.value})]),key:"0"}:void 0,z.$slots[`${ne.type}-overlay`]?{name:"overlay",fn:Fe(()=>[De(z.$slots,`${ne.type}-overlay`,Xt(gn(F.value(ne.type))))]),key:"1"}:void 0,z.$slots[`${ne.type}-overlay-header`]?{name:"header",fn:Fe(()=>[De(z.$slots,`${ne.type}-overlay-header`,{toggle:ne.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ie("",!0)]),_:2},1032,["name","css"])],64))),128))],2),g(k)(g(a),t.instance)&&z.vertical?(V(),Ue(el,{key:1,"aria-label":(B=g(o))==null?void 0:B.prevMonth,disabled:g(T)(!1),onActivate:J[2]||(J[2]=ne=>g(y)(!1,!0))},{default:Fe(()=>[z.$slots["arrow-up"]?De(z.$slots,"arrow-up",{key:0}):ie("",!0),z.$slots["arrow-up"]?ie("",!0):(V(),Ue(g(Lg),{key:1}))]),_:3},8,["aria-label","disabled"])):ie("",!0),g(R)(g(a),t.instance)?(V(),Ue(el,{key:2,ref:"rightIcon",disabled:g(T)(!0),"aria-label":(ce=g(o))==null?void 0:ce.nextMonth,onActivate:J[3]||(J[3]=ne=>g(y)(!0,!0)),onSetRef:J[4]||(J[4]=ne=>te(ne,z.disableYearSelect?2:3))},{default:Fe(()=>[z.$slots[z.vertical?"arrow-down":"arrow-right"]?De(z.$slots,z.vertical?"arrow-down":"arrow-right",{key:0}):ie("",!0),z.$slots[z.vertical?"arrow-down":"arrow-right"]?ie("",!0):(V(),Ue(ed(z.vertical?g($g):g(Ng)),{key:1}))]),_:3},8,["disabled","aria-label"])):ie("",!0)])],64))])}}}),r9=["aria-label"],s9={class:"dp__calendar_header",role:"row"},i9={key:0,class:"dp__calendar_header_item",role:"gridcell"},o9=["aria-label"],a9=S("div",{class:"dp__calendar_header_separator"},null,-1),l9=["aria-label"],u9={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},c9={class:"dp__cell_inner"},d9=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],f9=nt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...yr},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,s=t,{buildMultiLevelMatrix:i}=li(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d}=$t(s),f=ae(null),h=ae({bottom:"",left:"",transform:""}),p=ae([]),y=ae(null),T=ae(!0),C=ae(""),k=ae({startX:0,endX:0,startY:0,endY:0}),R=ae([]),m=ae({left:"50%"}),P=ae(!1),b=ue(()=>s.calendar?s.calendar(s.mappedDates):s.mappedDates),_=ue(()=>s.dayNames?Array.isArray(s.dayNames)?s.dayNames:s.dayNames(s.locale,+s.weekStart):P6(s.formatLocale,s.locale,+s.weekStart));Lt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||y.value&&(y.value.addEventListener("touchstart",Te,{passive:!1}),y.value.addEventListener("touchend",de,{passive:!1}),y.value.addEventListener("touchmove",z,{passive:!1})),s.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",B,{passive:!1})});const I=j=>j?s.vertical?"vNext":"next":s.vertical?"vPrevious":"previous",O=(j,Ae)=>{if(s.transitions){const _e=Wn(cs(we(),s.month,s.year));C.value=qt(Wn(cs(we(),j,Ae)),_e)?o.value[I(!0)]:o.value[I(!1)],T.value=!1,At(()=>{T.value=!0})}},F=ue(()=>({[s.calendarClassName]:!!s.calendarClassName})),Q=ue(()=>j=>{const Ae=k6(j);return{dp__marker_dot:Ae.type==="dot",dp__marker_line:Ae.type==="line"}}),M=ue(()=>j=>rt(j,f.value)),q=ue(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&s.instance!==0})),le=ue(()=>j=>s.hideOffsetDates?j.current:!0),L=j=>Hr(j,"yyyy-MM-dd"),A=async(j,Ae,_e)=>{const v=nn(p.value[Ae][_e]);if(v){const{width:w,height:U}=v.getBoundingClientRect();f.value=j.value;let G={left:`${w/2}px`},Z=-50;if(await At(),R.value[0]){const{left:X,width:Ee}=R.value[0].getBoundingClientRect();X<0&&(G={left:"0"},Z=0,m.value.left=`${w/2}px`),window.innerWidth<X+Ee&&(G={right:"0"},Z=0,m.value.left=`${Ee-w/2}px`)}h.value={bottom:`${U}px`,...G,transform:`translateX(${Z}%)`},r("tooltip-open",j.marker)}},K=async(j,Ae,_e)=>{var v,w;if(P.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",j);r("set-hover-date",j),(w=(v=j.marker)==null?void 0:v.tooltip)!=null&&w.length&&await A(j,Ae,_e)},te=j=>{f.value&&(f.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",j.marker))},Te=j=>{k.value.startX=j.changedTouches[0].screenX,k.value.startY=j.changedTouches[0].screenY},de=j=>{k.value.endX=j.changedTouches[0].screenX,k.value.endY=j.changedTouches[0].screenY,J()},z=j=>{s.vertical&&!s.inline&&j.preventDefault()},J=()=>{const j=s.vertical?"Y":"X";Math.abs(k.value[`start${j}`]-k.value[`end${j}`])>10&&r("handle-swipe",k.value[`start${j}`]>k.value[`end${j}`]?"right":"left")},E=(j,Ae,_e)=>{j&&(Array.isArray(p.value[Ae])?p.value[Ae][_e]=j:p.value[Ae]=[j]),s.arrowNavigation&&i(p.value,"calendar")},B=j=>{s.monthChangeOnScroll&&(j.preventDefault(),r("handle-scroll",j))},ce=j=>c.value.type==="local"?Pg(j.value,{weekStartsOn:+s.weekStart}):c.value.type==="iso"?Sg(j.value):typeof c.value.type=="function"?c.value.type(j.value):"",ne=j=>{const Ae=j[0];return c.value.hideOnOffsetDates?j.some(_e=>_e.current)?ce(Ae):"":ce(Ae)},x=(j,Ae)=>{d.value.enabled||(Ws(j,a.value),r("select-date",Ae))},se=j=>{Ws(j,a.value)},D=j=>{d.value.enabled&&d.value.dragSelect?(P.value=!0,r("select-date",j)):d.value.enabled&&r("select-date",j)};return e({triggerTransition:O}),(j,Ae)=>{var _e;return V(),Y("div",{class:Ve(q.value)},[S("div",{ref_key:"calendarWrapRef",ref:y,role:"grid",class:Ve(F.value),"aria-label":(_e=g(l))==null?void 0:_e.calendarWrap},[S("div",s9,[j.weekNumbers?(V(),Y("div",i9,Le(j.weekNumName),1)):ie("",!0),(V(!0),Y(Me,null,ct(_.value,(v,w)=>{var U,G;return V(),Y("div",{key:w,class:"dp__calendar_header_item",role:"gridcell","aria-label":(G=(U=g(l))==null?void 0:U.weekDay)==null?void 0:G.call(U,w)},[j.$slots["calendar-header"]?De(j.$slots,"calendar-header",{key:0,day:v,index:w}):ie("",!0),j.$slots["calendar-header"]?ie("",!0):(V(),Y(Me,{key:1},[It(Le(v),1)],64))],8,o9)}),128))]),a9,qe(ei,{name:C.value,css:!!j.transitions},{default:Fe(()=>{var v;return[T.value?(V(),Y("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((v=g(l))==null?void 0:v.calendarDays)||void 0,onMouseleave:Ae[1]||(Ae[1]=w=>P.value=!1)},[(V(!0),Y(Me,null,ct(b.value,(w,U)=>(V(),Y("div",{key:U,class:"dp__calendar_row",role:"row"},[j.weekNumbers?(V(),Y("div",u9,[S("div",c9,Le(ne(w.days)),1)])):ie("",!0),(V(!0),Y(Me,null,ct(w.days,(G,Z)=>{var X,Ee,he;return V(),Y("div",{id:L(G.value),ref_for:!0,ref:me=>E(me,U,Z),key:Z+U,role:"gridcell",class:"dp__calendar_item","aria-selected":(G.classData.dp__active_date||G.classData.dp__range_start||G.classData.dp__range_start)??void 0,"aria-disabled":G.classData.dp__cell_disabled||void 0,"aria-label":(Ee=(X=g(l))==null?void 0:X.day)==null?void 0:Ee.call(X,G),tabindex:"0",onClick:vt(me=>x(me,G),["prevent"]),onKeydown:[Xe(me=>j.$emit("select-date",G),["enter"]),Xe(me=>j.$emit("handle-space",G),["space"])],onMouseenter:me=>K(G,U,Z),onMouseleave:me=>te(G),onMousedown:me=>D(G),onMouseup:Ae[0]||(Ae[0]=me=>P.value=!1)},[S("div",{class:Ve(["dp__cell_inner",G.classData])},[j.$slots.day&&le.value(G)?De(j.$slots,"day",{key:0,day:+G.text,date:G.value}):ie("",!0),j.$slots.day?ie("",!0):(V(),Y(Me,{key:1},[It(Le(G.text),1)],64)),G.marker&&le.value(G)?(V(),Y(Me,{key:2},[j.$slots.marker?De(j.$slots,"marker",{key:0,marker:G.marker,day:+G.text,date:G.value}):(V(),Y("div",{key:1,class:Ve(Q.value(G.marker)),style:In(G.marker.color?{backgroundColor:G.marker.color}:{})},null,6))],64)):ie("",!0),M.value(G.value)?(V(),Y("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:R,class:"dp__marker_tooltip",style:In(h.value)},[(he=G.marker)!=null&&he.tooltip?(V(),Y("div",{key:0,class:"dp__tooltip_content",onClick:se},[(V(!0),Y(Me,null,ct(G.marker.tooltip,(me,pe)=>(V(),Y("div",{key:pe,class:"dp__tooltip_text"},[j.$slots["marker-tooltip"]?De(j.$slots,"marker-tooltip",{key:0,tooltip:me,day:G.value}):ie("",!0),j.$slots["marker-tooltip"]?ie("",!0):(V(),Y(Me,{key:1},[S("div",{class:"dp__tooltip_mark",style:In(me.color?{backgroundColor:me.color}:{})},null,4),S("div",null,Le(me.text),1)],64))]))),128)),S("div",{class:"dp__arrow_bottom_tp",style:In(m.value)},null,4)])):ie("",!0)],4)):ie("",!0)],2)],40,d9)}),128))]))),128))],40,l9)):ie("",!0)]}),_:3},8,["name","css"])],10,r9)],2)}}}),x0=t=>Array.isArray(t),h9=(t,e,n,r)=>{const s=ae([]),i=ae(new Date),{modelValue:o,calendars:a,time:l}=fu(t,e),{defaultedMultiCalendars:u,defaultedStartTime:c,defaultedRange:d,defaultedTz:f,propDates:h,defaultedMultiDates:p}=$t(t),{validateMonthYearInRange:y,isDisabled:T,isDateRangeAllowed:C,checkMinMaxRange:k}=ui(t),{updateTimeValues:R,getSetDateTime:m,setTime:P,assignStartTime:b,validateTime:_,disabledTimesConfig:I}=XA(t,l,o,r),O=ue(()=>$=>a.value[$]?a.value[$].month:0),F=ue(()=>$=>a.value[$]?a.value[$].year:0),Q=($,re,N)=>{var oe,ge;a.value[$]||(a.value[$]={month:0,year:0}),a.value[$].month=b0(re)?(oe=a.value[$])==null?void 0:oe.month:re,a.value[$].year=b0(N)?(ge=a.value[$])==null?void 0:ge.year:N},M=()=>{t.autoApply&&e("select-date")};Ut(o,($,re)=>{JSON.stringify($)!==JSON.stringify(re)&&L()},{deep:!0}),Lt(()=>{t.shadow||(o.value||(ne(),c.value&&b(c.value)),L(!0),t.focusStartDate&&t.startDate&&ne())});const q=ue(()=>{var $;return($=t.flow)!=null&&$.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),le=()=>{t.autoApply&&q.value&&e("auto-apply")},L=($=!1)=>{if(o.value)return Array.isArray(o.value)?(s.value=o.value,J($)):te(o.value,$);if(u.value.count&&$&&!t.startDate)return K(we(),$)},A=()=>Array.isArray(o.value)&&d.value.enabled?it(o.value[0])===it(o.value[1]??o.value[0]):!1,K=($,re=!1)=>{if((!u.value.count||!u.value.static||re)&&Q(0,it($),Ze($)),u.value.count&&(!u.value.solo||!o.value||A()))for(let N=1;N<u.value.count;N++){const oe=xt(we(),{month:O.value(N-1),year:F.value(N-1)}),ge=fA(oe,{months:1});a.value[N]={month:it(ge),year:Ze(ge)}}},te=($,re)=>{K($),P("hours",hr($)),P("minutes",qr($)),P("seconds",ea($)),u.value.count&&re&&ce()},Te=$=>{if(u.value.count){if(u.value.solo)return 0;const re=it($[0]),N=it($[1]);return Math.abs(N-re)<u.value.count?0:1}return 1},de=($,re)=>{$[1]&&d.value.showLastInRange?K($[Te($)],re):K($[0],re);const N=(oe,ge)=>[oe($[0]),$[1]?oe($[1]):l[ge][1]];P("hours",N(hr,"hours")),P("minutes",N(qr,"minutes")),P("seconds",N(ea,"seconds"))},z=($,re)=>{if((d.value.enabled||t.weekPicker)&&!p.value.enabled)return de($,re);if(p.value.enabled&&re){const N=$[$.length-1];return te(N,re)}},J=$=>{const re=o.value;z(re,$),u.value.count&&u.value.solo&&ce()},E=($,re)=>{const N=xt(we(),{month:O.value(re),year:F.value(re)}),oe=$<0?fr(N,1):ta(N,1);y(it(oe),Ze(oe),$<0,t.preventMinMaxNavigation)&&(Q(re,it(oe),Ze(oe)),e("update-month-year",{instance:re,month:it(oe),year:Ze(oe)}),u.value.count&&!u.value.solo&&B(re),n())},B=$=>{for(let re=$-1;re>=0;re--){const N=ta(xt(we(),{month:O.value(re+1),year:F.value(re+1)}),1);Q(re,it(N),Ze(N))}for(let re=$+1;re<=u.value.count-1;re++){const N=fr(xt(we(),{month:O.value(re-1),year:F.value(re-1)}),1);Q(re,it(N),Ze(N))}},ce=()=>{if(Array.isArray(o.value)&&o.value.length===2){const $=we(we(o.value[1]?o.value[1]:fr(o.value[0],1))),[re,N]=[it(o.value[0]),Ze(o.value[0])],[oe,ge]=[it(o.value[1]),Ze(o.value[1])];(re!==oe||re===oe&&N!==ge)&&u.value.solo&&Q(1,it($),Ze($))}else o.value&&!Array.isArray(o.value)&&(Q(0,it(o.value),Ze(o.value)),K(we()))},ne=()=>{t.startDate&&(Q(0,it(we(t.startDate)),Ze(we(t.startDate))),u.value.count&&B(0))},x=($,re)=>{if(t.monthChangeOnScroll){const N=new Date().getTime()-i.value.getTime(),oe=Math.abs($.deltaY);let ge=500;oe>1&&(ge=100),oe>100&&(ge=0),N>ge&&(i.value=new Date,E(t.monthChangeOnScroll!=="inverse"?-$.deltaY:$.deltaY,re))}},se=($,re,N=!1)=>{t.monthChangeOnArrows&&t.vertical===N&&D($,re)},D=($,re)=>{E($==="right"?-1:1,re)},j=$=>{if(h.value.markers)return qc($.value,h.value.markers)},Ae=($,re)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[$==0,!0];case"fair":return[$==0||re>$,!0];case"append":return[!1,!1];default:return[!1,!1]}},_e=($,re,N,oe)=>{if(t.sixWeeks&&$.length<6){const ge=6-$.length,ee=(re.getDay()+7-oe)%7,be=6-(N.getDay()+7-oe)%7,[xe,tt]=Ae(ee,be);for(let dt=1;dt<=ge;dt++)if(tt?!!(dt%2)==xe:xe){const Ct=$[0].days[0],dn=v(or(Ct.value,-7),it(re));$.unshift({days:dn})}else{const Ct=$[$.length-1],dn=Ct.days[Ct.days.length-1],ts=v(or(dn.value,1),it(re));$.push({days:ts})}}return $},v=($,re)=>{const N=we($),oe=[];for(let ge=0;ge<7;ge++){const ee=or(N,ge),be=it(ee)!==re;oe.push({text:t.hideOffsetDates&&be?"":ee.getDate(),value:ee,current:!be,classData:{}})}return oe},w=($,re)=>{const N=[],oe=new Date(re,$),ge=new Date(re,$+1,0),ee=t.weekStart,be=Xr(oe,{weekStartsOn:ee}),xe=tt=>{const dt=v(tt,$);if(N.push({days:dt}),!N[N.length-1].days.some(Ct=>rt(Wn(Ct.value),Wn(ge)))){const Ct=or(tt,7);xe(Ct)}};return xe(be),_e(N,oe,ge,ee)},U=$=>{const re=zs(we($.value),l.hours,l.minutes,pe());e("date-update",re),p.value.enabled?Hg(re,o,p.value.limit):o.value=re,r(),At().then(()=>{le()})},G=$=>d.value.noDisabledRange?FA(s.value[0],$).some(re=>T(re)):!1,Z=()=>{s.value=o.value?o.value.slice():[],s.value.length===2&&!(d.value.fixedStart||d.value.fixedEnd)&&(s.value=[])},X=($,re)=>{const N=[we($.value),or(we($.value),+d.value.autoRange)];C(N)?(re&&Ee($.value),s.value=N):e("invalid-date",$.value)},Ee=$=>{const re=it(we($)),N=Ze(we($));if(Q(0,re,N),u.value.count>0)for(let oe=1;oe<u.value.count;oe++){const ge=F6(xt(we($),{year:O.value(oe-1),month:F.value(oe-1)}));Q(oe,ge.month,ge.year)}},he=$=>{if(G($.value)||!k($.value,o.value,d.value.fixedStart?0:1))return e("invalid-date",$.value);s.value=YA(we($.value),o,e,d)},me=($,re)=>{if(Z(),d.value.autoRange)return X($,re);if(d.value.fixedStart||d.value.fixedEnd)return he($);s.value[0]?k(we($.value),o.value)&&!G($.value)?Ft(we($.value),we(s.value[0]))?(s.value.unshift(we($.value)),e("range-end",s.value[0])):(s.value[1]=we($.value),e("range-end",s.value[1])):(t.autoApply&&e("auto-apply-invalid",$.value),e("invalid-date",$.value)):(s.value[0]=we($.value),e("range-start",s.value[0]))},pe=($=!0)=>t.enableSeconds?Array.isArray(l.seconds)?$?l.seconds[0]:l.seconds[1]:l.seconds:0,Ie=$=>{s.value[$]=zs(s.value[$],l.hours[$],l.minutes[$],pe($!==1))},Ne=()=>{var $,re;s.value[0]&&s.value[1]&&+(($=s.value)==null?void 0:$[0])>+((re=s.value)==null?void 0:re[1])&&(s.value.reverse(),e("range-start",s.value[0]),e("range-end",s.value[1]))},Pe=()=>{s.value.length&&(s.value[0]&&!s.value[1]?Ie(0):(Ie(0),Ie(1),r()),Ne(),o.value=s.value.slice(),cf(s.value,e,t.autoApply,t.modelAuto))},Oe=($,re=!1)=>{if(T($.value)||!$.current&&t.hideOffsetDates)return e("invalid-date",$.value);if(!d.value.enabled)return U($);x0(l.hours)&&x0(l.minutes)&&!p.value.enabled&&(me($,re),Pe())},We=($,re)=>{var N;Q($,re.month,re.year),u.value.count&&!u.value.solo&&B($),e("update-month-year",{instance:$,month:re.month,year:re.year}),n(u.value.solo?$:void 0);const oe=(N=t.flow)!=null&&N.length?t.flow[t.flowStep]:void 0;!re.fromNav&&(oe===Tr.month||oe===Tr.year)&&r()},et=($,re)=>{GA({value:$,modelValue:o,range:d.value.enabled,timezone:re?void 0:f.value.timezone}),M(),t.multiCalendars&&At().then(()=>L(!0))},H=()=>{d.value.enabled?o.value&&Array.isArray(o.value)&&o.value[0]?o.value=Ft(we(),o.value[0])?[we(),o.value[0]]:[o.value[0],we()]:o.value=[we()]:o.value=we(),M()},W=()=>{if(Array.isArray(o.value))if(p.value.enabled){const $=fe();o.value[o.value.length-1]=m($)}else o.value=o.value.map(($,re)=>$&&m($,re));else o.value=m(o.value);e("time-update")},fe=()=>Array.isArray(o.value)&&o.value.length?o.value[o.value.length-1]:null;return{calendars:a,modelValue:o,month:O,year:F,time:l,disabledTimesConfig:I,validateTime:_,getCalendarDays:w,getMarker:j,handleScroll:x,handleSwipe:D,handleArrow:se,selectDate:Oe,updateMonthYear:We,presetDate:et,selectCurrentDate:H,updateTime:($,re=!0,N=!1)=>{R($,re,N,W)}}},p9={key:0},m9=nt({__name:"DatePicker",props:{...yr},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,{calendars:i,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:f,getMarker:h,handleArrow:p,handleScroll:y,handleSwipe:T,selectDate:C,updateMonthYear:k,presetDate:R,selectCurrentDate:m,updateTime:P}=h9(s,r,Te,de),b=Qi(),{setHoverDate:_,getDayClassData:I,clearHoverDate:O}=pB(l,s),{defaultedMultiCalendars:F}=$t(s),Q=ae([]),M=ae([]),q=ae(null),le=jn(b,"calendar"),L=jn(b,"monthYear"),A=jn(b,"timePicker"),K=J=>{s.shadow||r("mount",J)};Ut(i,()=>{s.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const te=ue(()=>J=>f(o.value(J),a.value(J)).map(E=>({...E,days:E.days.map(B=>(B.marker=h(B),B.classData=I(B),B))})));function Te(J){var E;J||J===0?(E=M.value[J])==null||E.triggerTransition(o.value(J),a.value(J)):M.value.forEach((B,ce)=>B.triggerTransition(o.value(ce),a.value(ce)))}function de(){r("update-flow-step")}const z=(J,E=!1)=>{C(J,E),s.spaceConfirm&&r("select-date")};return e({clearHoverDate:O,presetDate:R,selectCurrentDate:m,toggleMonthPicker:(J,E,B=0)=>{var ce;(ce=Q.value[B])==null||ce.toggleMonthPicker(J,E)},toggleYearPicker:(J,E,B=0)=>{var ce;(ce=Q.value[B])==null||ce.toggleYearPicker(J,E)},toggleTimePicker:(J,E,B)=>{var ce;(ce=q.value)==null||ce.toggleTimePicker(J,E,B)},handleArrow:p,updateMonthYear:k,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:P,updateMonthYear:k,selectDate:C,presetDate:R})}),(J,E)=>(V(),Y(Me,null,[qe(uf,{"multi-calendars":g(F).count,collapse:J.collapse},{default:Fe(({instance:B,index:ce})=>[J.disableMonthYearSelect?ie("",!0):(V(),Ue(n9,Wt({key:0,ref:ne=>{ne&&(Q.value[ce]=ne)},months:g(OA)(J.formatLocale,J.locale,J.monthNameFormat),years:g(Fg)(J.yearRange,J.locale,J.reverseYears),month:g(o)(B),year:g(a)(B),instance:B},J.$props,{onMount:E[0]||(E[0]=ne=>K(g($i).header)),onResetFlow:E[1]||(E[1]=ne=>J.$emit("reset-flow")),onUpdateMonthYear:ne=>g(k)(B,ne),onOverlayClosed:E[2]||(E[2]=ne=>J.$emit("focus-menu"))}),Dn({_:2},[ct(g(L),(ne,x)=>({name:ne,fn:Fe(se=>[De(J.$slots,ne,Xt(gn(se)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),qe(f9,Wt({ref:ne=>{ne&&(M.value[ce]=ne)},"mapped-dates":te.value(B),month:g(o)(B),year:g(a)(B),instance:B},J.$props,{onSelectDate:ne=>g(C)(ne,B!==1),onHandleSpace:ne=>z(ne,B!==1),onSetHoverDate:E[3]||(E[3]=ne=>g(_)(ne)),onHandleScroll:ne=>g(y)(ne,B),onHandleSwipe:ne=>g(T)(ne,B),onMount:E[4]||(E[4]=ne=>K(g($i).calendar)),onResetFlow:E[5]||(E[5]=ne=>J.$emit("reset-flow")),onTooltipOpen:E[6]||(E[6]=ne=>J.$emit("tooltip-open",ne)),onTooltipClose:E[7]||(E[7]=ne=>J.$emit("tooltip-close",ne))}),Dn({_:2},[ct(g(le),(ne,x)=>({name:ne,fn:Fe(se=>[De(J.$slots,ne,Xt(gn({...se})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),J.enableTimePicker?(V(),Y("div",p9,[J.$slots["time-picker"]?De(J.$slots,"time-picker",Xt(Wt({key:0},{time:g(u),updateTime:g(P)}))):(V(),Ue(QA,Wt({key:1,ref_key:"timePickerRef",ref:q},J.$props,{hours:g(u).hours,minutes:g(u).minutes,seconds:g(u).seconds,"internal-model-value":J.internalModelValue,"disabled-times-config":g(c),"validate-time":g(d),onMount:E[8]||(E[8]=B=>K(g($i).timePicker)),"onUpdate:hours":E[9]||(E[9]=B=>g(P)(B)),"onUpdate:minutes":E[10]||(E[10]=B=>g(P)(B,!1)),"onUpdate:seconds":E[11]||(E[11]=B=>g(P)(B,!1,!0)),onResetFlow:E[12]||(E[12]=B=>J.$emit("reset-flow")),onOverlayClosed:E[13]||(E[13]=B=>J.$emit("time-picker-close")),onOverlayOpened:E[14]||(E[14]=B=>J.$emit("time-picker-open",B)),onAmPmChange:E[15]||(E[15]=B=>J.$emit("am-pm-change",B))}),Dn({_:2},[ct(g(A),(B,ce)=>({name:B,fn:Fe(ne=>[De(J.$slots,B,Xt(gn(ne)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ie("",!0)],64))}}),g9=(t,e)=>{const n=ae(),{defaultedMultiCalendars:r,defaultedConfig:s,defaultedHighlight:i,defaultedRange:o,propDates:a,defaultedFilters:l,defaultedMultiDates:u}=$t(t),{modelValue:c,year:d,month:f,calendars:h}=fu(t,e),{isDisabled:p}=ui(t),{selectYear:y,groupedYears:T,showYearPicker:C,isDisabled:k,toggleYearPicker:R,handleYearSelect:m,handleYear:P}=KA({modelValue:c,multiCalendars:r,highlight:i,calendars:h,propDates:a,month:f,year:d,filters:l,props:t,emit:e}),b=(L,A)=>[L,A].map(K=>Hr(K,"MMMM",{locale:t.formatLocale})).join("-"),_=ue(()=>L=>c.value?Array.isArray(c.value)?c.value.some(A=>v0(L,A)):v0(c.value,L):!1),I=L=>{if(o.value.enabled){if(Array.isArray(c.value)){const A=rt(L,c.value[0])||rt(L,c.value[1]);return of(c.value,n.value,L)&&!A}return!1}return!1},O=(L,A)=>L.quarter===d0(A)&&L.year===Ze(A),F=L=>typeof i.value=="function"?i.value({quarter:d0(L),year:Ze(L)}):!!i.value.quarters.find(A=>O(A,L)),Q=ue(()=>L=>{const A=xt(new Date,{year:d.value(L)});return M5({start:_A(A),end:N5(A)}).map(K=>{const te=Pi(K),Te=f0(K),de=p(K),z=I(te),J=F(te);return{text:b(te,Te),value:te,active:_.value(te),highlighted:J,disabled:de,isBetween:z}})}),M=L=>{Hg(L,c,u.value.limit),e("auto-apply",!0)},q=L=>{c.value=qg(c,L,e),cf(c.value,e,t.autoApply,t.modelAuto)},le=L=>{c.value=L,e("auto-apply")};return{defaultedConfig:s,defaultedMultiCalendars:r,groupedYears:T,year:d,isDisabled:k,quarters:Q,showYearPicker:C,modelValue:c,setHoverDate:L=>{n.value=L},selectYear:y,selectQuarter:(L,A,K)=>{if(!K)return h.value[A].month=it(f0(L)),u.value.enabled?M(L):o.value.enabled?q(L):le(L)},toggleYearPicker:R,handleYearSelect:m,handleYear:P}},v9={class:"dp--quarter-items"},y9=["disabled","onClick","onMouseover"],_9=nt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...yr},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=Qi(),o=jn(i,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:y,selectQuarter:T,toggleYearPicker:C,handleYearSelect:k,handleYear:R}=g9(s,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:T,handleYearSelect:k,handleYear:R})}),(m,P)=>(V(),Ue(uf,{"multi-calendars":g(a).count,collapse:m.collapse,stretch:""},{default:Fe(({instance:b})=>[S("div",{class:"dp-quarter-picker-wrap",style:In({minHeight:`${g(l).modeHeight}px`})},[m.$slots["top-extra"]?De(m.$slots,"top-extra",{key:0,value:m.internalModelValue}):ie("",!0),S("div",null,[qe(zA,Wt(m.$props,{items:g(u)(b),instance:b,"show-year-picker":g(p)[b],year:g(c)(b),"is-disabled":_=>g(d)(b,_),onHandleYear:_=>g(R)(b,_),onYearSelect:_=>g(k)(_,b),onToggleYearPicker:_=>g(C)(b,_==null?void 0:_.flow,_==null?void 0:_.show)}),Dn({_:2},[ct(g(o),(_,I)=>({name:_,fn:Fe(O=>[De(m.$slots,_,Xt(gn(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),S("div",v9,[(V(!0),Y(Me,null,ct(g(f)(b),(_,I)=>(V(),Y("div",{key:I},[S("button",{type:"button",class:Ve(["dp--qr-btn",{"dp--qr-btn-active":_.active,"dp--qr-btn-between":_.isBetween,"dp--qr-btn-disabled":_.disabled,"dp--highlighted":_.highlighted}]),disabled:_.disabled,onClick:O=>g(T)(_.value,b,_.disabled),onMouseover:O=>g(y)(_.value)},[m.$slots.quarter?De(m.$slots,"quarter",{key:0,value:_.value,text:_.text}):(V(),Y(Me,{key:1},[It(Le(_.text),1)],64))],42,y9)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),b9=["id","aria-label"],w9={key:0,class:"dp--menu-load-container"},T9=S("span",{class:"dp--menu-loader"},null,-1),E9=[T9],A9={key:0,class:"dp__sidebar_left"},x9=["onClick","onKeydown"],I9={key:2,class:"dp__sidebar_right"},S9={key:3,class:"dp__action_extra"},I0=nt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...lf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=ae(null),o=ue(()=>{const{openOnTop:v,...w}=s;return{...w,flowStep:I.value,collapse:s.collapse,noOverlayFocus:s.noOverlayFocus,menuWrapRef:i.value}}),{setMenuFocused:a,setShiftKey:l,control:u}=qA(),c=Qi(),{defaultedTextInput:d,defaultedInline:f,defaultedConfig:h}=$t(s),p=ae(null),y=ae(0),T=ae(null),C=ae(!1),k=ae(null);Lt(()=>{if(!s.shadow){C.value=!0,R(),window.addEventListener("resize",R);const v=nn(i);if(v&&!d.value.enabled&&!f.value.enabled&&(a(!0),le()),v){const w=U=>{h.value.allowPreventDefault&&U.preventDefault(),Ws(U,h.value,!0)};v.addEventListener("pointerdown",w),v.addEventListener("mousedown",w)}}}),Ki(()=>{window.removeEventListener("resize",R)});const R=()=>{const v=nn(T);v&&(y.value=v.getBoundingClientRect().width)},{arrowRight:m,arrowLeft:P,arrowDown:b,arrowUp:_}=li(),{flowStep:I,updateFlowStep:O,childMount:F,resetFlow:Q}=mB(s,r,k),M=ue(()=>s.monthPicker?kB:s.yearPicker?OB:s.timePicker?QB:s.quarterPicker?_9:m9),q=ue(()=>{var v;if(h.value.arrowLeft)return h.value.arrowLeft;const w=(v=i.value)==null?void 0:v.getBoundingClientRect(),U=s.getInputRect();return U.width<y.value&&U.left<=((w==null?void 0:w.left)??0)?`${U.width/2}px`:"50%"}),le=()=>{const v=nn(i);v&&v.focus({preventScroll:!0})},L=ue(()=>{var v;return((v=k.value)==null?void 0:v.getSidebarProps())||{}}),A=()=>{s.openOnTop&&r("recalculate-position")},K=jn(c,"action"),te=ue(()=>s.monthPicker||s.yearPicker?jn(c,"monthYear"):s.timePicker?jn(c,"timePicker"):jn(c,"shared")),Te=ue(()=>s.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),de=ue(()=>({dp__menu_disabled:s.disabled,dp__menu_readonly:s.readonly,"dp-menu-loading":s.loading})),z=ue(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[s.menuClassName]:!!s.menuClassName})),J=v=>{Ws(v,h.value,!0)},E=()=>{s.escClose&&r("close-picker")},B=v=>{if(s.arrowNavigation){if(v==="up")return _();if(v==="down")return b();if(v==="left")return P();if(v==="right")return m()}else v==="left"||v==="up"?D("handleArrow","left",0,v==="up"):D("handleArrow","right",0,v==="down")},ce=v=>{l(v.shiftKey),!s.disableMonthYearSelect&&v.code==="Tab"&&v.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(v.preventDefault(),Ws(v,h.value,!0),r("close-picker"))},ne=()=>{le(),r("time-picker-close")},x=v=>{var w,U,G;(w=k.value)==null||w.toggleTimePicker(!1,!1),(U=k.value)==null||U.toggleMonthPicker(!1,!1,v),(G=k.value)==null||G.toggleYearPicker(!1,!1,v)},se=(v,w=0)=>{var U,G,Z;return v==="month"?(U=k.value)==null?void 0:U.toggleMonthPicker(!1,!0,w):v==="year"?(G=k.value)==null?void 0:G.toggleYearPicker(!1,!0,w):v==="time"?(Z=k.value)==null?void 0:Z.toggleTimePicker(!0,!1):x(w)},D=(v,...w)=>{var U,G;(U=k.value)!=null&&U[v]&&((G=k.value)==null||G[v](...w))},j=()=>{D("selectCurrentDate")},Ae=(v,w)=>{D("presetDate",v,w)},_e=()=>{D("clearHoverDate")};return e({updateMonthYear:(v,w)=>{D("updateMonthYear",v,w)},switchView:se}),(v,w)=>{var U,G,Z;return V(),Y("div",{id:v.uid?`dp-menu-${v.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:"0",role:"dialog","aria-label":(U=v.ariaLabels)==null?void 0:U.menu,class:Ve(z.value),style:In({"--dp-arrow-left":q.value}),onMouseleave:_e,onClick:J,onKeydown:[Xe(E,["esc"]),w[18]||(w[18]=Xe(vt(X=>B("left"),["prevent"]),["left"])),w[19]||(w[19]=Xe(vt(X=>B("up"),["prevent"]),["up"])),w[20]||(w[20]=Xe(vt(X=>B("down"),["prevent"]),["down"])),w[21]||(w[21]=Xe(vt(X=>B("right"),["prevent"]),["right"])),ce]},[(v.disabled||v.readonly)&&g(f).enabled||v.loading?(V(),Y("div",{key:0,class:Ve(de.value)},[v.loading?(V(),Y("div",w9,E9)):ie("",!0)],2)):ie("",!0),!g(f).enabled&&!v.teleportCenter?(V(),Y("div",{key:1,class:Ve(Te.value)},null,2)):ie("",!0),S("div",{ref_key:"innerMenuRef",ref:T,class:Ve({dp__menu_content_wrapper:((G=v.presetDates)==null?void 0:G.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Z=v.presetDates)==null?void 0:Z.length)||!!v.$slots["left-sidebar"]||!!v.$slots["right-sidebar"])}),style:In({"--dp-menu-width":`${y.value}px`})},[v.$slots["left-sidebar"]?(V(),Y("div",A9,[De(v.$slots,"left-sidebar",Xt(gn(L.value)))])):ie("",!0),v.presetDates.length?(V(),Y("div",{key:1,class:Ve({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(V(!0),Y(Me,null,ct(v.presetDates,(X,Ee)=>(V(),Y(Me,{key:Ee},[X.slot?De(v.$slots,X.slot,{key:0,presetDate:Ae,label:X.label,value:X.value}):(V(),Y("button",{key:1,type:"button",style:In(X.style||{}),class:Ve(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:vt(he=>Ae(X.value,X.noTz),["prevent"]),onKeydown:[Xe(vt(he=>Ae(X.value,X.noTz),["prevent"]),["enter"]),Xe(vt(he=>Ae(X.value,X.noTz),["prevent"]),["space"])]},Le(X.label),47,x9))],64))),128))],2)):ie("",!0),S("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(V(),Ue(ed(M.value),Wt({ref_key:"dynCmpRef",ref:k},o.value,{"flow-step":g(I),onMount:g(F),onUpdateFlowStep:g(O),onResetFlow:g(Q),onFocusMenu:le,onSelectDate:w[0]||(w[0]=X=>v.$emit("select-date")),onDateUpdate:w[1]||(w[1]=X=>v.$emit("date-update",X)),onTooltipOpen:w[2]||(w[2]=X=>v.$emit("tooltip-open",X)),onTooltipClose:w[3]||(w[3]=X=>v.$emit("tooltip-close",X)),onAutoApply:w[4]||(w[4]=X=>v.$emit("auto-apply",X)),onRangeStart:w[5]||(w[5]=X=>v.$emit("range-start",X)),onRangeEnd:w[6]||(w[6]=X=>v.$emit("range-end",X)),onInvalidFixedRange:w[7]||(w[7]=X=>v.$emit("invalid-fixed-range",X)),onTimeUpdate:w[8]||(w[8]=X=>v.$emit("time-update")),onAmPmChange:w[9]||(w[9]=X=>v.$emit("am-pm-change",X)),onTimePickerOpen:w[10]||(w[10]=X=>v.$emit("time-picker-open",X)),onTimePickerClose:ne,onRecalculatePosition:A,onUpdateMonthYear:w[11]||(w[11]=X=>v.$emit("update-month-year",X)),onAutoApplyInvalid:w[12]||(w[12]=X=>v.$emit("auto-apply-invalid",X)),onInvalidDate:w[13]||(w[13]=X=>v.$emit("invalid-date",X)),"onUpdate:internalModelValue":w[14]||(w[14]=X=>v.$emit("update:internal-model-value",X))}),Dn({_:2},[ct(te.value,(X,Ee)=>({name:X,fn:Fe(he=>[De(v.$slots,X,Xt(gn({...he})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),v.$slots["right-sidebar"]?(V(),Y("div",I9,[De(v.$slots,"right-sidebar",Xt(gn(L.value)))])):ie("",!0),v.$slots["action-extra"]?(V(),Y("div",S9,[v.$slots["action-extra"]?De(v.$slots,"action-extra",{key:0,selectCurrentDate:j}):ie("",!0)])):ie("",!0)],6),!v.autoApply||g(h).keepActionRow?(V(),Ue(TB,Wt({key:2,"menu-mount":C.value},o.value,{"calendar-width":y.value,onClosePicker:w[15]||(w[15]=X=>v.$emit("close-picker")),onSelectDate:w[16]||(w[16]=X=>v.$emit("select-date")),onInvalidSelect:w[17]||(w[17]=X=>v.$emit("invalid-select")),onSelectNow:j}),Dn({_:2},[ct(g(K),(X,Ee)=>({name:X,fn:Fe(he=>[De(v.$slots,X,Xt(gn({...he})))])}))]),1040,["menu-mount","calendar-width"])):ie("",!0)],46,b9)}}}),C9=typeof window<"u"?window:void 0,dh=()=>{},P9=t=>Cp()?(N0(t),!0):!1,R9=(t,e,n,r)=>{if(!t)return dh;let s=dh;const i=Ut(()=>g(t),a=>{s(),a&&(a.addEventListener(e,n,r),s=()=>{a.removeEventListener(e,n,r),s=dh})},{immediate:!0,flush:"post"}),o=()=>{i(),s()};return P9(o),o},k9=(t,e,n,r={})=>{const{window:s=C9,event:i="pointerdown"}=r;return s?R9(s,i,o=>{const a=nn(t),l=nn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},D9=nt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...lf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,s=t,i=Qi(),o=ae(!1),a=rl(s,"modelValue"),l=rl(s,"timezone"),u=ae(null),c=ae(null),d=ae(null),f=ae(!1),h=ae(null),p=ae(!1),y=ae(!1),T=ae(!1),{setMenuFocused:C,setShiftKey:k}=qA(),{clearArrowNav:R}=li(),{validateDate:m,isValidTime:P}=ui(s),{defaultedTransitions:b,defaultedTextInput:_,defaultedInline:I,defaultedConfig:O,defaultedRange:F,defaultedMultiDates:Q}=$t(s),{menuTransition:M,showTransition:q}=du(b);Lt(()=>{B(s.modelValue),At().then(()=>{if(!I.value.enabled){const ee=de(h.value);ee==null||ee.addEventListener("scroll",w),window==null||window.addEventListener("resize",U)}}),I.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",G),window==null||window.addEventListener("keydown",Z)}),Ki(()=>{if(!I.value.enabled){const ee=de(h.value);ee==null||ee.removeEventListener("scroll",w),window==null||window.removeEventListener("resize",U)}window==null||window.removeEventListener("keyup",G),window==null||window.removeEventListener("keydown",Z)});const le=jn(i,"all",s.presetDates),L=jn(i,"input");Ut([a,l],()=>{B(a.value)},{deep:!0});const{openOnTop:A,menuStyle:K,xCorrect:te,setMenuPosition:Te,getScrollableParent:de,shadowRender:z}=dB({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:I,emit:r,props:s,slots:i}),{inputValue:J,internalModelValue:E,parseExternalModelValue:B,emitModelValue:ce,formatInputValue:ne,checkBeforeEmit:x}=uB(r,s,f),se=ue(()=>({dp__main:!0,dp__theme_dark:s.dark,dp__theme_light:!s.dark,dp__flex_display:I.value.enabled,"dp--flex-display-collapsed":T.value,dp__flex_display_with_input:I.value.input})),D=ue(()=>s.dark?"dp__theme_dark":"dp__theme_light"),j=ue(()=>s.teleport?{to:typeof s.teleport=="boolean"?"body":s.teleport,disabled:!s.teleport||I.value.enabled}:{}),Ae=ue(()=>({class:"dp__outer_menu_wrap"})),_e=ue(()=>I.value.enabled&&(s.timePicker||s.monthPicker||s.yearPicker||s.quarterPicker)),v=()=>{var ee,be;return(be=(ee=d.value)==null?void 0:ee.$el)==null?void 0:be.getBoundingClientRect()},w=()=>{o.value&&(O.value.closeOnScroll?Oe():Te())},U=()=>{var ee;o.value&&Te();const be=(ee=c.value)==null?void 0:ee.$el.getBoundingClientRect().width;T.value=document.body.offsetWidth<=be},G=ee=>{ee.key==="Tab"&&!I.value.enabled&&!s.teleport&&O.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Oe()),y.value=ee.shiftKey},Z=ee=>{y.value=ee.shiftKey},X=()=>{!s.disabled&&!s.readonly&&(z(I0,s),Te(!1),o.value=!0,o.value&&r("open"),o.value||Pe(),B(s.modelValue))},Ee=()=>{var ee;J.value="",Pe(),(ee=d.value)==null||ee.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),O.value.closeOnClearValue&&Oe()},he=()=>{const ee=E.value;return!ee||!Array.isArray(ee)&&m(ee)?!0:Array.isArray(ee)?Q.value.enabled||ee.length===2&&m(ee[0])&&m(ee[1])?!0:F.value.partialRange&&!s.timePicker?m(ee[0]):!1:!1},me=()=>{x()&&he()?(ce(),Oe()):r("invalid-select",E.value)},pe=ee=>{Ie(),ce(),O.value.closeOnAutoApply&&!ee&&Oe()},Ie=()=>{d.value&&_.value.enabled&&d.value.setParsedDate(E.value)},Ne=(ee=!1)=>{s.autoApply&&P(E.value)&&he()&&(F.value.enabled&&Array.isArray(E.value)?(F.value.partialRange||E.value.length===2)&&pe(ee):pe(ee))},Pe=()=>{_.value.enabled||(E.value=null)},Oe=()=>{I.value.enabled||(o.value&&(o.value=!1,te.value=!1,C(!1),k(!1),R(),r("closed"),J.value&&B(a.value)),Pe(),r("blur"))},We=(ee,be,xe=!1)=>{if(!ee){E.value=null;return}const tt=Array.isArray(ee)?!ee.some(Ct=>!m(Ct)):m(ee),dt=P(ee);tt&&dt&&(E.value=ee,be&&(p.value=xe,me(),r("text-submit")))},et=()=>{s.autoApply&&P(E.value)&&ce(),Ie()},H=()=>o.value?Oe():X(),W=ee=>{E.value=ee},fe=()=>{_.value.enabled&&(f.value=!0,ne()),r("focus")},$=()=>{if(_.value.enabled&&(f.value=!1,B(s.modelValue),p.value)){const ee=M6(h.value,y.value);ee==null||ee.focus()}r("blur")},re=ee=>{c.value&&c.value.updateMonthYear(0,{month:_0(ee.month),year:_0(ee.year)})},N=ee=>{B(ee??s.modelValue)},oe=(ee,be)=>{var xe;(xe=c.value)==null||xe.switchView(ee,be)},ge=ee=>O.value.onClickOutside?O.value.onClickOutside(ee):Oe();return k9(u,d,()=>ge(he)),e({closeMenu:Oe,selectDate:me,clearValue:Ee,openMenu:X,onScroll:w,formatInputValue:ne,updateInternalModelValue:W,setMonthYear:re,parseModel:N,switchView:oe,toggleMenu:H}),(ee,be)=>(V(),Y("div",{ref_key:"pickerWrapperRef",ref:h,class:Ve(se.value),"data-datepicker-instance":""},[qe(_B,Wt({ref_key:"inputRef",ref:d,"input-value":g(J),"onUpdate:inputValue":be[0]||(be[0]=xe=>ht(J)?J.value=xe:null),"is-menu-open":o.value},ee.$props,{onClear:Ee,onOpen:X,onSetInputDate:We,onSetEmptyDate:g(ce),onSelectDate:me,onToggle:H,onClose:Oe,onFocus:fe,onBlur:$,onRealBlur:be[1]||(be[1]=xe=>f.value=!1)}),Dn({_:2},[ct(g(L),(xe,tt)=>({name:xe,fn:Fe(dt=>[De(ee.$slots,xe,Xt(gn(dt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(V(),Ue(ed(ee.teleport?LI:"div"),Xt(gn(j.value)),{default:Fe(()=>[qe(ei,{name:g(M)(g(A)),css:g(q)&&!g(I).enabled},{default:Fe(()=>[o.value?(V(),Y("div",Wt({key:0,ref_key:"dpWrapMenuRef",ref:u},Ae.value,{class:{"dp--menu-wrapper":!g(I).enabled},style:g(I).enabled?void 0:g(K)}),[qe(I0,Wt({ref_key:"dpMenuRef",ref:c},ee.$props,{"internal-model-value":g(E),"onUpdate:internalModelValue":be[2]||(be[2]=xe=>ht(E)?E.value=xe:null),class:{[D.value]:!0,"dp--menu-wrapper":ee.teleport},"open-on-top":g(A),"no-overlay-focus":_e.value,collapse:T.value,"get-input-rect":v,onClosePicker:Oe,onSelectDate:me,onAutoApply:Ne,onTimeUpdate:et,onFlowStep:be[3]||(be[3]=xe=>ee.$emit("flow-step",xe)),onUpdateMonthYear:be[4]||(be[4]=xe=>ee.$emit("update-month-year",xe)),onInvalidSelect:be[5]||(be[5]=xe=>ee.$emit("invalid-select",g(E))),onAutoApplyInvalid:be[6]||(be[6]=xe=>ee.$emit("invalid-select",xe)),onInvalidFixedRange:be[7]||(be[7]=xe=>ee.$emit("invalid-fixed-range",xe)),onRecalculatePosition:g(Te),onTooltipOpen:be[8]||(be[8]=xe=>ee.$emit("tooltip-open",xe)),onTooltipClose:be[9]||(be[9]=xe=>ee.$emit("tooltip-close",xe)),onTimePickerOpen:be[10]||(be[10]=xe=>ee.$emit("time-picker-open",xe)),onTimePickerClose:be[11]||(be[11]=xe=>ee.$emit("time-picker-close",xe)),onAmPmChange:be[12]||(be[12]=xe=>ee.$emit("am-pm-change",xe)),onRangeStart:be[13]||(be[13]=xe=>ee.$emit("range-start",xe)),onRangeEnd:be[14]||(be[14]=xe=>ee.$emit("range-end",xe)),onDateUpdate:be[15]||(be[15]=xe=>ee.$emit("date-update",xe)),onInvalidDate:be[16]||(be[16]=xe=>ee.$emit("invalid-date",xe))}),Dn({_:2},[ct(g(le),(xe,tt)=>({name:xe,fn:Fe(dt=>[De(ee.$slots,xe,Xt(gn({...dt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):ie("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Mr=(()=>{const t=D9;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),O9=Object.freeze(Object.defineProperty({__proto__:null,default:Mr},Symbol.toStringTag,{value:"Module"}));Object.entries(O9).forEach(([t,e])=>{t!=="default"&&(Mr[t]=e)});function JA(t,e,n){if(!t||!e||!n)return"-";const r=new Date;let s,i;t==="particular"?i=12:t==="servicio"?i=6:i=4;const o=r.getFullYear()-Number(n);if(o<0)return"-";if(o<3)s=new Date(r.getFullYear(),0,1);else if(i===4){const c=Number(e.slice(-1));s=new Date(r.getFullYear(),c,1)}else s=new Date(r.getFullYear()+Math.floor(r.getMonth()/i),r.getMonth()+i,1);const a=s.getDate(),l=s.toLocaleString("es-ES",{month:"long"}),u=s.getFullYear();return`${a} del ${l} del ${u}`}const M9={class:"md:container md:mx-auto pt-12 mb-11"},N9={class:"cursor-default flex flex-col justify-center items-center"},V9=S("p",{class:"px-10 py-1 text-gray-700 text-xl font-semibold mb-10"},"¿Guardar los cambios?",-1),L9={class:"w-full flex flex-row justify-evenly items-center"},$9=S("h1",{class:"text-left pl-5 text-2xl text-blue-700 font-bold mb-4"},"CONFIGURACIÓN",-1),F9=S("p",{class:"text-left pl-5 text-gray-700 font-normal mb-12"},"Administra tus datos personales y de tus autos.",-1),U9={class:"mb-4 rounded-xs w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 rounded-xs px-4 py-5 drop-shadow-md"},B9=S("h2",{class:"text-lg text-left font-bold mb-6 text-blue-700"},"Información de contacto",-1),j9={class:"flex sm:flex-row flex-col justify-between w-full items-baseline"},H9={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},q9=S("label",{for:"first-name",class:"font-bold text-xs mb-1"},"Nombres*",-1),W9={key:0,class:"text-xs text-red-700 font-medium pl-2"},z9={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},G9=S("label",{for:"last-name",class:"font-bold text-xs mb-1"},"Apellidos*",-1),Y9={key:0,class:"text-xs text-red-700 font-medium pl-2"},K9={class:"flex flex-col w-full"},Q9=S("label",{for:"phone",class:"font-bold text-xs mb-1"},"Teléfono*",-1),X9={key:0,class:"text-xs text-red-700 font-medium pl-2"},J9={class:"mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},Z9={class:"flex flex-row justify-between items-center w-full mb-6"},ej=S("h2",{class:"text-lg text-left font-bold text-blue-700"},"Información de tus automóviles",-1),tj=S("i",{class:"fas fa-plus"},null,-1),nj={class:"flex flex-col justify-between items-center w-full bg-rose-50 px-2 py-2"},rj={class:"w-full flex flex-row justify-between items-center mb-4"},sj={class:"text-xl text-left text-blue-700 font-black"},ij=["onClick"],oj=S("i",{class:"fas fa-trash"},null,-1),aj={class:"w-full flex flex-row justify-start items-center ml-5 mt-4 mb-10"},lj=S("p",{class:"text-md text-left text-blue-700 font-black mr-3"},"Próxima revisión técnica:",-1),uj={class:"text-md text-left text-gray-700 font-bold"},cj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},dj={class:"flex flex-col mb-2 w-full sm:mr-2"},fj=S("label",{for:"brand",class:"font-bold text-xs mb-1"},"Marca",-1),hj=["onUpdate:modelValue"],pj=["value"],mj={key:0,class:"text-xs text-red-700 font-medium pl-2"},gj={class:"flex flex-col mb-2 w-full sm:mr-2"},vj=S("label",{for:"model",class:"font-bold text-xs mb-1"},"Modelo",-1),yj=["onUpdate:modelValue"],_j=["value"],bj={key:0,class:"text-xs text-red-700 font-medium pl-2"},wj={class:"flex flex-col mb-2 w-full sm:mr-2"},Tj=S("label",{for:"model",class:"font-bold text-xs mb-1"},"Placa",-1),Ej=["onUpdate:modelValue"],Aj={key:0,class:"text-xs text-red-700 font-medium pl-2"},xj={class:"flex flex-col sm:mb-2 w-full"},Ij=S("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de uso",-1),Sj=["onUpdate:modelValue"],Cj=S("option",{class:"text-xs",value:"privateUse"},"Particular",-1),Pj=S("option",{class:"text-xs",value:"serviceUse"},"De servicios",-1),Rj=S("option",{class:"text-xs",value:"serviceUse:peopleTransportation"},"De servicios: transportes de personas",-1),kj=[Cj,Pj,Rj],Dj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Oj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},Mj={class:"flex flex-col mb-2 w-full mr-1"},Nj=S("label",{for:"year",class:"font-bold text-xs mb-1"},"Año",-1),Vj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Lj={class:"flex flex-col mb-2 w-full mr-1 ml-1"},$j=S("label",{for:"mileage",class:"font-bold text-xs mb-1"},"Kilometraje Actual",-1),Fj=["onUpdate:modelValue"],Uj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Bj={class:"flex flex-col mb-2 w-full ml-1"},jj=S("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de Combustible",-1),Hj=["onUpdate:modelValue"],qj=S("option",{class:"text-xs",value:"gasolina"},"Gasolina",-1),Wj=S("option",{class:"text-xs",value:"gnv"},"GNV",-1),zj=S("option",{class:"text-xs",value:"glp"},"GLP",-1),Gj=S("option",{class:"text-xs",value:"diesel"},"Diésel",-1),Yj=S("option",{class:"text-xs",value:"hibrido"},"Híbrido",-1),Kj=[qj,Wj,zj,Gj,Yj],Qj={key:0,class:"text-xs text-red-700 font-medium pl-2"},Xj={class:"w-full flex sm:flex-row flex-col justify-between items-baseline"},Jj={class:"flex flex-col mb-2 w-full mr-1"},Zj=S("label",{for:"soat-expiry",class:"font-bold text-xs mb-1"},"Fecha vencimiento SOAT",-1),e7={key:0,class:"text-xs text-red-700 font-medium pl-2"},t7={key:0,class:"flex flex-col mb-2 w-full mr-1 ml-1"},n7=S("label",{for:"annual-inspection",class:"font-bold text-xs mb-1"},"Fecha certificación GNV/GLP",-1),r7={key:0,class:"text-xs text-red-700 font-medium pl-2"},s7={class:"flex flex-col mb-2 w-full ml-1"},i7=S("label",{for:"technical-inspection",class:"font-bold text-xs mb-1"},"Fecha revisión vehicular",-1),o7={key:0,class:"text-xs text-red-700 font-medium pl-2"},a7={key:0,class:"h-0.5 w-full my-8 bg-sky-50"},l7=["disabled"],u7=nt({__name:"Profile",setup(t){const e=so(),n=es(),r=dA(),s=sa(),i=ae(!1);Lt(()=>{e.isAuthenticated||s.push({name:"Home"})});async function o(){n.handleSubmit(()=>{i.value=!0})()}async function a(){n.handleSubmit(async c=>(e.setIsLoading(!0),await n.updateUser({firstName:c.firstName,lastName:c.lastName,phone:c.phone,cars:c.cars}).then(()=>{e.setIsLoading(!1),r.setShowAlert(!0)})),()=>{e.setIsLoading(!1)})()}const l=en([{brand:"Toyota",models:["Corolla","Camry","Rav4","Yaris","Highlander","Tacoma","Sienna","4Runner","Prius","Tundra","Land Cruiser","Avalon","Sequoia"]},{brand:"Honda",models:["Civic","Accord","CR-V","Pilot","Odyssey","HR-V","Fit","Ridgeline","Passport","Insight","Clarity"]},{brand:"Ford",models:["F-150","Escape","Explorer","Focus","Mustang","Edge","Fusion","Ranger","Expedition","EcoSport","Taurus","Flex","Transit"]},{brand:"Chevrolet",models:["Silverado","Equinox","Malibu","Cruze","Traverse","Tahoe","Suburban","Colorado","Impala","Blazer","Express","Trax","Sonic","Volt"]},{brand:"Nissan",models:["Altima","Rogue","Sentra","Frontier","Pathfinder","Versa","Murano","Titan","Maxima","Armada","Leaf","Kicks","NV","370Z"]},{brand:"Hyundai",models:["Elantra","Sonata","Tucson","Santa Fe","Kona","Veloster","Accent","Palisade","Venue","Nexo","Ioniq"]},{brand:"Volkswagen",models:["Jetta","Passat","Tiguan","Atlas","Golf","Arteon","Touareg","ID.4","ID.3","Golf GTI","T-Cross","Polo","Amarok","Teramont"]},{brand:"BMW",models:["3 Series","5 Series","X3","X5","7 Series","X1","X7","X6","4 Series","Z4","8 Series","i3","i8","M2"]},{brand:"Mercedes-Benz",models:["C-Class","E-Class","GLC","GLE","S-Class","A-Class","GLA","GLB","CLA","G-Class","SLC","GLS","SL","EQC"]},{brand:"Audi",models:["A4","Q5","A6","Q7","A3","Q3","A5","A7","Q8","e-tron","TT","A8","RS 3","S3"]},{brand:"Subaru",models:["Impreza","Forester","Outback","Legacy","Crosstrek","WRX","Ascent"]},{brand:"Kia",models:["Optima","Sorento","Sportage","Forte","Soul","Telluride","Rio"]},{brand:"Lexus",models:["RX","ES","NX","IS","GX","LS","UX"]},{brand:"Mazda",models:["Mazda3","Mazda6","CX-5","CX-9","MX-5 Miata","CX-3","CX-30"]},{brand:"Jeep",models:["Wrangler","Grand Cherokee","Cherokee","Renegade","Compass","Gladiator","Wagoneer"]},{brand:"Ram",models:["1500","2500","3500","Promaster","Promaster City","Chassis Cab"]},{brand:"GMC",models:["Sierra","Acadia","Terrain","Yukon","Canyon","Savana","Envoy"]},{brand:"Tesla",models:["Model S","Model 3","Model X","Model Y","Roadster"]},{brand:"Volvo",models:["S60","XC60","XC90","S90","XC40","V60","V90"]},{brand:"Cadillac",models:["Escalade","CTS","XT5","XT4","CT6","XT6","ATS"]},{brand:"Dodge",models:["Challenger","Charger","Durango","Journey","Grand Caravan","Dart","Ram 1500","Ram 2500","Ram 3500","Viper"]},{brand:"Buick",models:["Encore","Enclave","Regal","Lacrosse","Verano","Cascada","Envision","Century","Rendezvous","Park Avenue"]},{brand:"Acura",models:["TLX","MDX","RDX","ILX","RLX","NSX","RSX","CL","TSX","Integra"]},{brand:"Infiniti",models:["Q50","QX60","QX80","Q60","QX50","Q70","QX30","QX70","G35","FX35"]},{brand:"Lincoln",models:["MKZ","Navigator","Nautilus","Aviator","Continental","Corsair","MKX","Town Car","MKS","Mark LT"]},{brand:"Land Rover",models:["Range Rover","Discovery","Evoque","Defender","Velar","Sport","Freelander","Discovery Sport","LR4","LR2"]},{brand:"Jaguar",models:["XE","F-Pace","I-Pace","XF","XJ","E-Pace","S-Type","X-Type","XK","XKR"]},{brand:"Porsche",models:["911","Cayenne","Panamera","Macan","Boxster","Cayman","Taycan","918 Spyder","944","928"]},{brand:"Fiat",models:["500","500X","500L","124 Spider","Punto","Doblo","Tipo","Panda","Qubo","Uno"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","Mirage","Pajero","Lancer","ASX","Montero","Strada","Galant","Attrage"]},{brand:"Fiat",models:["500","Panda","Tipo","Punto","500X"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","L200","ASX","Pajero Sport"]},{brand:"Chrysler",models:["300","Pacifica","Voyager","Aspen","PT Cruiser"]},{brand:"Mini",models:["Cooper","Countryman","Clubman","Convertible","Paceman"]},{brand:"Alfa Romeo",models:["Giulia","Stelvio","4C","Giulietta","MiTo"]},{brand:"Genesis",models:["G70","G80","G90"]},{brand:"Smart",models:["Fortwo","Forfour","Roadster"]},{brand:"Aston Martin",models:["DB11","Vantage","DBS Superleggera","Rapide","DBX"]},{brand:"Ferrari",models:["488","812 Superfast","Portofino","Roma","SF90 Stradale"]},{brand:"Maserati",models:["Ghibli","Quattroporte","Levante","GranTurismo","GranCabrio"]},{brand:"Bugatti",models:["Chiron","Veyron","Divo"]},{brand:"McLaren",models:["720S","570S","P1"]},{brand:"Rolls-Royce",models:["Phantom","Cullinan","Ghost"]},{brand:"Bentley",models:["Continental GT","Bentayga","Flying Spur"]},{brand:"Lotus",models:["Evora","Elise","Exige"]},{brand:"Maybach",models:["S-Class","GLS"]},{brand:"Pagani",models:["Huayra","Zonda"]},{brand:"Abarth",models:["595","124 Spider"]},{brand:"Lancia",models:["Ypsilon","Delta"]},{brand:"Citroën",models:["C3","C4","C5"]},{brand:"Citroën",models:["C3","C4","C5","Berlingo"]},{brand:"Peugeot",models:["208","308","3008","5008"]},{brand:"Renault",models:["Clio","Mégane","Captur","Kadjar"]},{brand:"DS Automobiles",models:["DS3","DS4","DS5"]},{brand:"Dacia",models:["Sandero","Duster","Logan"]},{brand:"SEAT",models:["Ibiza","León","Arona","Ateca","Tarraco"]},{brand:"Skoda",models:["Octavia","Superb","Karoq","Kodiaq"]},{brand:"Volkswagen Commercial Vehicles",models:["Transporter","Caddy","Crafter"]},{brand:"Mitsubishi Motors",models:["Outlander","ASX","Eclipse Cross"]},{brand:"Suzuki",models:["Swift","Vitara","Jimny"]},{brand:"Hino",models:["Dutro","Ranger","Poncho","Liesse"]},{brand:"Scania",models:["R-Series","S-Series","G-Series","P-Series"]},{brand:"MAN",models:["TGX","TGS","TGM","TGL"]},{brand:"Iveco",models:["Stralis","Eurocargo","Daily","Trakker"]},{brand:"Freightliner",models:["Cascadia","M2 106","Columbia","114SD"]},{brand:"Western Star",models:["4900","5700","4700","6900"]},{brand:"Peterbilt",models:["579","389","567","579 UltraLoft"]},{brand:"Kenworth",models:["T680","W990","T880","T800"]},{brand:"Mack Trucks",models:["Anthem","Granite","Pinnacle","LR"]},{brand:"International Trucks",models:["LT Series","RH Series","MV Series","HV Series"]},{brand:"Volvo Trucks",models:["VNL Series","VNR Series","VHD Series","VAH Series"]},{brand:"DAF Trucks",models:["XF","CF","LF"]},{brand:"FAW",models:["J7","Jiefang J6P","Jiefang JH6","Jiefang JH6"]},{brand:"JAC",models:["Sunray","N-Series","M5","T6"]},{brand:"Dongfeng Motor",models:["EQ2050","Dongfeng Warrior","Joyear","DFSK"]},{brand:"Changan Automobile",models:["CS","Raeton","Alsvin","Eado"]},{brand:"BYD",models:["Tang","Song","Yuan","Qin"]},{brand:"BAIC Group",models:["Senova","X","Weiwang","D50"]},{brand:"GAC Group",models:["Trumpchi","Aion","Gonow","Hino"]},{brand:"Great Wall Motors",models:["Haval","Wey","Ora","Great Wall"]},{brand:"Geely Auto",models:["Emgrand","Vision","Boyue","Coolray","Preface","Xingyue","Borui","Binrui","Jiaji","Star"]},{brand:"Zotye Auto",models:["T600","T700","SR9","SR7","E200","Z300","Z100","Z500","Z360","Z560"]},{brand:"Chery",models:["Tiggo 7","Tiggo 8","Tiggo 3X","Arrizo 5","Arrizo 6","Arrizo 7","Fulwin","QQ","eQ1","eQ5"]},{brand:"SAIC Motor",models:["MG ZS","MG Hector","MG RX5","MG 5","MG 6","Roewe RX3","Roewe RX5","Roewe RX8","Roewe i5","Roewe i6"]},{brand:"Changhe Auto",models:["Q25","Q35","Freedom M50","Q7","Q25L","Q7L","A6","A8","A5","Q6"]},{brand:"Lifan Group",models:["X70","X80","X60","Myway","650","520","820","530","720","330"]},{brand:"Wuling Motors",models:["Hong Guang","Rong Guang","Sunshine","Zhiguang","Future","Hongtu","Cortez","Confero","Formo","Almaz"]},{brand:"Haval",models:["H6","H9","H2","F7","F5","F7x","H4","H1","H5","Jolion"]},{brand:"Venucia",models:["T90","D60","Xing","R30","R50","T70","M30","E30","e30","D50"]},{brand:"NIO",models:["ES8","ES6","EC6","EP9","ET7","ET5","ET6","EP7","E10","EF9"]},{brand:"NIO",models:["ES8","ES6","EC6"]},{brand:"Xpeng Motors",models:["G3","P7"]},{brand:"WM Motor",models:["W5","W6"]},{brand:"Arcfox",models:["α-T","α-S"]},{brand:"Roewe",models:["i5","RX5","RX3"]},{brand:"Borgward",models:["BX7","BX5","BX6"]},{brand:"Foton",models:["Tunland","View","Sauvana"]},{brand:"King Long",models:["XMQ6900","XMQ6127","XMQ6119"]},{brand:"Sunlong",models:["SLK6112","SLK6793","SLK6752"]},{brand:"Yutong",models:["ZK6122","ZK6119","ZK6125"]}]);function u(c){const d=l.find(({brand:f})=>f==c);return d?d.models:[]}return(c,d)=>(V(),Ue(sf,null,{default:Fe(()=>[S("div",M9,[i.value?(V(),Ue(fa,{key:0,onCloseModal:d[1]||(d[1]=f=>i.value=!1),width:"sm:w-1/3 w-full",height:"h-1/3",showCloseIcon:!0},{default:Fe(()=>[S("div",N9,[V9,S("span",L9,[S("button",{type:"button",class:"mr-5 hover:opacity-80 hover:border-blue-700 border-gray-200 border-2 cursor-pointer rounded-lg text-blue-700 py-2 px-6 font-black text-xs",onClick:d[0]||(d[0]=f=>i.value=!1)},"CANCELAR"),S("button",{type:"button",class:"hover:opacity-80 cursor-pointer rounded-lg text-white bg-blue-700 py-2 px-6 font-black text-xs",onClick:a},"GUARDAR")])])]),_:1})):ie("",!0),$9,F9,S("form",U9,[B9,S("span",j9,[S("div",H9,[q9,ut(S("input",{id:"first-name","onUpdate:modelValue":d[2]||(d[2]=f=>g(n).firstName=f),type:"text",placeholder:"Ingresa tu nombre",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":g(n).meta.touched&&g(n).errors.firstName}]),style:{outline:"none"}},null,2),[[hn,g(n).firstName]]),g(n).meta.touched&&g(n).errors.firstName?(V(),Y("p",W9,Le(g(n).errors.firstName),1)):ie("",!0)]),S("div",z9,[G9,ut(S("input",{id:"last-name","onUpdate:modelValue":d[3]||(d[3]=f=>g(n).lastName=f),type:"text",placeholder:"Ingresa tus apellidos",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":g(n).meta.touched&&g(n).errors.lastName}]),style:{outline:"none"}},null,2),[[hn,g(n).lastName]]),g(n).meta.touched&&g(n).errors.lastName?(V(),Y("p",Y9,Le(g(n).errors.lastName),1)):ie("",!0)]),S("div",K9,[Q9,ut(S("input",{id:"phone","onUpdate:modelValue":d[4]||(d[4]=f=>g(n).phone=f),type:"tel",placeholder:"Ingresa tu número de teléfono",class:Ve(["pl-2 rounded-md",{"border-red-400 border-2 rounded-xs":g(n).meta.touched&&g(n).errors.phone}]),style:{outline:"none"}},null,2),[[hn,g(n).phone]]),g(n).meta.touched&&g(n).errors.phone?(V(),Y("p",X9,Le(g(n).errors.phone),1)):ie("",!0)])])]),S("form",J9,[S("span",Z9,[ej,S("button",{type:"button",onClick:d[5]||(d[5]=(...f)=>g(n).addCar&&g(n).addCar(...f)),class:"pointer-default hover:opacity-90 border-2 hover:border-blue-700 hover:bg-blue-100 hover:text-blue-700 text-blue-100 bg-blue-700 font-bold rounded-md px-4 py-1"},[It("Agregar automóvil "),tj])]),qe(yS,{name:"fade",tag:"ul",class:"w-full"},{default:Fe(()=>[(V(!0),Y(Me,null,ct(g(n).cars,(f,h)=>(V(),Y("li",{key:f.key,class:"flex flex-col justify-between items-center w-full"},[S("span",nj,[S("span",rj,[S("p",sj,"AUTO N° "+Le(h+1),1),S("button",{type:"button",onClick:p=>g(n).deleteCar(h),class:"ml-4 px-2 rounded-md text-md font-black hover:opacity-90 hover:bg-blue-700 hover:text-blue-100 text-blue-700 bg-blue-100"},[It("Quitar automóvil "),oj],8,ij)]),S("span",aj,[lj,S("p",uj,Le(g(JA)(f.value.useType,f.value.plate,String(f.value.year))),1)]),S("span",cj,[S("div",dj,[fj,ut(S("select",{id:"brand","onUpdate:modelValue":p=>f.value.brand=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":g(n).meta.touched&&g(n).errors[`cars.${h}.brand`]}]),style:{outline:"none"}},[(V(!0),Y(Me,null,ct(l,({brand:p},y)=>(V(),Y("option",{class:"text-xs",value:p,key:y},Le(p),9,pj))),128))],10,hj),[[ur,f.value.brand]]),g(n).meta.touched&&g(n).errors[`cars.${h}.brand`]?(V(),Y("p",mj,Le(g(n).errors[`cars.${h}.brand`]),1)):ie("",!0)]),S("div",gj,[vj,ut(S("select",{id:"model","onUpdate:modelValue":p=>f.value.model=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":g(n).meta.touched&&g(n).errors[`cars.${h}.model`]}]),style:{outline:"none"}},[(V(!0),Y(Me,null,ct(u(f.value.brand),(p,y)=>(V(),Y("option",{class:"text-xs",value:p,key:y},Le(p),9,_j))),128))],10,yj),[[ur,f.value.model]]),g(n).meta.touched&&g(n).errors[`cars.${h}.model`]?(V(),Y("p",bj,Le(g(n).errors[`cars[${h}].model`]),1)):ie("",!0)]),S("div",wj,[Tj,ut(S("input",{id:"model","onUpdate:modelValue":p=>f.value.plate=p,type:"text",class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400 border-2":g(n).meta.touched&&g(n).errors[`cars.${h}.plate`]}]),style:{outline:"none"}},null,10,Ej),[[hn,f.value.plate]]),g(n).meta.touched&&g(n).errors[`cars.${h}.plate`]?(V(),Y("p",Aj,Le(g(n).errors[`cars[${h}].plate`]),1)):ie("",!0)]),S("div",xj,[Ij,ut(S("select",{id:"fuel-type","onUpdate:modelValue":p=>f.value.useType=p,class:Ve(["pl-2 bg-white w-full rounded-md py-1 border-2 h-9",{"border-red-400":g(n).meta.touched&&g(n).errors[`cars.${h}.useType`]}]),style:{outline:"none"}},kj,10,Sj),[[ur,f.value.useType]]),g(n).meta.touched&&g(n).errors[`cars.${h}.useType`]?(V(),Y("p",Dj,Le(g(n).errors[`cars[${h}].useType`]),1)):ie("",!0)])]),S("span",Oj,[S("div",Mj,[Nj,qe(g(Mr),{"year-picker":"","auto-apply":"",id:"year",modelValue:f.value.year,"onUpdate:modelValue":p=>f.value.year=p,"input-class-name":"pl-2 bg-white rounded-md h-9",style:{outline:"none"},state:!(g(n).meta.touched&&g(n).errors[`cars.${h}.soatExpiry`])},null,8,["modelValue","onUpdate:modelValue","state"]),g(n).meta.touched&&g(n).errors[`cars.${h}.year`]?(V(),Y("p",Vj,Le(g(n).errors[`cars[${h}].year`]),1)):ie("",!0)]),S("div",Lj,[$j,ut(S("input",{id:"mileage","onUpdate:modelValue":p=>f.value.mileage=p,type:"number",class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":g(n).meta.touched&&g(n).errors[`cars.${h}.mileage`]}]),style:{outline:"none"}},null,10,Fj),[[hn,f.value.mileage]]),g(n).meta.touched&&g(n).errors[`cars.${h}.mileage`]?(V(),Y("p",Uj,Le(g(n).errors[`cars.${h}.mileage`]),1)):ie("",!0)]),S("div",Bj,[jj,ut(S("select",{id:"fuel-type","onUpdate:modelValue":p=>f.value.fuelType=p,class:Ve(["pl-2 bg-white rounded-md py-1 border-2 h-9",{"border-red-400":g(n).meta.touched&&g(n).errors[`cars.${h}.fuelType`]}]),style:{outline:"none"}},Kj,10,Hj),[[ur,f.value.fuelType]]),g(n).meta.touched&&g(n).errors[`cars.${h}.fuelType`]?(V(),Y("p",Qj,Le(g(n).errors[`cars[${h}].fuelType`]),1)):ie("",!0)])]),S("span",Xj,[S("div",Jj,[Zj,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:f.value.soatExpiry,"onUpdate:modelValue":p=>f.value.soatExpiry=p,"input-class-name":"pl-2 bg-white rounded-lg",style:{outline:"none"},state:!(g(n).meta.touched&&g(n).errors[`cars.${h}.soatExpiry`])},null,8,["modelValue","onUpdate:modelValue","state"]),g(n).meta.touched&&g(n).errors[`cars.${h}.soatExpiry`]?(V(),Y("p",e7,Le(g(n).errors[`cars.${h}.soatExpiry`]),1)):ie("",!0)]),["gnv","glp"].includes(f.value.fuelType)?(V(),Y("div",t7,[n7,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:f.value.ngvLpgCertificationDate,"onUpdate:modelValue":p=>f.value.ngvLpgCertificationDate=p,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"},state:!(g(n).meta.touched&&g(n).errors[`cars.${h}.ngvLpgCertificationDate`])},null,8,["modelValue","onUpdate:modelValue","state"]),g(n).meta.touched&&g(n).errors[`cars.${h}.ngvLpgCertificationDate`]?(V(),Y("p",r7,Le(g(n).errors[`cars.${h}.ngvLpgCertificationDate`]),1)):ie("",!0)])):ie("",!0),S("div",s7,[i7,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:f.value.vehicleInspectionDate,"onUpdate:modelValue":p=>f.value.vehicleInspectionDate=p,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"},state:!(g(n).meta.touched&&g(n).errors[`cars.${h}.vehicleInspectionDate`])},null,8,["modelValue","onUpdate:modelValue","state"]),g(n).meta.touched&&g(n).errors[`cars.${h}.vehicleInspectionDate`]?(V(),Y("p",o7,Le(g(n).errors[`cars.${h}.vehicleInspectionDate`]),1)):ie("",!0)])])]),h!=g(n).cars.length-1&&g(n).cars.length>0?(V(),Y("div",a7)):ie("",!0)]))),128))]),_:1})]),S("button",{disabled:g(n).isSubmitting,type:"button",onClick:o,class:"w-11/12 flex flex-row justify-center items-center mx-5 mb-3 p-1 rounded-md bg-blue-700 hover:opacity-80 text-blue-50 font-bold"},Le(g(n).isSubmitting?"ENVIANDO...":"GUARDAR"),9,l7)])]),_:1}))}}),c7=S("h1",{class:"text-left pl-5 text-2xl text-blue-700 font-bold my-4"},"PANEL ADMINISTRATIVO",-1),d7={class:"flex flex-row justify-center items-center mb-5"},f7={key:0,class:"mb-4 rounded-xs w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 rounded-xs px-4 py-5 drop-shadow-md"},h7=S("h2",{class:"text-lg text-left font-bold mb-6 text-blue-700"},"Información de contacto",-1),p7={class:"text-lg font-black mb-6"},m7={class:"flex sm:flex-row flex-col justify-between w-full items-baseline"},g7={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},v7=S("label",{for:"first-name",class:"font-bold text-xs mb-1"},"Nombres*",-1),y7={class:"mb-4 sm:mb-0 sm:mr-3 flex flex-col w-full"},_7=S("label",{for:"last-name",class:"font-bold text-xs mb-1"},"Apellidos*",-1),b7={class:"flex flex-col w-full"},w7=S("label",{for:"phone",class:"font-bold text-xs mb-1"},"Teléfono*",-1),T7={key:1,class:"mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},E7={class:"flex flex-col justify-between items-center w-full bg-rose-50 px-2 py-2"},A7={class:"w-full flex flex-row justify-between items-center mb-4"},x7={class:"text-xl text-left text-blue-700 font-black"},I7={class:"w-full flex flex-row justify-start items-center ml-5 mt-4 mb-10"},S7=S("p",{class:"text-md text-left text-blue-700 font-black mr-3"},"Próxima revisión técnica:",-1),C7={class:"text-md text-left text-gray-700 font-bold"},P7={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},R7={class:"flex flex-col mb-2 w-full sm:mr-2"},k7=S("label",{for:"brand",class:"font-bold text-xs mb-1"},"Marca",-1),D7=["onUpdate:modelValue"],O7=["value"],M7={class:"flex flex-col mb-2 w-full sm:mr-2"},N7=S("label",{for:"model",class:"font-bold text-xs mb-1"},"Modelo",-1),V7=["onUpdate:modelValue"],L7=["value"],$7={class:"flex flex-col mb-2 w-full sm:mr-2"},F7=S("label",{for:"model",class:"font-bold text-xs mb-1"},"Placa",-1),U7=["onUpdate:modelValue"],B7={class:"flex flex-col sm:mb-2 w-full"},j7=S("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de uso",-1),H7=["onUpdate:modelValue"],q7=S("option",{class:"text-xs",value:"privateUse"},"Particular",-1),W7=S("option",{class:"text-xs",value:"serviceUse"},"De servicios",-1),z7=S("option",{class:"text-xs",value:"serviceUse:peopleTransportation"},"De servicios: transportes de personas",-1),G7=[q7,W7,z7],Y7={class:"w-full flex sm:flex-row flex-col justify-between items-baseline sm:mb-2"},K7={class:"flex flex-col mb-2 w-full mr-1"},Q7=S("label",{for:"year",class:"font-bold text-xs mb-1"},"Año",-1),X7={class:"flex flex-col mb-2 w-full mr-1 ml-1"},J7=S("label",{for:"mileage",class:"font-bold text-xs mb-1"},"Kilometraje Actual",-1),Z7=["onUpdate:modelValue"],eH={class:"flex flex-col mb-2 w-full ml-1"},tH=S("label",{for:"fuel-type",class:"font-bold text-xs mb-1"},"Tipo de Combustible",-1),nH=["onUpdate:modelValue"],rH=S("option",{class:"text-xs",value:"gasolina"},"Gasolina",-1),sH=S("option",{class:"text-xs",value:"gnv"},"GNV",-1),iH=S("option",{class:"text-xs",value:"glp"},"GLP",-1),oH=S("option",{class:"text-xs",value:"diesel"},"Diésel",-1),aH=S("option",{class:"text-xs",value:"hibrido"},"Híbrido",-1),lH=[rH,sH,iH,oH,aH],uH={class:"w-full flex sm:flex-row flex-col justify-between items-baseline"},cH={class:"flex flex-col mb-2 w-full mr-1"},dH=S("label",{for:"soat-expiry",class:"font-bold text-xs mb-1"},"Fecha vencimiento SOAT",-1),fH={key:0,class:"flex flex-col mb-2 w-full mr-1 ml-1"},hH=S("label",{for:"annual-inspection",class:"font-bold text-xs mb-1"},"Fecha certificación GNV/GLP",-1),pH={class:"flex flex-col mb-2 w-full ml-1"},mH=S("label",{for:"technical-inspection",class:"font-bold text-xs mb-1"},"Fecha revisión vehicular",-1),gH={key:0,class:"h-0.5 w-full my-8 bg-sky-50"},vH={key:3,class:"text-center font-black mb-4 w-11/12 mx-5 p-5 flex flex-col justify-center items-start bg-rose-100 px-4 py-5 drop-shadow-md"},yH=nt({__name:"AdminPanel",setup(t){const e=en([{brand:"Toyota",models:["Corolla","Camry","Rav4","Yaris","Highlander","Tacoma","Sienna","4Runner","Prius","Tundra","Land Cruiser","Avalon","Sequoia"]},{brand:"Honda",models:["Civic","Accord","CR-V","Pilot","Odyssey","HR-V","Fit","Ridgeline","Passport","Insight","Clarity"]},{brand:"Ford",models:["F-150","Escape","Explorer","Focus","Mustang","Edge","Fusion","Ranger","Expedition","EcoSport","Taurus","Flex","Transit"]},{brand:"Chevrolet",models:["Silverado","Equinox","Malibu","Cruze","Traverse","Tahoe","Suburban","Colorado","Impala","Blazer","Express","Trax","Sonic","Volt"]},{brand:"Nissan",models:["Altima","Rogue","Sentra","Frontier","Pathfinder","Versa","Murano","Titan","Maxima","Armada","Leaf","Kicks","NV","370Z"]},{brand:"Hyundai",models:["Elantra","Sonata","Tucson","Santa Fe","Kona","Veloster","Accent","Palisade","Venue","Nexo","Ioniq"]},{brand:"Volkswagen",models:["Jetta","Passat","Tiguan","Atlas","Golf","Arteon","Touareg","ID.4","ID.3","Golf GTI","T-Cross","Polo","Amarok","Teramont"]},{brand:"BMW",models:["3 Series","5 Series","X3","X5","7 Series","X1","X7","X6","4 Series","Z4","8 Series","i3","i8","M2"]},{brand:"Mercedes-Benz",models:["C-Class","E-Class","GLC","GLE","S-Class","A-Class","GLA","GLB","CLA","G-Class","SLC","GLS","SL","EQC"]},{brand:"Audi",models:["A4","Q5","A6","Q7","A3","Q3","A5","A7","Q8","e-tron","TT","A8","RS 3","S3"]},{brand:"Subaru",models:["Impreza","Forester","Outback","Legacy","Crosstrek","WRX","Ascent"]},{brand:"Kia",models:["Optima","Sorento","Sportage","Forte","Soul","Telluride","Rio"]},{brand:"Lexus",models:["RX","ES","NX","IS","GX","LS","UX"]},{brand:"Mazda",models:["Mazda3","Mazda6","CX-5","CX-9","MX-5 Miata","CX-3","CX-30"]},{brand:"Jeep",models:["Wrangler","Grand Cherokee","Cherokee","Renegade","Compass","Gladiator","Wagoneer"]},{brand:"Ram",models:["1500","2500","3500","Promaster","Promaster City","Chassis Cab"]},{brand:"GMC",models:["Sierra","Acadia","Terrain","Yukon","Canyon","Savana","Envoy"]},{brand:"Tesla",models:["Model S","Model 3","Model X","Model Y","Roadster"]},{brand:"Volvo",models:["S60","XC60","XC90","S90","XC40","V60","V90"]},{brand:"Cadillac",models:["Escalade","CTS","XT5","XT4","CT6","XT6","ATS"]},{brand:"Dodge",models:["Challenger","Charger","Durango","Journey","Grand Caravan","Dart","Ram 1500","Ram 2500","Ram 3500","Viper"]},{brand:"Buick",models:["Encore","Enclave","Regal","Lacrosse","Verano","Cascada","Envision","Century","Rendezvous","Park Avenue"]},{brand:"Acura",models:["TLX","MDX","RDX","ILX","RLX","NSX","RSX","CL","TSX","Integra"]},{brand:"Infiniti",models:["Q50","QX60","QX80","Q60","QX50","Q70","QX30","QX70","G35","FX35"]},{brand:"Lincoln",models:["MKZ","Navigator","Nautilus","Aviator","Continental","Corsair","MKX","Town Car","MKS","Mark LT"]},{brand:"Land Rover",models:["Range Rover","Discovery","Evoque","Defender","Velar","Sport","Freelander","Discovery Sport","LR4","LR2"]},{brand:"Jaguar",models:["XE","F-Pace","I-Pace","XF","XJ","E-Pace","S-Type","X-Type","XK","XKR"]},{brand:"Porsche",models:["911","Cayenne","Panamera","Macan","Boxster","Cayman","Taycan","918 Spyder","944","928"]},{brand:"Fiat",models:["500","500X","500L","124 Spider","Punto","Doblo","Tipo","Panda","Qubo","Uno"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","Mirage","Pajero","Lancer","ASX","Montero","Strada","Galant","Attrage"]},{brand:"Fiat",models:["500","Panda","Tipo","Punto","500X"]},{brand:"Mitsubishi",models:["Outlander","Eclipse Cross","L200","ASX","Pajero Sport"]},{brand:"Chrysler",models:["300","Pacifica","Voyager","Aspen","PT Cruiser"]},{brand:"Mini",models:["Cooper","Countryman","Clubman","Convertible","Paceman"]},{brand:"Alfa Romeo",models:["Giulia","Stelvio","4C","Giulietta","MiTo"]},{brand:"Genesis",models:["G70","G80","G90"]},{brand:"Smart",models:["Fortwo","Forfour","Roadster"]},{brand:"Aston Martin",models:["DB11","Vantage","DBS Superleggera","Rapide","DBX"]},{brand:"Ferrari",models:["488","812 Superfast","Portofino","Roma","SF90 Stradale"]},{brand:"Maserati",models:["Ghibli","Quattroporte","Levante","GranTurismo","GranCabrio"]},{brand:"Bugatti",models:["Chiron","Veyron","Divo"]},{brand:"McLaren",models:["720S","570S","P1"]},{brand:"Rolls-Royce",models:["Phantom","Cullinan","Ghost"]},{brand:"Bentley",models:["Continental GT","Bentayga","Flying Spur"]},{brand:"Lotus",models:["Evora","Elise","Exige"]},{brand:"Maybach",models:["S-Class","GLS"]},{brand:"Pagani",models:["Huayra","Zonda"]},{brand:"Abarth",models:["595","124 Spider"]},{brand:"Lancia",models:["Ypsilon","Delta"]},{brand:"Citroën",models:["C3","C4","C5"]},{brand:"Citroën",models:["C3","C4","C5","Berlingo"]},{brand:"Peugeot",models:["208","308","3008","5008"]},{brand:"Renault",models:["Clio","Mégane","Captur","Kadjar"]},{brand:"DS Automobiles",models:["DS3","DS4","DS5"]},{brand:"Dacia",models:["Sandero","Duster","Logan"]},{brand:"SEAT",models:["Ibiza","León","Arona","Ateca","Tarraco"]},{brand:"Skoda",models:["Octavia","Superb","Karoq","Kodiaq"]},{brand:"Volkswagen Commercial Vehicles",models:["Transporter","Caddy","Crafter"]},{brand:"Mitsubishi Motors",models:["Outlander","ASX","Eclipse Cross"]},{brand:"Suzuki",models:["Swift","Vitara","Jimny"]},{brand:"Hino",models:["Dutro","Ranger","Poncho","Liesse"]},{brand:"Scania",models:["R-Series","S-Series","G-Series","P-Series"]},{brand:"MAN",models:["TGX","TGS","TGM","TGL"]},{brand:"Iveco",models:["Stralis","Eurocargo","Daily","Trakker"]},{brand:"Freightliner",models:["Cascadia","M2 106","Columbia","114SD"]},{brand:"Western Star",models:["4900","5700","4700","6900"]},{brand:"Peterbilt",models:["579","389","567","579 UltraLoft"]},{brand:"Kenworth",models:["T680","W990","T880","T800"]},{brand:"Mack Trucks",models:["Anthem","Granite","Pinnacle","LR"]},{brand:"International Trucks",models:["LT Series","RH Series","MV Series","HV Series"]},{brand:"Volvo Trucks",models:["VNL Series","VNR Series","VHD Series","VAH Series"]},{brand:"DAF Trucks",models:["XF","CF","LF"]},{brand:"FAW",models:["J7","Jiefang J6P","Jiefang JH6","Jiefang JH6"]},{brand:"JAC",models:["Sunray","N-Series","M5","T6"]},{brand:"Dongfeng Motor",models:["EQ2050","Dongfeng Warrior","Joyear","DFSK"]},{brand:"Changan Automobile",models:["CS","Raeton","Alsvin","Eado"]},{brand:"BYD",models:["Tang","Song","Yuan","Qin"]},{brand:"BAIC Group",models:["Senova","X","Weiwang","D50"]},{brand:"GAC Group",models:["Trumpchi","Aion","Gonow","Hino"]},{brand:"Great Wall Motors",models:["Haval","Wey","Ora","Great Wall"]},{brand:"Geely Auto",models:["Emgrand","Vision","Boyue","Coolray","Preface","Xingyue","Borui","Binrui","Jiaji","Star"]},{brand:"Zotye Auto",models:["T600","T700","SR9","SR7","E200","Z300","Z100","Z500","Z360","Z560"]},{brand:"Chery",models:["Tiggo 7","Tiggo 8","Tiggo 3X","Arrizo 5","Arrizo 6","Arrizo 7","Fulwin","QQ","eQ1","eQ5"]},{brand:"SAIC Motor",models:["MG ZS","MG Hector","MG RX5","MG 5","MG 6","Roewe RX3","Roewe RX5","Roewe RX8","Roewe i5","Roewe i6"]},{brand:"Changhe Auto",models:["Q25","Q35","Freedom M50","Q7","Q25L","Q7L","A6","A8","A5","Q6"]},{brand:"Lifan Group",models:["X70","X80","X60","Myway","650","520","820","530","720","330"]},{brand:"Wuling Motors",models:["Hong Guang","Rong Guang","Sunshine","Zhiguang","Future","Hongtu","Cortez","Confero","Formo","Almaz"]},{brand:"Haval",models:["H6","H9","H2","F7","F5","F7x","H4","H1","H5","Jolion"]},{brand:"Venucia",models:["T90","D60","Xing","R30","R50","T70","M30","E30","e30","D50"]},{brand:"NIO",models:["ES8","ES6","EC6","EP9","ET7","ET5","ET6","EP7","E10","EF9"]},{brand:"NIO",models:["ES8","ES6","EC6"]},{brand:"Xpeng Motors",models:["G3","P7"]},{brand:"WM Motor",models:["W5","W6"]},{brand:"Arcfox",models:["α-T","α-S"]},{brand:"Roewe",models:["i5","RX5","RX3"]},{brand:"Borgward",models:["BX7","BX5","BX6"]},{brand:"Foton",models:["Tunland","View","Sauvana"]},{brand:"King Long",models:["XMQ6900","XMQ6127","XMQ6119"]},{brand:"Sunlong",models:["SLK6112","SLK6793","SLK6752"]},{brand:"Yutong",models:["ZK6122","ZK6119","ZK6125"]}]),n=ae(!1),r=ae("");let s=en({id:"",uid:"",firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}]});function i(u){const c=e.find(({brand:d})=>d==u);return c?c.models:[]}async function o(){if(r.value){const u=fp(Ja,"users"),c=k1(u,D1("uid","==",r.value)),d=await M1(c);d.docs.map(f=>{Object.assign(s,{...f.data(),id:f.id})}),d.docs.length==0&&Object.assign(s,{id:"",uid:"",firstName:"",lastName:"",phone:"",cars:[{brand:"",model:"",year:new Date().getFullYear(),mileage:"",fuelType:"gasolina",soatExpiry:"",ngvLpgCertificationDate:"",vehicleInspectionDate:"",useType:"private",plate:""}]})}}async function a(){try{n.value=!0;const u={firstName:s.firstName,lastName:s.lastName,phone:s.phone,cars:s.cars},c=cg(Ja,"users",s.id);await N1(c,u),n.value=!1}catch(u){throw n.value=!1,u}finally{alert("LOS DATOS SE ACTUALIZARON CON ÉXITO")}}async function l(){confirm("¿DESEAS CONTINUAR?")&&await a()}return(u,c)=>(V(),Ue(sf,null,{default:Fe(()=>[c7,S("span",d7,[ut(S("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d),placeholder:"Ingresa un UID",class:"w-1/3 pl-2 bg-white rounded-md py-1 border-2 h-9"},null,512),[[hn,r.value]]),S("button",{class:"pointer-default hover:opacity-90 border-2 hover:border-blue-700 hover:bg-blue-100 hover:text-blue-700 text-blue-100 bg-blue-700 font-bold rounded-md px-4 py-1",onClick:o},"OBTENER USUARIO")]),g(s).uid&&!n.value?(V(),Y("form",f7,[h7,S("p",p7,"UID: "+Le(g(s).uid||"-"),1),S("span",m7,[S("div",g7,[v7,ut(S("input",{id:"first-name","onUpdate:modelValue":c[1]||(c[1]=d=>g(s).firstName=d),type:"text",placeholder:"Ingresa tu nombre",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,g(s).firstName]])]),S("div",y7,[_7,ut(S("input",{id:"last-name","onUpdate:modelValue":c[2]||(c[2]=d=>g(s).lastName=d),type:"text",placeholder:"Ingresa tus apellidos",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,g(s).lastName]])]),S("div",b7,[w7,ut(S("input",{id:"phone","onUpdate:modelValue":c[3]||(c[3]=d=>g(s).phone=d),type:"tel",placeholder:"Ingresa tu número de teléfono",class:"pl-2 rounded-md",style:{outline:"none"}},null,512),[[hn,g(s).phone]])])])])):ie("",!0),g(s).uid&&!n.value?(V(),Y("form",T7,[(V(!0),Y(Me,null,ct(g(s).cars,(d,f)=>(V(),Y("li",{key:f,class:"flex flex-col justify-between items-center w-full"},[S("span",E7,[S("span",A7,[S("p",x7,"AUTO N° "+Le(f+1),1)]),S("span",I7,[S7,S("p",C7,Le(g(JA)(d.useType,d.plate,String(d.year))),1)]),S("span",P7,[S("div",R7,[k7,ut(S("select",{id:"brand","onUpdate:modelValue":h=>d.brand=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},[(V(!0),Y(Me,null,ct(e,({brand:h},p)=>(V(),Y("option",{class:"text-xs",value:h,key:p},Le(h),9,O7))),128))],8,D7),[[ur,d.brand]])]),S("div",M7,[N7,ut(S("select",{id:"model","onUpdate:modelValue":h=>d.model=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},[(V(!0),Y(Me,null,ct(i(d.brand),(h,p)=>(V(),Y("option",{class:"text-xs",value:h,key:p},Le(h),9,L7))),128))],8,V7),[[ur,d.model]])]),S("div",$7,[F7,ut(S("input",{id:"model","onUpdate:modelValue":h=>d.plate=h,type:"text",class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},null,8,U7),[[hn,d.plate]])]),S("div",B7,[j7,ut(S("select",{id:"fuel-type","onUpdate:modelValue":h=>d.useType=h,class:"pl-2 bg-white w-full rounded-md py-1 border-2 h-9",style:{outline:"none"}},G7,8,H7),[[ur,d.useType]])])]),S("span",Y7,[S("div",K7,[Q7,qe(g(Mr),{"year-picker":"","auto-apply":"",id:"year",modelValue:d.year,"onUpdate:modelValue":h=>d.year=h,"input-class-name":"pl-2 bg-white rounded-md h-9",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])]),S("div",X7,[J7,ut(S("input",{id:"mileage","onUpdate:modelValue":h=>d.mileage=h,type:"number",class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},null,8,Z7),[[hn,d.mileage]])]),S("div",eH,[tH,ut(S("select",{id:"fuel-type","onUpdate:modelValue":h=>d.fuelType=h,class:"pl-2 bg-white rounded-md py-1 border-2 h-9",style:{outline:"none"}},lH,8,nH),[[ur,d.fuelType]])])]),S("span",uH,[S("div",cH,[dH,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.soatExpiry,"onUpdate:modelValue":h=>d.soatExpiry=h,"input-class-name":"pl-2 bg-white rounded-lg",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])]),["gnv","glp"].includes(d.fuelType)?(V(),Y("div",fH,[hH,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.ngvLpgCertificationDate,"onUpdate:modelValue":h=>d.ngvLpgCertificationDate=h,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])])):ie("",!0),S("div",pH,[mH,qe(g(Mr),{"enable-time-picker":!1,"auto-apply":"",modelValue:d.vehicleInspectionDate,"onUpdate:modelValue":h=>d.vehicleInspectionDate=h,"input-class-name":"pl-2 bg-white rounded-md",style:{outline:"none"}},null,8,["modelValue","onUpdate:modelValue"])])])]),f!=g(s).cars.length-1&&g(s).cars.length>0?(V(),Y("div",gH)):ie("",!0)]))),128))])):ie("",!0),g(s).uid&&!n.value?(V(),Y("button",{key:2,type:"button",onClick:l,class:"w-11/12 flex flex-row justify-center items-center mx-5 mb-3 p-1 rounded-md bg-blue-700 hover:opacity-80 text-blue-50 font-bold"},"GUARDAR")):ie("",!0),n.value?(V(),Y("div",vH,"A C T U A L I Z A N D O ...")):ie("",!0)]),_:1}))}}),_H=RR({history:oR("/"),routes:[{path:"/",name:"Home",redirect:"/all-services"},{path:"/all-services",name:"AllServices",component:v5},{path:"/car-wash-services",name:"CarWashServices",component:x5},{path:"/profile",name:"Profile",component:u7},{path:"/admin-panel",name:"AdminPanel",component:yH}]}),df=Eh(r3);df.use(kS());df.use(_H);df.use(PP,{directive:"tippy",component:"tippy",componentSingleton:"tippy-singleton",defaultProps:{placement:"auto-end",allowHTML:!0,arrow:!0}});df.mount("#app");
